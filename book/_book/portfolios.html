<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.38">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Modern Investments: Theory, Data, and Practice - 4&nbsp; Risk and Return of Portfolios</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./fixed-income.html" rel="next">
<link href="./returns.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-2.14.0.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Risk and Return of Portfolios</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Modern Investments: Theory, Data, and Practice</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./miracle.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Miracle of Compound Interest</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./funds.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Asset Classes and Funds</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./returns.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Asset Returns</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./portfolios.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Risk and Return of Portfolios</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fixed-income.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fixed Income</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#portfolio-statistics" id="toc-portfolio-statistics" class="nav-link active" data-scroll-target="#portfolio-statistics"> <span class="header-section-number">4.1</span> Portfolio Statistics</a>
  <ul class="collapse">
  <li><a href="#expected-return" id="toc-expected-return" class="nav-link" data-scroll-target="#expected-return"> <span class="header-section-number">4.1.1</span> Expected Return</a></li>
  <li><a href="#variance-and-standard-deviation" id="toc-variance-and-standard-deviation" class="nav-link" data-scroll-target="#variance-and-standard-deviation"> <span class="header-section-number">4.1.2</span> Variance and Standard Deviation</a></li>
  <li><a href="#covariance-and-correlation" id="toc-covariance-and-correlation" class="nav-link" data-scroll-target="#covariance-and-correlation"> <span class="header-section-number">4.1.3</span> Covariance and Correlation</a></li>
  </ul></li>
  <li><a href="#preferences" id="toc-preferences" class="nav-link" data-scroll-target="#preferences"> <span class="header-section-number">4.2</span> Preferences</a></li>
  <li><a href="#allocating-capital-between-a-risky-asset-and-a-risk-free-asset" id="toc-allocating-capital-between-a-risky-asset-and-a-risk-free-asset" class="nav-link" data-scroll-target="#allocating-capital-between-a-risky-asset-and-a-risk-free-asset"> <span class="header-section-number">4.3</span> Allocating Capital Between a Risky Asset and a Risk-free Asset</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Risk and Return of Portfolios</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>Porfolios are combinations of underlying assets. In this chapter, we will explore the risk and return of portfolios and how we can form optimal portfolios. Our discussion will focus on the expected return and standard deviation of portfolio.</p>
<section id="portfolio-statistics" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="portfolio-statistics"><span class="header-section-number">4.1</span> Portfolio Statistics</h2>
<section id="expected-return" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="expected-return"><span class="header-section-number">4.1.1</span> Expected Return</h3>
<p>The expected return of a portfolio is simply the weighted sum of the expected returns of each asset in the portfolio, where the weights are fraction of capital invested in each asset:</p>
<p><span class="math display">\[ E[r_p] = \sum_{i=1}^{N} w_i E[r_i] \]</span></p>
<p>Unless otherwise stated, we will assume the portfolio is fully invested; that is, that <span class="math inline">\(\sum_i w_i = 1\)</span>. We will occasionally use the notation <span class="math inline">\(E(r_i)=\mu_i\)</span>.</p>
</section>
<section id="variance-and-standard-deviation" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="variance-and-standard-deviation"><span class="header-section-number">4.1.2</span> Variance and Standard Deviation</h3>
<p>To measure the variability of the portfolio return, we will alternatively work with the portfolio variance or the portfolio standard deviation. The portfolio variance of an <span class="math inline">\(N\)</span>-asset portfolio is:</p>
<p><span class="math display">\[ \text{var}[r_p] = \sum_{i=1}^{N} \sum_{j=1}^{N} w_i w_j \text{cov}[r_i,r_j]\,,\]</span></p>
<p>where <span class="math inline">\(\text{cov}[r_i,r_j]\)</span> is the covariance between assets <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>. Of course, the portfolio standard deviation is simply the square root of the portfolio variance. We will occasionally use the notation <span class="math inline">\(\sigma^2_p\)</span> to represent portfolio variance, <span class="math inline">\(\sigma_{i,j}\)</span> for the covariance between the returns of assets <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>, and <span class="math inline">\(\sigma_p\)</span> for the standard deviation of portfolio <span class="math inline">\(p\)</span>’s return.</p>
Some insights into the portfolio variance can be obtained by considering each term in matrix view. The nine terms in the three asset case are:

<table border="1">
<!-- Row 1 -->
<tbody><tr>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_1 w_1 \text{cov}[r_1,r_1]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_1 w_2 \text{cov}[r_1,r_2]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_1 w_3 \text{cov}[r_1,r_3]\)</span>
</td>
</tr>
<!-- Row 2 -->
<tr>
<td style="text-align:center">
<span class="math inline">\(w_2 w_1 \text{cov}[r_2,r_1]\)</span>
</td>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_2 w_2 \text{cov}[r_2,r_2]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_2 w_3 \text{cov}[r_2,r_3]\)</span>
</td>
</tr>
<!-- Row 3 -->
<tr>
<td style="text-align:center">
<span class="math inline">\(w_3 w_1 \text{cov}[r_3,r_1]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_3 w_2 \text{cov}[r_3,r_2]\)</span>
</td>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_3 w_3 \text{cov}[r_3,r_3]\)</span>
</td>
</tr>

</tbody></table>
The shaded cells along the diagonal contain covariances of an asset return with itself. These are variance terms, so the diagonal can be rewritten as:

<table border="1">
<!-- Row 1 -->
<tbody><tr>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_1^2 \text{var}[r_1]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_1 w_2 \text{cov}[r_1,r_2]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_1 w_3 \text{cov}[r_1,r_3]\)</span>
</td>
</tr>
<!-- Row 2 -->
<tr>
<td style="text-align:center">
<span class="math inline">\(w_2 w_1 \text{cov}[r_2,r_1]\)</span>
</td>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_2^2 \text{var}[r_2]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_2 w_3 \text{cov}[r_2,r_3]\)</span>
</td>
</tr>
<!-- Row 3 -->
<tr>
<td style="text-align:center">
<span class="math inline">\(w_3 w_1 \text{cov}[r_3,r_1]\)</span>
</td>
<td style="text-align:center">
<span class="math inline">\(w_3 w_2 \text{cov}[r_3,r_2]\)</span>
</td>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_3^2 \text{var}[r_3]\)</span>
</td>
</tr>

</tbody></table>
Further simplication is possible by looking at same-colored pairs of elements in the matrix below.<br>


<table border="1">
<!-- Row 1 -->
<tbody><tr>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_1^2 \text{var}[r_1]\)</span>
</td>
<td style="text-align:center; background-color:lightblue">
<span class="math inline">\(w_1 w_2 \text{cov}[r_1,r_2]\)</span>
</td>
<td style="text-align:center; background-color:lightcoral">
<span class="math inline">\(w_1 w_3 \text{cov}[r_1,r_3]\)</span>
</td>
</tr>
<!-- Row 2 -->
<tr>
<td style="text-align:center; background-color:lightblue">
<span class="math inline">\(w_2 w_1 \text{cov}[r_2,r_1]\)</span>
</td>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_2^2 \text{var}[r_2]\)</span>
</td>
<td style="text-align:center; background-color:#d9f2d9">
<span class="math inline">\(w_2 w_3 \text{cov}[r_2,r_3]\)</span>
</td>
</tr>
<!-- Row 3 -->
<tr>
<td style="text-align:center; background-color:lightcoral">
<span class="math inline">\(w_3 w_1 \text{cov}[r_3,r_1]\)</span>
</td>
<td style="text-align:center; background-color:#d9f2d9">
<span class="math inline">\(w_3 w_2 \text{cov}[r_3,r_2]\)</span>
</td>
<td style="text-align:center; background-color:gray">
<span class="math inline">\(w_3^2 \text{var}[r_3]\)</span>
</td>
</tr>

</tbody></table>
<p>The two terms in each pair have the same value because <span class="math inline">\(\text{cov}[r_i,r_j]=\text{cov}[r_j,r_i]\)</span>. Thus, the portfolio variance can be rewritten as:</p>
<p><span class="math display">\[ \text{var}[r_p] = \sum_{i=1}^{N} w_i^2 \text{var}[r_i]+ 2 \sum_{i=1}^{N} \sum_{j&gt;i} w_i w_j \text{cov}[r_i,r_j]\,.\]</span></p>
<section id="calculating-porfolio-variance" class="level4" data-number="4.1.2.1">
<h4 data-number="4.1.2.1" class="anchored" data-anchor-id="calculating-porfolio-variance"><span class="header-section-number">4.1.2.1</span> Calculating Porfolio Variance</h4>
<p>Calculating each term and adding them up can quickly become tedious. Given a covariance matrix <span class="math inline">\(V\)</span>: <span class="math display">\[\begin{equation*}
    V =
    \begin{bmatrix}
        \text{var}[r_1]     &amp; \text{cov}[r_1,r_2] &amp; \dots  &amp; \text{cov}[r_1,r_N] \\
        \text{cov}[r_2,r_1] &amp; \text{var}[r_2]     &amp; \dots  &amp; \text{cov}[r_2,r_N] \\
        \vdots              &amp; \vdots              &amp; \ddots &amp;  \vdots \\
        \text{cov}[r_N,r_1] &amp; \text{cov}[r_N,r_2] &amp; \dots  &amp; \text{var}[r_N] \\
    \end{bmatrix}
\end{equation*}\]</span> and a vector of weights</p>
<p><span class="math display">\[w'=[w_1\, w_2\,...\,w_N]\,,\]</span></p>
<p>we can calculate the portfolio variance as the matrix product</p>
<p><span class="math display">\[ \text{var}[r_p] = w'Vw \,.\]</span></p>
<p>In python, this can be accomplished using the w’ @ V @ w. In Excel, the command is =MMULT(TRANSPOSE(w),MMULT(V,w)).</p>
<p>Alternatively, we can use the bordered covariance method. ADD EXCEL SNIPPET HERE?</p>
</section>
</section>
<section id="covariance-and-correlation" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="covariance-and-correlation"><span class="header-section-number">4.1.3</span> Covariance and Correlation</h3>
<p>When measuring comovement across assets, we will use either the covariance, an absolute measure of comovement, or correlation, which is scaled by the product of each asset’s standard deviations:</p>
<p><span class="math display">\[ \text{corr}[r_i,r_j] = \rho_{ij} = \frac{\text{cov}[r_i,r_j]}{\text{sd}[r_i]\cdot\text{sd}[r_j]}\,.\]</span></p>
<p>Correlations range between -1 (perfectly negatively correlated) and 1 (perfectly correlated). Covariances, on the other hand, can take any values.</p>
</section>
</section>
<section id="preferences" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="preferences"><span class="header-section-number">4.2</span> Preferences</h2>
<p>In order to make statements about “optimal” portfolios, we need to describe the preferences of investors in some way. A standard way to do so is to use mean-variance utility. Simply put, we will assume that investors like higher expected returns and dislike portfolios with riskier returns. The amount of extra expected return needed for an investor to take on additional risk is governed by the investor’s risk aversion, which we will denote <span class="math inline">\(A\)</span>.</p>
<p>Mathematically, mean-variance utility for a given portfolio return <span class="math inline">\(r_p\)</span> is:</p>
<p><span class="math display">\[ U(r_p)=E[r_p] - 0.5\cdot A \cdot \text{var}[r_p]\,.\]</span></p>
<p>The utility of a risky investment is simply its expected return minus a penalty for variance. More risk averse investors have higher values for <span class="math inline">\(A\)</span>, meaning that they put greater penalties on variance. <a href="#fig-indifference0">Figure&nbsp;<span>4.1</span></a> shows indifference curves for three different levels of risk aversion, but the same level of utility. A higher expected return is required to reach the utility for a given level of risk when risk aversion is higher, and the extra expected return increases when risk increases.</p>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> norm</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>raver1 <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>raver2 <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>raver3 <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>u1 <span class="op">=</span> <span class="fl">0.10</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>u2 <span class="op">=</span> <span class="fl">0.10</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>u3 <span class="op">=</span> <span class="fl">0.10</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>string1<span class="op">=</span><span class="st">'Risk Aversion='</span><span class="op">+</span><span class="bu">str</span>(raver1)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>string2<span class="op">=</span><span class="st">'Risk Aversion='</span><span class="op">+</span><span class="bu">str</span>(raver2)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>string3<span class="op">=</span><span class="st">'Risk Aversion='</span><span class="op">+</span><span class="bu">str</span>(raver3)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate data</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>sd <span class="op">=</span> np.arange(<span class="dv">0</span>,<span class="fl">0.405</span>,<span class="fl">0.005</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>U1 <span class="op">=</span> u1 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>raver1<span class="op">*</span> (sd<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>U2 <span class="op">=</span> u2 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>raver2<span class="op">*</span> (sd<span class="op">**</span><span class="dv">2</span>) </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>U3 <span class="op">=</span> u3 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>raver3<span class="op">*</span> (sd<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>{<span class="st">'Standard Deviation'</span>: sd, string1: U1, string2: U2,string3: U3})</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df<span class="op">*</span><span class="dv">100</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(df,x<span class="op">=</span><span class="st">'Standard Deviation'</span>, y<span class="op">=</span>[string1, string2, string3])</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>fig.update_layout(title<span class="op">=</span><span class="st">''</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>                   xaxis_title<span class="op">=</span><span class="st">'Standard Deviation'</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>                   yaxis_title<span class="op">=</span><span class="st">'Expected Return'</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    legend_title_text<span class="op">=</span><span class="st">''</span>,)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(tickformat<span class="op">=</span><span class="st">".0f"</span>, ticksuffix<span class="op">=</span><span class="st">"%"</span>)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(tickformat<span class="op">=</span><span class="st">".0f"</span>, ticksuffix<span class="op">=</span><span class="st">"%"</span>)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-indifference0" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">

<div>                            <div id="f9904ca5-d865-43b4-99a3-1fe1bc12f85b" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f9904ca5-d865-43b4-99a3-1fe1bc12f85b")) {                    Plotly.newPlot(                        "f9904ca5-d865-43b4-99a3-1fe1bc12f85b",                        [{"hovertemplate":"variable=Risk Aversion=2<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Risk Aversion=2","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Risk Aversion=2","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.0025,10.010000000000002,10.0225,10.040000000000001,10.0625,10.09,10.1225,10.16,10.2025,10.25,10.3025,10.360000000000001,10.422500000000001,10.49,10.562500000000002,10.64,10.7225,10.81,10.902500000000002,11.000000000000002,11.1025,11.21,11.3225,11.44,11.5625,11.690000000000001,11.822500000000002,11.96,12.102500000000001,12.25,12.402500000000002,12.560000000000002,12.7225,12.89,13.062500000000002,13.240000000000002,13.422500000000001,13.61,13.8025,14.000000000000002,14.2025,14.41,14.622499999999999,14.84,15.0625,15.290000000000001,15.5225,15.760000000000002,16.0025,16.25,16.5025,16.76,17.0225,17.29,17.562500000000004,17.84,18.122500000000002,18.41,18.7025,19.0,19.302500000000002,19.61,19.922500000000003,20.240000000000002,20.5625,20.890000000000004,21.222500000000004,21.560000000000002,21.902500000000003,22.250000000000004,22.6025,22.96,23.322499999999998,23.69,24.0625,24.44,24.8225,25.21,25.602500000000006,26.0],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Risk Aversion=5<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Risk Aversion=5","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Risk Aversion=5","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.00625,10.025,10.05625,10.100000000000001,10.15625,10.225000000000001,10.30625,10.4,10.50625,10.625000000000002,10.756250000000001,10.9,11.05625,11.225,11.406250000000002,11.600000000000001,11.806250000000002,12.025,12.25625,12.5,12.75625,13.025,13.30625,13.600000000000001,13.90625,14.225000000000001,14.55625,14.900000000000002,15.25625,15.625,16.00625,16.400000000000002,16.80625,17.225,17.65625,18.099999999999998,18.556250000000002,19.025,19.50625,20.0,20.506250000000005,21.025,21.55625,22.1,22.656250000000004,23.225,23.806250000000002,24.4,25.006249999999998,25.624999999999996,26.25625,26.900000000000002,27.556250000000006,28.225,28.90625,29.600000000000005,30.306250000000002,31.025000000000002,31.756249999999998,32.49999999999999,33.25625,34.025000000000006,34.806250000000006,35.6,36.40625000000001,37.22500000000001,38.056250000000006,38.9,39.75625,40.625000000000014,41.50625,42.39999999999999,43.30624999999999,44.225,45.15625,46.099999999999994,47.05625,48.025000000000006,49.00625000000001,50.000000000000014],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Risk Aversion=10<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Risk Aversion=10","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Risk Aversion=10","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.012500000000001,10.05,10.1125,10.200000000000001,10.3125,10.450000000000001,10.6125,10.8,11.0125,11.25,11.512500000000001,11.8,12.1125,12.450000000000001,12.812499999999998,13.200000000000001,13.612499999999999,14.05,14.512500000000001,15.000000000000002,15.512500000000001,16.05,16.6125,17.2,17.8125,18.45,19.1125,19.8,20.5125,21.25,22.012500000000003,22.8,23.612500000000004,24.450000000000003,25.312500000000004,26.200000000000003,27.1125,28.049999999999997,29.012500000000003,30.000000000000004,31.012500000000003,32.05,33.1125,34.199999999999996,35.3125,36.45,37.612500000000004,38.800000000000004,40.012499999999996,41.25,42.512499999999996,43.800000000000004,45.1125,46.45,47.8125,49.20000000000001,50.612500000000004,52.05,53.512499999999996,54.99999999999999,56.512499999999996,58.050000000000004,59.612500000000004,61.199999999999996,62.81250000000001,64.45,66.11250000000001,67.80000000000001,69.51250000000002,71.25000000000001,73.0125,74.79999999999998,76.61249999999998,78.45,80.3125,82.19999999999999,84.1125,86.05000000000001,88.01250000000002,90.00000000000001],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Standard Deviation"},"tickformat":".0f","ticksuffix":"%"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Return"},"tickformat":".0f","ticksuffix":"%"},"legend":{"title":{"text":""},"tracegroupgap":0},"margin":{"t":60},"title":{"text":""}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f9904ca5-d865-43b4-99a3-1fe1bc12f85b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
<p></p><figcaption class="figure-caption">Figure 4.1: Indifference curves with different levels of risk aversion</figcaption><p></p>
</figure>
</div>
</div>
<p>Investors are indifferent between portfolios that generate the same utility. <a href="#fig-indifference1">Figure&nbsp;<span>4.2</span></a> shows three different levels of utility, holding risk aversion fixed. A utility of, for example, 10% means that the investor would be indifferent between the risky investment and a risk-free investment with a return of 10%. That is, any portfolio located on the green indifference curve in <a href="#fig-indifference1">Figure&nbsp;<span>4.2</span></a> provides the same level of utility to this investor. Higher utility is achieved with either a higher expected return or lower risk or both.</p>
<div class="cell" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> norm</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># import plotly.io as pio</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># pio.renderers.default='notebook'</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>raver <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>u1 <span class="op">=</span> <span class="fl">0.05</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>u2 <span class="op">=</span> <span class="fl">0.075</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>u3 <span class="op">=</span> <span class="fl">0.10</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>string1<span class="op">=</span><span class="st">'Utility='</span><span class="op">+</span><span class="bu">str</span>(np.<span class="bu">round</span>(u1<span class="op">*</span><span class="dv">100</span>,<span class="dv">1</span>))<span class="op">+</span><span class="st">'%'</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>string2<span class="op">=</span><span class="st">'Utility='</span><span class="op">+</span><span class="bu">str</span>(np.<span class="bu">round</span>(u2<span class="op">*</span><span class="dv">100</span>,<span class="dv">1</span>))<span class="op">+</span><span class="st">'%'</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>string3<span class="op">=</span><span class="st">'Utility='</span><span class="op">+</span><span class="bu">str</span>(np.<span class="bu">round</span>(u3<span class="op">*</span><span class="dv">100</span>,<span class="dv">1</span>))<span class="op">+</span><span class="st">'%'</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate data</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>sd <span class="op">=</span> np.arange(<span class="dv">0</span>,<span class="fl">0.405</span>,<span class="fl">0.005</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>U1 <span class="op">=</span> u1 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>raver<span class="op">*</span> (sd<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>U2 <span class="op">=</span> u2 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>raver<span class="op">*</span> (sd<span class="op">**</span><span class="dv">2</span>) </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>U3 <span class="op">=</span> u3 <span class="op">+</span> <span class="fl">0.5</span><span class="op">*</span>raver<span class="op">*</span> (sd<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(data<span class="op">=</span>{<span class="st">'Standard Deviation'</span>: sd, string1: U1, string2: U2,string3: U3})</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df<span class="op">*</span><span class="dv">100</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(df,x<span class="op">=</span><span class="st">'Standard Deviation'</span>, y<span class="op">=</span>[string1, string2, string3])</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>fig.update_layout(title<span class="op">=</span><span class="st">''</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>                   xaxis_title<span class="op">=</span><span class="st">'Standard Deviation'</span>,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>                   yaxis_title<span class="op">=</span><span class="st">'Expected Return'</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    legend_title_text<span class="op">=</span><span class="st">''</span>,)</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(tickformat<span class="op">=</span><span class="st">".0f"</span>, ticksuffix<span class="op">=</span><span class="st">"%"</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(tickformat<span class="op">=</span><span class="st">".0f"</span>, ticksuffix<span class="op">=</span><span class="st">"%"</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-indifference1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">

<div>                            <div id="822add1e-a0c4-4381-bf37-21a59ffa27a3" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("822add1e-a0c4-4381-bf37-21a59ffa27a3")) {                    Plotly.newPlot(                        "822add1e-a0c4-4381-bf37-21a59ffa27a3",                        [{"hovertemplate":"variable=Utility=5.0%<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Utility=5.0%","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Utility=5.0%","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[5.0,5.0125,5.050000000000001,5.112500000000001,5.2,5.312500000000001,5.45,5.6125,5.800000000000001,6.0125,6.25,6.5125,6.800000000000001,7.112500000000001,7.450000000000001,7.8125,8.200000000000001,8.6125,9.049999999999999,9.5125,10.0,10.5125,11.05,11.6125,12.2,12.812499999999998,13.450000000000001,14.1125,14.800000000000002,15.512500000000001,16.249999999999996,17.012500000000003,17.8,18.612500000000004,19.45,20.312500000000007,21.199999999999996,22.1125,23.049999999999997,24.012500000000003,25.000000000000007,26.012500000000006,27.049999999999997,28.112499999999997,29.2,30.312500000000004,31.45,32.612500000000004,33.8,35.012499999999996,36.25,37.512499999999996,38.800000000000004,40.112500000000004,41.45,42.8125,44.2,45.612500000000004,47.05,48.512499999999996,49.99999999999999,51.5125,53.05000000000001,54.61250000000001,56.2,57.812500000000014,59.45000000000002,61.11250000000001,62.80000000000001,64.51250000000002,66.25000000000001,68.0125,69.8,71.61249999999998,73.45,75.3125,77.2,79.11250000000001,81.05000000000001,83.01250000000002,85.00000000000001],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Utility=7.5%<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Utility=7.5%","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Utility=7.5%","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[7.5,7.512499999999999,7.55,7.6125,7.7,7.8125,7.95,8.1125,8.299999999999999,8.5125,8.75,9.0125,9.3,9.6125,9.950000000000001,10.3125,10.7,11.1125,11.549999999999999,12.0125,12.5,13.0125,13.55,14.1125,14.7,15.312500000000002,15.950000000000001,16.6125,17.3,18.0125,18.75,19.5125,20.3,21.1125,21.950000000000003,22.812500000000004,23.7,24.612499999999997,25.55,26.5125,27.500000000000004,28.512500000000003,29.549999999999997,30.612499999999997,31.7,32.81250000000001,33.95,35.112500000000004,36.3,37.512499999999996,38.75,40.0125,41.300000000000004,42.612500000000004,43.95,45.31250000000001,46.70000000000001,48.11250000000001,49.55,51.012499999999996,52.49999999999999,54.012499999999996,55.55,57.1125,58.699999999999996,60.3125,61.95,63.612500000000004,65.3,67.0125,68.75000000000001,70.5125,72.29999999999998,74.11249999999998,75.94999999999999,77.8125,79.69999999999999,81.6125,83.55,85.51250000000002,87.50000000000001],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Utility=10.0%<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Utility=10.0%","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Utility=10.0%","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.012500000000001,10.05,10.1125,10.200000000000001,10.3125,10.450000000000001,10.6125,10.8,11.0125,11.25,11.512500000000001,11.8,12.1125,12.450000000000001,12.812499999999998,13.200000000000001,13.612499999999999,14.05,14.512500000000001,15.000000000000002,15.512500000000001,16.05,16.6125,17.2,17.8125,18.45,19.1125,19.8,20.5125,21.25,22.012500000000003,22.8,23.612500000000004,24.450000000000003,25.312500000000004,26.200000000000003,27.1125,28.049999999999997,29.012500000000003,30.000000000000004,31.012500000000003,32.05,33.1125,34.199999999999996,35.3125,36.45,37.612500000000004,38.800000000000004,40.012499999999996,41.25,42.512499999999996,43.800000000000004,45.1125,46.45,47.8125,49.20000000000001,50.612500000000004,52.05,53.512499999999996,54.99999999999999,56.512499999999996,58.050000000000004,59.612500000000004,61.199999999999996,62.81250000000001,64.45,66.11250000000001,67.80000000000001,69.51250000000002,71.25000000000001,73.0125,74.79999999999998,76.61249999999998,78.45,80.3125,82.19999999999999,84.1125,86.05000000000001,88.01250000000002,90.00000000000001],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Standard Deviation"},"tickformat":".0f","ticksuffix":"%"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Return"},"tickformat":".0f","ticksuffix":"%"},"legend":{"title":{"text":""},"tracegroupgap":0},"margin":{"t":60},"title":{"text":""}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('822add1e-a0c4-4381-bf37-21a59ffa27a3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
<p></p><figcaption class="figure-caption">Figure 4.2: Indifference curves with same level of risk aversion</figcaption><p></p>
</figure>
</div>
</div>
</section>
<section id="allocating-capital-between-a-risky-asset-and-a-risk-free-asset" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="allocating-capital-between-a-risky-asset-and-a-risk-free-asset"><span class="header-section-number">4.3</span> Allocating Capital Between a Risky Asset and a Risk-free Asset</h2>
<p>The decision to invest any money in a risky asset is perhaps the most fundamental decision an investor makes. We will assume the existence of a risk-free asset. In the real world, this would be an asset like a Treasury bill or a money-market mutual fund. To fix ideas, we will consider a broad stock market index fund as the risky asset.</p>
<p>How much capital should be invested in each of these two assets? For a given portfolio weight in the risky asset <span class="math inline">\(w_{\text{risky}}\)</span>, we first need to determine the portfolio’s expected return and standard deviation. Considering all possible risky portfolio weights traces out the set of possible investments, which is called the capital allocation line in expected return/standard deviation space. Finally, we choose the risky portfolio weight that maximizes the investor’s utility.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./returns.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Asset Returns</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./fixed-income.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fixed Income</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>