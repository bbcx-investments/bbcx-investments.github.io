<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Modern Investments: Theory, Data, and Practice - 3&nbsp; Optimal Portfolios: Theory</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./portfolios_frictions.html" rel="next">
<link href="./diversification.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        if (typeof require !== 'undefined') {
        require.undef("plotly");
        requirejs.config({
            paths: {
                'plotly': ['https://cdn.plot.ly/plotly-2.14.0.min']
            }
        });
        require(['plotly'], function(Plotly) {
            window._Plotly = Plotly;
        });
        }
        </script>
        

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Optimal Portfolios: Theory</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Modern Investments: Theory, Data, and Practice</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./miracle.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Miracle of Compound Interest</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./diversification.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Miracle of Diversification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./portfolios.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Optimal Portfolios: Theory</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./portfolios_frictions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Optimal Portfolios: Practice</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Chapter contents</h2>
   
  <ul class="collapse">
  <li><a href="#capital-allocation-with-a-single-risky-asset" id="toc-capital-allocation-with-a-single-risky-asset" class="nav-link active" data-scroll-target="#capital-allocation-with-a-single-risky-asset"><span class="toc-section-number">3.1</span>  Capital Allocation with a Single Risky Asset</a></li>
  <li><a href="#the-tangency-portfolio" id="toc-the-tangency-portfolio" class="nav-link" data-scroll-target="#the-tangency-portfolio"><span class="toc-section-number">3.2</span>  The Tangency Portfolio</a></li>
  <li><a href="#preferences-over-risk-and-return" id="toc-preferences-over-risk-and-return" class="nav-link" data-scroll-target="#preferences-over-risk-and-return"><span class="toc-section-number">3.3</span>  Preferences over Risk and Return</a></li>
  <li><a href="#preferences-and-the-capital-allocation-line" id="toc-preferences-and-the-capital-allocation-line" class="nav-link" data-scroll-target="#preferences-and-the-capital-allocation-line"><span class="toc-section-number">3.4</span>  Preferences and the Capital Allocation Line</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-optimal-portfolios-theory" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Optimal Portfolios: Theory</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>In this section, we introduce a risk-free asset for saving and borrowing into the investment opportunity set. This section also discusses how investor preferences determine the optimal portfolio of risk-fre and risky assets.</p>
<p>We generally consider assets like Treasury bills or money-market mutual funds as the risk-free asset for saving in practice. Borrowing rates will depend on the investor’s access to debt markets. For now, we assume there is a single risk-free rate. We discuss differential saving and borrowing rates in <a href="portfolios_frictions.html"><span>Chapter&nbsp;4</span></a>.</p>
<section id="capital-allocation-with-a-single-risky-asset" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="capital-allocation-with-a-single-risky-asset"><span class="header-section-number">3.1</span> Capital Allocation with a Single Risky Asset</h2>
<p>What does the set of possible portfolios look like if we consider the US stock market index fund as the risky asset and Treasury bills as the risk-free asset? For a given portfolio weight in the risky asset <span class="math inline">\(w\)</span>, we first need to determine the portfolio’s expected return and standard deviation. Considering all possible risky portfolio weights traces out the set of possible investments, which is called the <strong>capital allocation line</strong> in expected return/standard deviation space.</p>
<p>From <a href="diversification.html#eq-2asset-variance">Equation&nbsp;<span>2.4</span></a>, the variance of portfolio <span class="math inline">\(r_p\)</span> with non-negative <span class="math inline">\(w\)</span> invested in the risky asset and <span class="math inline">\(1-w\)</span> invested in the risk-free rate is: <span class="math display">\[\text{var}[r_p]=w^2 \text{var}[r_{\text{risky}}]+ (1-w)^2 \text{var}[r_f]+ 2 w(1-w) \text{cov}[r_{\text{risky}},r_f]\,. \]</span> Note that the risk-free asset’s return is nonrandom (<span class="math inline">\(\text{var}[r_f]=0\)</span>) and thus does not covary with the risky asset return (<span class="math inline">\(\text{cov}[r_{\text{risky}},r_f]=0\)</span>), so the portfolio variance simplifies to: <span class="math display">\[\text{var}[r_p]=w^2 \text{var}[r_{\text{risky}}]\,.\]</span> Thus, the portfolio’s standard deviation is: <span id="eq-sd-rf-risky"><span class="math display">\[ \text{sd}[r_p] = w\cdot \text{sd}[r_{\text{risky}}]\,. \tag{3.1}\]</span></span></p>
<p>The expected return of the portfolio is: <span id="eq-expret-rf-risky"><span class="math display">\[ E[r_p] = w E[r_{\text{risky}}]+ (1-w) r_f \,. \tag{3.2}\]</span></span> Solving <a href="#eq-sd-rf-risky">Equation&nbsp;<span>3.1</span></a> for <span class="math inline">\(w\)</span>, substituting into <a href="#eq-expret-rf-risky">Equation&nbsp;<span>3.2</span></a>, and rearranging yields the relationship between expected return and standard deviation along the capital allocation line: <span id="eq-cal"><span class="math display">\[ E[r_p] = r_f + \bigg[ \frac{E[r_{\text{risky}}]-r_f}{\text{sd}[r_{\text{risky}}] }\bigg] \cdot \text{sd}[r_p] \,. \tag{3.3}\]</span></span> The capital allocation line for a risky asset is a set of portfolios combining the risky asset with the risk-free asset. In expected return/standard deviation space, the <span class="math inline">\(y\)</span>-intercept is the risk-free rate of return and the slope of the line is the ratio of the expected excess return of the risky asset to its standard deviation. This ratio is called the Sharpe ratio, after Nobel laureate <a href="https://en.wikipedia.org/wiki/William_F._Sharpe"> William Sharpe </a>. We discuss it in more detail below.</p>
<p><a href="portfolios_frictions.html#fig-cal">Figure&nbsp;<span>4.1</span></a> shows the set of possible portfolios along the capital allocation line. Portfolios to the left of the market portfolio entail investing a fraction of wealth <span class="math inline">\(w\)</span> in the market and the remainder is saved, earning interest at the risk-free rate. Portfolios to the right of the market portfolio are <strong>levered</strong> portfolios. These portfolios involve borrowing at the risk-free rate (a negative portfolio weight on the risk-free asset). Both the borrowed capital and the initial capital is invested in the market portfolio (<span class="math inline">\(w&gt;100\%\)</span>).</p>
<div class="cell" data-execution_count="2">
<div id="fig-cal" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p></p><figcaption class="figure-caption">Figure&nbsp;3.1: Capital Allocation Line</figcaption><p></p>

<div>                            <div id="233c9e36-3b40-43e7-be04-7259b5dc966b" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("233c9e36-3b40-43e7-be04-7259b5dc966b")) {                    Plotly.newPlot(                        "233c9e36-3b40-43e7-be04-7259b5dc966b",                        [{"hovertemplate":"wealth in market = %{text:.0f}%<extra></extra>","line":{"color":"blue"},"mode":"lines","name":"CAL (saving)","text":[0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.000000000000001,8.0,9.0,10.0,11.0,12.0,13.0,14.000000000000002,15.0,16.0,17.0,18.0,19.0,20.0,21.0,22.0,23.0,24.0,25.0,26.0,27.0,28.000000000000004,28.999999999999996,30.0,31.0,32.0,33.0,34.0,35.0,36.0,37.0,38.0,39.0,40.0,41.0,42.0,43.0,44.0,45.0,46.0,47.0,48.0,49.0,50.0,51.0,52.0,53.0,54.0,55.00000000000001,56.00000000000001,57.00000000000001,57.99999999999999,59.0,60.0,61.0,62.0,63.0,64.0,65.0,66.0,67.0,68.0,69.0,70.0,71.0,72.0,73.0,74.0,75.0,76.0,77.0,78.0,79.0,80.0,81.0,82.0,83.0,84.0,85.0,86.0,87.0,88.0,89.0,90.0,91.0,92.0,93.0,94.0,95.0,96.0,97.0,98.0,99.0,100.0],"x":[0.0,0.0015,0.003,0.0045,0.006,0.0075,0.009,0.0105,0.012,0.0135,0.015,0.0165,0.018,0.0195,0.021,0.0225,0.024,0.025500000000000002,0.027,0.028499999999999998,0.03,0.0315,0.033,0.0345,0.036,0.0375,0.039,0.0405,0.042,0.0435,0.045,0.0465,0.048,0.0495,0.051000000000000004,0.052500000000000005,0.054,0.0555,0.056999999999999995,0.058499999999999996,0.06,0.0615,0.063,0.0645,0.066,0.0675,0.069,0.07050000000000001,0.072,0.0735,0.075,0.0765,0.078,0.0795,0.081,0.0825,0.084,0.0855,0.087,0.0885,0.09,0.0915,0.093,0.0945,0.096,0.0975,0.099,0.1005,0.10200000000000001,0.10350000000000001,0.10500000000000001,0.1065,0.108,0.1095,0.111,0.11249999999999999,0.11399999999999999,0.11549999999999999,0.11699999999999999,0.1185,0.12,0.1215,0.123,0.1245,0.126,0.1275,0.129,0.1305,0.132,0.1335,0.135,0.1365,0.138,0.1395,0.14100000000000001,0.14250000000000002,0.144,0.1455,0.147,0.1485,0.15],"y":[0.02,0.0204,0.0208,0.0212,0.0216,0.022,0.0224,0.0228,0.0232,0.0236,0.024,0.024399999999999998,0.0248,0.0252,0.0256,0.026,0.0264,0.0268,0.0272,0.0276,0.027999999999999997,0.028399999999999998,0.0288,0.0292,0.029599999999999998,0.03,0.0304,0.0308,0.0312,0.031599999999999996,0.032,0.0324,0.032799999999999996,0.0332,0.0336,0.034,0.0344,0.0348,0.035199999999999995,0.0356,0.036,0.0364,0.0368,0.0372,0.037599999999999995,0.038,0.038400000000000004,0.0388,0.0392,0.039599999999999996,0.039999999999999994,0.0404,0.0408,0.0412,0.0416,0.041999999999999996,0.0424,0.0428,0.043199999999999995,0.0436,0.044,0.044399999999999995,0.04479999999999999,0.0452,0.0456,0.046,0.0464,0.046799999999999994,0.0472,0.0476,0.048,0.0484,0.048799999999999996,0.049199999999999994,0.04959999999999999,0.049999999999999996,0.0504,0.0508,0.051199999999999996,0.05159999999999999,0.05199999999999999,0.0524,0.0528,0.0532,0.053599999999999995,0.05399999999999999,0.05439999999999999,0.0548,0.0552,0.0556,0.055999999999999994,0.05639999999999999,0.0568,0.0572,0.0576,0.057999999999999996,0.058399999999999994,0.05879999999999999,0.05919999999999999,0.0596,0.06],"type":"scatter"},{"hovertemplate":"wealth in market = %{text:.0f}%<extra></extra>","line":{"color":"blue","dash":"dot"},"mode":"lines","name":"CAL (borrowing)","text":[101.0,102.0,103.0,104.0,105.0,106.0,107.0,108.0,109.00000000000001,110.00000000000001,111.00000000000001,112.00000000000001,113.00000000000001,114.00000000000001,115.00000000000001,115.99999999999999,117.0,118.0,119.0,120.0,121.0,122.0,123.0,124.0,125.0,126.0,127.0,128.0,129.0,130.0,131.0,132.0,133.0,134.0,135.0,136.0,137.0,138.0,139.0,140.0,141.0,142.0,143.0,144.0,145.0,146.0,147.0,148.0,149.0,150.0,151.0,152.0,153.0,154.0,155.0,156.0,157.0,158.0,159.0,160.0,161.0,162.0,163.0,164.0,165.0,166.0,167.0,168.0,169.0,170.0,171.0,172.0,173.0,174.0,175.0,176.0,177.0,178.0,179.0,180.0,181.0,182.0,183.0,184.0,185.0,186.0,187.0,188.0,189.0,190.0,191.0,192.0,193.0,194.0,195.0,196.0,197.0,198.0,199.0,200.0],"x":[0.1515,0.153,0.1545,0.156,0.1575,0.159,0.1605,0.162,0.1635,0.165,0.1665,0.168,0.1695,0.171,0.17250000000000001,0.174,0.1755,0.177,0.1785,0.18,0.1815,0.183,0.1845,0.186,0.1875,0.189,0.1905,0.192,0.1935,0.195,0.1965,0.198,0.1995,0.201,0.2025,0.20400000000000001,0.20550000000000002,0.20700000000000002,0.20850000000000002,0.21000000000000002,0.2115,0.213,0.2145,0.216,0.2175,0.219,0.2205,0.222,0.2235,0.22499999999999998,0.22649999999999998,0.22799999999999998,0.22949999999999998,0.23099999999999998,0.23249999999999998,0.23399999999999999,0.2355,0.237,0.2385,0.24,0.2415,0.243,0.2445,0.246,0.2475,0.249,0.2505,0.252,0.2535,0.255,0.2565,0.258,0.2595,0.261,0.2625,0.264,0.2655,0.267,0.2685,0.27,0.2715,0.273,0.2745,0.276,0.2775,0.279,0.2805,0.28200000000000003,0.28350000000000003,0.28500000000000003,0.28650000000000003,0.288,0.2895,0.291,0.2925,0.294,0.2955,0.297,0.2985,0.3],"y":[0.060399999999999995,0.06079999999999999,0.06119999999999999,0.0616,0.062,0.0624,0.0628,0.06319999999999999,0.0636,0.064,0.0644,0.0648,0.0652,0.06559999999999999,0.066,0.06639999999999999,0.06679999999999998,0.0672,0.0676,0.06799999999999999,0.06839999999999999,0.06879999999999999,0.0692,0.0696,0.06999999999999999,0.07039999999999999,0.07079999999999999,0.0712,0.0716,0.072,0.07239999999999999,0.07279999999999999,0.0732,0.0736,0.074,0.0744,0.07479999999999999,0.0752,0.0756,0.076,0.07639999999999998,0.0768,0.07719999999999999,0.07759999999999999,0.07799999999999999,0.07839999999999998,0.0788,0.07919999999999999,0.07959999999999999,0.07999999999999999,0.08039999999999999,0.0808,0.0812,0.08159999999999999,0.08199999999999999,0.08239999999999999,0.0828,0.0832,0.0836,0.08399999999999999,0.0844,0.0848,0.0852,0.0856,0.086,0.0864,0.08679999999999999,0.08719999999999999,0.0876,0.088,0.08839999999999999,0.08879999999999999,0.08919999999999999,0.0896,0.09,0.0904,0.09079999999999999,0.09119999999999999,0.0916,0.092,0.0924,0.0928,0.09319999999999999,0.0936,0.094,0.0944,0.0948,0.09519999999999999,0.09559999999999999,0.096,0.0964,0.09679999999999998,0.0972,0.09759999999999999,0.09799999999999999,0.09839999999999999,0.09879999999999999,0.0992,0.0996,0.09999999999999999],"type":"scatter"},{"hovertemplate":"wealth in market = 100%<extra></extra>","marker":{"size":15},"mode":"markers","name":"Market","x":[0.15],"y":[0.06],"type":"scatter"},{"hovertemplate":"wealth in market = 0%<extra></extra>","marker":{"size":15},"mode":"markers","name":"Risk-free","x":[0],"y":[0.02],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"title":{"text":"Standard Deviation"},"tickformat":".0%"},"yaxis":{"title":{"text":"Expected Return"},"tickformat":".0%"},"legend":{"yanchor":"top","y":0.99,"xanchor":"left","x":0.01}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('233c9e36-3b40-43e7-be04-7259b5dc966b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</figure>
</div>
</div>
</section>
<section id="the-tangency-portfolio" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="the-tangency-portfolio"><span class="header-section-number">3.2</span> The Tangency Portfolio</h2>
<p>What if we can invest in multiple risky assets <em>and</em> the risk-free asset? What is the best way to form a portfolio in this case? Let’s assume that in addition to the US stock market fund, we are also considering investing in a long-term bond fund. Empirically, over the last 30 or 40 years, equities and long-term government bonds have been almost uncorrelated; we will use a correlation of -5% below.</p>
<p>First, consider the investment opportunity sets that would obtain if we restricted attention to investing in only a single risky fund (either the stock or bond fund) in conjunction with the risk-free asset. The possible portfolios are the capital allocation lines for the stock fund and the bond fund, respectively. These are plotted as the orange and red lines in <a href="#fig-two-asset-plus_rf">Figure&nbsp;<span>3.2</span></a>. We can see immediately that all portfolios on the CAL for the stock fund are dominated by both the stock-bond frontier (the black line) and by the bond CAL (the red line). The same expected return can be achieved for smaller standard deviation.</p>
<div class="cell" data-execution_count="3">
<div id="fig-two-asset-plus_rf" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p></p><figcaption class="figure-caption">Figure&nbsp;3.2: Tangency portfolio of two risky assets</figcaption><p></p>

<div>                            <div id="5e09fdd3-a91d-4fe8-8739-b4ace53603c3" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5e09fdd3-a91d-4fe8-8739-b4ace53603c3")) {                    Plotly.newPlot(                        "5e09fdd3-a91d-4fe8-8739-b4ace53603c3",                        [{"hovertemplate":"%{text}<extra></extra>","marker":{"color":"orange","size":10},"mode":"markers","name":"Stock","text":["Stock"],"x":[0.15],"y":[0.06],"type":"scatter"},{"hovertemplate":"%{text}<extra></extra>","marker":{"color":"red","size":10},"mode":"markers","name":"Bond","text":["Bond"],"x":[0.035],"y":[0.035],"type":"scatter"},{"customdata":[120.0,119.0,118.0,117.0,115.99999999999999,114.99999999999999,114.00000000000001,112.99999999999999,112.00000000000001,111.00000000000001,110.00000000000001,109.00000000000001,108.0,107.0,106.0,105.0,104.0,103.0,102.0,101.0,100.0,99.0,98.0,97.0,96.0,95.0,94.0,93.0,92.0,91.0,90.0,89.0,88.0,87.0,86.0,85.0,84.00000000000001,83.0,82.0,81.0,80.0,79.0,78.0,77.0,76.0,75.0,74.0,73.0,72.0,71.0,70.0,69.0,68.0,67.0,65.99999999999999,64.99999999999999,63.99999999999999,62.999999999999986,62.000000000000014,61.00000000000001,60.00000000000001,59.00000000000001,58.00000000000001,57.00000000000001,56.00000000000001,55.00000000000001,54.0,53.0,52.0,51.0,50.0,49.0,48.0,47.0,46.0,44.99999999999999,43.99999999999999,42.99999999999999,41.99999999999999,40.99999999999999,39.99999999999999,38.99999999999999,37.999999999999986,36.999999999999986,36.00000000000001,35.00000000000001,34.00000000000001,33.00000000000001,32.00000000000001,31.000000000000007,30.000000000000004,29.000000000000004,28.000000000000004,27.0,26.0,25.0,24.0,23.0,21.999999999999996,20.999999999999996,19.999999999999996,18.999999999999993,17.999999999999993,16.999999999999993,15.999999999999993,14.999999999999991,13.99999999999999,12.99999999999999,11.99999999999999,10.999999999999988,9.999999999999986,8.999999999999986,7.999999999999985,6.999999999999984,5.999999999999983,4.999999999999982,4.0000000000000036,3.0000000000000027,2.0000000000000018,1.0000000000000009,0.0],"hovertemplate":"Stock: %{text:.0f}%<br>Bond: %{customdata:.0f}%<extra></extra>","line":{"color":"black"},"mode":"lines","name":"Stock & Bond Frontier","text":[-20.0,-19.0,-18.000000000000004,-17.0,-16.0,-15.000000000000002,-14.000000000000002,-13.0,-12.000000000000002,-11.000000000000002,-10.0,-9.000000000000002,-8.000000000000002,-7.000000000000001,-6.0,-5.000000000000002,-4.000000000000001,-3.0,-2.0000000000000018,-1.0000000000000009,0.0,0.9999999999999981,1.9999999999999991,3.0,3.9999999999999982,4.999999999999999,6.0,7.000000000000001,8.000000000000002,8.999999999999996,9.999999999999998,10.999999999999998,12.0,13.0,14.000000000000002,15.000000000000002,15.999999999999998,17.0,18.0,19.0,20.0,21.000000000000004,21.999999999999996,23.0,24.0,25.0,26.0,27.0,27.999999999999996,28.999999999999996,30.0,31.0,32.0,33.0,34.0,35.0,36.00000000000001,37.00000000000001,37.99999999999999,38.99999999999999,40.0,41.0,42.0,43.0,44.0,45.0,46.0,47.0,48.00000000000001,49.00000000000001,50.0,51.0,52.0,53.0,54.0,55.00000000000001,56.00000000000001,57.00000000000001,58.00000000000001,59.00000000000001,60.00000000000001,61.00000000000001,62.000000000000014,63.000000000000014,63.99999999999999,64.99999999999999,65.99999999999999,67.0,68.0,69.0,70.0,71.0,72.0,73.0,74.0,75.0,76.0,77.0,78.0,79.0,80.0,81.0,82.0,83.0,84.00000000000001,85.00000000000001,86.00000000000001,87.00000000000001,88.00000000000001,89.00000000000001,90.00000000000001,91.00000000000001,92.00000000000001,93.00000000000001,94.00000000000001,95.00000000000001,96.0,97.0,98.0,99.0,100.0],"x":[0.05282045058497703,0.05163017528538907,0.05045988505734036,0.049311002828983305,0.048185059925250684,0.047083702063452915,0.04600869483043396,0.04496192833942957,0.04394542069431126,0.04296131981212868,0.04201190307520001,0.041099574207040156,0.04022685670046816,0.03939638308271459,0.03861087929586686,0.037873143518857795,0.0371860188780676,0.03655235970494928,0.035974991313411045,0.03545666368963668,0.035,0.034607441396324,0.034281190177705326,0.03402315388085002,0.033834893231692045,0.03371757701852254,0.03367194678066595,0.03369829372535055,0.033796449517663835,0.033965791614505324,0.03420526275297414,0.03451340319354207,0.0348883934855132,0.035328104959083215,0.03583015489779524,0.03639196339853072,0.03701080923189873,0.03768388249636707,0.03840833242930498,0.039181309319623304,0.04,0.04086165684354955,0.04176362053270765,0.04270333710613258,0.04367836993295422,0.0446864073292987,0.04572526653831556,0.04679289475978164,0.04788736785416379,0.0490068872710765,0.05014977567247933,0.05131447164299756,0.052499523807364196,0.053703584610340485,0.05492540395845988,0.056163822875584246,0.057417767285048625,0.058686241999296576,0.05996832497243857,0.06126316185114836,0.06256996084384263,0.06388798791635247,0.06521656231357185,0.06655505240024982,0.06790287180966649,0.06925947588597534,0.07062435840416534,0.07199704855061768,0.07337710814688735,0.07476412909945518,0.07615773105863909,0.07755755927051858,0.07896328260653808,0.08037459175635046,0.08179119757039874,0.08321282953968097,0.0846392344010743,0.08607017485749636,0.08750542840304254,0.08894478624405146,0.09038805230781335,0.0918350423313454,0.09328558302331612,0.09473951129280753,0.0961966735391614,0.0976569249976672,0.0991201291363162,0.10058615709927483,0.10205488719311778,0.10352620441221631,0.105,0.1064761710431024,0.10795462009566797,0.10943525483133851,0.11091798772065782,0.11240273573183172,0.1138894200529619,0.11537796583403609,0.11686830194710626,0.11836036076322173,0.11985407794480754,0.12134939225228943,0.1228462453638694,0.12434458170744715,0.12584434830376773,0.12734549461995115,0.12884797243263088,0.13035173569998984,0.1318567404420419,0.13336294462855866,0.13487030807409023,0.13637879233957165,0.13788836064004822,0.13939897775808835,0.14091060996248653,0.14242322493189097,0.14393679168301618,0.14545128050312928,0.14696666288651994,0.1484829114746879,0.15],"y":[0.029999999999999995,0.030249999999999996,0.0305,0.030749999999999996,0.030999999999999996,0.031249999999999997,0.0315,0.03175,0.032,0.03225,0.0325,0.03275,0.033,0.03325,0.0335,0.03375,0.034,0.03425,0.0345,0.03475,0.035,0.03525,0.0355,0.03575,0.036,0.03625,0.0365,0.03675,0.037,0.03725,0.0375,0.03775,0.038,0.03825,0.0385,0.03875,0.03900000000000001,0.03925,0.0395,0.03975000000000001,0.04,0.04025,0.0405,0.04075,0.040999999999999995,0.04125,0.0415,0.041749999999999995,0.041999999999999996,0.042249999999999996,0.0425,0.042749999999999996,0.043,0.04324999999999999,0.0435,0.04375,0.044,0.04425,0.044500000000000005,0.044750000000000005,0.045,0.045250000000000005,0.045500000000000006,0.04575,0.046000000000000006,0.04625,0.04650000000000001,0.04675000000000001,0.047,0.04725000000000001,0.0475,0.04775,0.048,0.04825,0.048499999999999995,0.04875,0.049,0.049249999999999995,0.0495,0.04975,0.05,0.05025,0.05050000000000001,0.05075,0.051,0.05125,0.0515,0.05175,0.052000000000000005,0.05225,0.05249999999999999,0.052750000000000005,0.053000000000000005,0.05325,0.0535,0.05375,0.054000000000000006,0.05425,0.05449999999999999,0.05474999999999999,0.05500000000000001,0.05525,0.0555,0.05575,0.05600000000000001,0.05625,0.056499999999999995,0.05675000000000001,0.05700000000000001,0.05725,0.0575,0.05775,0.05800000000000001,0.05825,0.058499999999999996,0.05875,0.059000000000000004,0.059250000000000004,0.059500000000000004,0.05975,0.06],"type":"scatter"},{"hovertemplate":"wealth in Stock= %{text:.0f}%<br>Sharpe ratio: 0.2667<extra></extra>","line":{"color":"orange"},"mode":"lines","name":"CAL: Stock","text":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0,40.5,41.0,41.5,42.0,42.5,43.0,43.5,44.0,44.5,45.0,45.5,46.0,46.5,47.0,47.5,48.0,48.5,49.0,49.5,50.0,50.5,51.0,51.5,52.0,52.5,53.0,53.5,54.0,54.50000000000001,55.00000000000001,55.50000000000001,56.00000000000001,56.50000000000001,57.00000000000001,57.50000000000001,57.99999999999999,58.5,59.0,59.5,60.0,60.5,61.0,61.5,62.0,62.5,63.0,63.5,64.0,64.5,65.0,65.5,66.0,66.5,67.0,67.5,68.0,68.5,69.0,69.5,70.0,70.5,71.0,71.5,72.0,72.5,73.0,73.5,74.0,74.5,75.0,75.5,76.0,76.5,77.0,77.5,78.0,78.5,79.0,79.5,80.0,80.5,81.0,81.5,82.0,82.5,83.0,83.5,84.0,84.5,85.0,85.5,86.0,86.5,87.0,87.5,88.0,88.5,89.0,89.5,90.0,90.5,91.0,91.5,92.0,92.5,93.0,93.5,94.0,94.5,95.0,95.5,96.0,96.5,97.0,97.5,98.0,98.5,99.0,99.5,100.0],"x":[0.0,0.00075,0.0015,0.00225,0.003,0.00375,0.0045,0.00525,0.006,0.00675,0.0075,0.00825,0.009,0.00975,0.0105,0.01125,0.012,0.012750000000000001,0.0135,0.014249999999999999,0.015,0.01575,0.0165,0.01725,0.018,0.01875,0.0195,0.02025,0.021,0.02175,0.0225,0.02325,0.024,0.02475,0.025500000000000002,0.026250000000000002,0.027,0.02775,0.028499999999999998,0.029249999999999998,0.03,0.03075,0.0315,0.03225,0.033,0.03375,0.0345,0.035250000000000004,0.036,0.03675,0.0375,0.03825,0.039,0.03975,0.0405,0.04125,0.042,0.04275,0.0435,0.04425,0.045,0.04575,0.0465,0.04725,0.048,0.04875,0.0495,0.05025,0.051000000000000004,0.051750000000000004,0.052500000000000005,0.05325,0.054,0.05475,0.0555,0.056249999999999994,0.056999999999999995,0.057749999999999996,0.058499999999999996,0.05925,0.06,0.06075,0.0615,0.06225,0.063,0.06375,0.0645,0.06525,0.066,0.06675,0.0675,0.06825,0.069,0.06975,0.07050000000000001,0.07125000000000001,0.072,0.07275,0.0735,0.07425,0.075,0.07575,0.0765,0.07725,0.078,0.07875,0.0795,0.08025,0.081,0.08175,0.0825,0.08325,0.084,0.08475,0.0855,0.08625000000000001,0.087,0.08775,0.0885,0.08925,0.09,0.09075,0.0915,0.09225,0.093,0.09375,0.0945,0.09525,0.096,0.09675,0.0975,0.09825,0.099,0.09975,0.1005,0.10125,0.10200000000000001,0.10275000000000001,0.10350000000000001,0.10425000000000001,0.10500000000000001,0.10575,0.1065,0.10725,0.108,0.10875,0.1095,0.11025,0.111,0.11175,0.11249999999999999,0.11324999999999999,0.11399999999999999,0.11474999999999999,0.11549999999999999,0.11624999999999999,0.11699999999999999,0.11775,0.1185,0.11925,0.12,0.12075,0.1215,0.12225,0.123,0.12375,0.1245,0.12525,0.126,0.12675,0.1275,0.12825,0.129,0.12975,0.1305,0.13125,0.132,0.13275,0.1335,0.13425,0.135,0.13575,0.1365,0.13725,0.138,0.13875,0.1395,0.14025,0.14100000000000001,0.14175000000000001,0.14250000000000002,0.14325000000000002,0.144,0.14475,0.1455,0.14625,0.147,0.14775,0.1485,0.14925,0.15],"y":[0.02,0.0202,0.0204,0.0206,0.0208,0.021,0.0212,0.0214,0.0216,0.0218,0.022,0.0222,0.0224,0.022600000000000002,0.0228,0.023,0.0232,0.0234,0.0236,0.0238,0.024,0.0242,0.024399999999999998,0.0246,0.0248,0.025,0.0252,0.0254,0.0256,0.0258,0.026,0.0262,0.0264,0.0266,0.0268,0.027,0.0272,0.0274,0.0276,0.0278,0.027999999999999997,0.0282,0.028399999999999998,0.0286,0.0288,0.028999999999999998,0.0292,0.0294,0.029599999999999998,0.0298,0.03,0.030199999999999998,0.0304,0.0306,0.0308,0.031,0.0312,0.0314,0.031599999999999996,0.031799999999999995,0.032,0.0322,0.0324,0.0326,0.032799999999999996,0.033,0.0332,0.0334,0.0336,0.0338,0.034,0.034199999999999994,0.0344,0.0346,0.0348,0.034999999999999996,0.035199999999999995,0.0354,0.0356,0.0358,0.036,0.036199999999999996,0.0364,0.0366,0.0368,0.037,0.0372,0.0374,0.037599999999999995,0.0378,0.038,0.0382,0.038400000000000004,0.038599999999999995,0.0388,0.039,0.0392,0.0394,0.039599999999999996,0.0398,0.039999999999999994,0.0402,0.0404,0.0406,0.0408,0.040999999999999995,0.0412,0.0414,0.0416,0.041800000000000004,0.041999999999999996,0.0422,0.0424,0.0426,0.0428,0.043,0.043199999999999995,0.043399999999999994,0.0436,0.04379999999999999,0.044,0.044199999999999996,0.044399999999999995,0.0446,0.04479999999999999,0.045,0.0452,0.045399999999999996,0.0456,0.045799999999999993,0.046,0.0462,0.0464,0.0466,0.046799999999999994,0.047,0.0472,0.0474,0.0476,0.047799999999999995,0.048,0.04819999999999999,0.0484,0.04859999999999999,0.048799999999999996,0.048999999999999995,0.049199999999999994,0.0494,0.04959999999999999,0.0498,0.049999999999999996,0.050199999999999995,0.0504,0.05059999999999999,0.0508,0.051,0.051199999999999996,0.0514,0.05159999999999999,0.0518,0.05199999999999999,0.052199999999999996,0.0524,0.052599999999999994,0.0528,0.05299999999999999,0.0532,0.05339999999999999,0.053599999999999995,0.0538,0.05399999999999999,0.0542,0.05439999999999999,0.054599999999999996,0.0548,0.05499999999999999,0.0552,0.05539999999999999,0.0556,0.0558,0.055999999999999994,0.0562,0.05639999999999999,0.0566,0.0568,0.056999999999999995,0.0572,0.05739999999999999,0.0576,0.05779999999999999,0.057999999999999996,0.0582,0.058399999999999994,0.0586,0.05879999999999999,0.059,0.05919999999999999,0.059399999999999994,0.0596,0.05979999999999999,0.06],"type":"scatter"},{"hovertemplate":"wealth in Bond= %{text:.0f}%<br>Sharpe ratio : 0.4286<extra></extra>","line":{"color":"red"},"mode":"lines","name":"CAL: Bond","text":[0.0,1.35,2.7,4.050000000000001,5.4,6.75,8.100000000000001,9.450000000000001,10.8,12.15,13.5,14.850000000000001,16.200000000000003,17.55,18.900000000000002,20.25,21.6,22.950000000000003,24.3,25.650000000000002,27.0,28.35,29.700000000000003,31.050000000000004,32.400000000000006,33.75,35.1,36.45,37.800000000000004,39.150000000000006,40.5,41.85,43.2,44.550000000000004,45.900000000000006,47.25,48.6,49.95,51.300000000000004,52.650000000000006,54.0,55.35000000000001,56.7,58.050000000000004,59.400000000000006,60.75000000000001,62.10000000000001,63.45,64.80000000000001,66.15,67.5,68.85000000000001,70.2,71.55000000000001,72.9,74.25,75.60000000000001,76.95,78.30000000000001,79.65,81.0,82.35000000000001,83.7,85.05000000000001,86.4,87.75,89.10000000000001,90.45,91.80000000000001,93.15,94.5,95.85000000000001,97.2,98.55000000000001,99.9,101.25000000000001,102.60000000000001,103.95,105.30000000000001,106.65000000000002,108.0,109.35000000000001,110.70000000000002,112.05000000000001,113.4,114.75000000000001,116.10000000000001,117.45000000000002,118.80000000000001,120.15000000000002,121.50000000000001,122.85000000000001,124.20000000000002,125.55000000000001,126.9,128.25000000000003,129.60000000000002,130.95000000000002,132.3,133.65000000000003,135.0,136.35000000000002,137.70000000000002,139.05,140.4,141.75000000000003,143.10000000000002,144.45000000000002,145.8,147.15000000000003,148.5,149.85000000000002,151.20000000000002,152.55,153.9,155.25000000000003,156.60000000000002,157.95000000000002,159.3,160.65000000000003,162.0,163.35000000000002,164.70000000000002,166.05,167.4,168.75000000000003,170.10000000000002,171.45000000000002,172.8,174.15000000000003,175.5,176.85000000000002,178.20000000000002,179.55000000000004,180.9,182.25000000000003,183.60000000000002,184.95000000000002,186.3,187.65000000000003,189.0,190.35000000000002,191.70000000000002,193.05000000000004,194.4,195.75000000000003,197.10000000000002,198.45000000000002,199.8,201.15000000000003,202.50000000000003,203.85000000000005,205.20000000000002,206.55,207.9,209.25000000000003,210.60000000000002,211.95000000000005,213.30000000000004,214.65,216.0,217.35000000000002,218.70000000000002,220.05000000000004,221.40000000000003,222.75000000000006,224.10000000000002,225.45000000000002,226.8,228.15000000000003,229.50000000000003,230.85000000000005,232.20000000000002,233.55,234.90000000000003,236.25000000000003,237.60000000000002,238.95000000000005,240.30000000000004,241.65,243.00000000000003,244.35000000000002,245.70000000000002,247.05000000000004,248.40000000000003,249.75000000000006,251.10000000000002,252.45000000000002,253.8,255.15000000000003,256.50000000000006,257.85,259.20000000000005,260.55,261.90000000000003,263.25,264.6,265.95000000000005,267.30000000000007,268.65000000000003,270.0],"x":[0.0,0.0004725000000000001,0.0009450000000000002,0.0014175000000000004,0.0018900000000000004,0.0023625000000000005,0.0028350000000000007,0.003307500000000001,0.003780000000000001,0.004252500000000001,0.004725000000000001,0.005197500000000002,0.005670000000000001,0.006142500000000001,0.006615000000000002,0.007087500000000001,0.007560000000000002,0.008032500000000001,0.008505000000000002,0.008977500000000001,0.009450000000000002,0.009922500000000002,0.010395000000000003,0.010867500000000002,0.011340000000000003,0.011812500000000002,0.012285000000000003,0.012757500000000003,0.013230000000000004,0.013702500000000005,0.014175000000000002,0.014647500000000003,0.015120000000000003,0.015592500000000004,0.016065000000000003,0.016537500000000004,0.017010000000000004,0.017482500000000005,0.017955000000000002,0.018427500000000003,0.018900000000000004,0.019372500000000004,0.019845000000000005,0.020317500000000002,0.020790000000000006,0.021262500000000004,0.021735000000000004,0.022207500000000005,0.022680000000000006,0.023152500000000006,0.023625000000000004,0.024097500000000008,0.024570000000000005,0.025042500000000006,0.025515000000000006,0.025987500000000004,0.026460000000000008,0.026932500000000005,0.02740500000000001,0.027877500000000006,0.028350000000000004,0.028822500000000008,0.029295000000000005,0.02976750000000001,0.030240000000000006,0.030712500000000004,0.031185000000000008,0.031657500000000005,0.032130000000000006,0.032602500000000006,0.03307500000000001,0.03354750000000001,0.03402000000000001,0.03449250000000001,0.03496500000000001,0.03543750000000001,0.035910000000000004,0.036382500000000005,0.036855000000000006,0.03732750000000001,0.03780000000000001,0.03827250000000001,0.03874500000000001,0.0392175,0.03969000000000001,0.04016250000000001,0.040635000000000004,0.041107500000000005,0.04158000000000001,0.042052500000000013,0.04252500000000001,0.04299750000000001,0.04347000000000001,0.04394250000000001,0.04441500000000001,0.04488750000000001,0.04536000000000001,0.045832500000000005,0.04630500000000001,0.046777500000000014,0.04725000000000001,0.04772250000000001,0.048195000000000016,0.04866750000000001,0.04914000000000001,0.04961250000000001,0.05008500000000001,0.05055750000000001,0.05103000000000001,0.051502500000000014,0.05197500000000001,0.05244750000000001,0.052920000000000016,0.05339250000000001,0.05386500000000001,0.05433750000000001,0.05481000000000002,0.05528250000000001,0.05575500000000001,0.056227500000000014,0.05670000000000001,0.057172500000000015,0.057645000000000016,0.05811750000000001,0.05859000000000001,0.05906250000000001,0.05953500000000002,0.06000750000000001,0.06048000000000001,0.060952500000000014,0.06142500000000001,0.061897500000000015,0.062370000000000016,0.06284250000000002,0.06331500000000001,0.06378750000000001,0.06426000000000001,0.06473250000000001,0.06520500000000001,0.06567750000000001,0.06615000000000001,0.06662250000000002,0.06709500000000002,0.06756750000000002,0.06804000000000002,0.06851250000000002,0.06898500000000002,0.0694575,0.06993000000000002,0.07040250000000002,0.07087500000000002,0.07134750000000002,0.07182000000000001,0.07229250000000001,0.07276500000000001,0.07323750000000001,0.07371000000000001,0.07418250000000003,0.07465500000000003,0.07512750000000001,0.07560000000000001,0.07607250000000002,0.07654500000000002,0.07701750000000002,0.07749000000000002,0.07796250000000002,0.078435,0.07890750000000002,0.07938000000000002,0.07985250000000002,0.08032500000000002,0.08079750000000002,0.08127000000000001,0.08174250000000001,0.08221500000000001,0.08268750000000001,0.08316000000000003,0.08363250000000003,0.08410500000000003,0.08457750000000001,0.08505000000000001,0.08552250000000002,0.08599500000000002,0.08646750000000002,0.08694000000000002,0.08741250000000003,0.08788500000000002,0.08835750000000002,0.08883000000000002,0.08930250000000002,0.08977500000000002,0.09024750000000002,0.09072000000000002,0.09119250000000001,0.09166500000000001,0.09213750000000002,0.09261000000000003,0.09308250000000003,0.09355500000000003,0.09402750000000001,0.09450000000000001],"y":[0.02,0.0202025,0.020405,0.0206075,0.020810000000000002,0.0210125,0.021215,0.021417500000000003,0.02162,0.0218225,0.022025,0.0222275,0.022430000000000002,0.0226325,0.022835,0.023037500000000002,0.02324,0.0234425,0.023645000000000003,0.0238475,0.024050000000000002,0.024252500000000003,0.024455,0.024657500000000002,0.024860000000000004,0.0250625,0.025265000000000003,0.025467500000000004,0.025670000000000002,0.025872500000000003,0.026075,0.026277500000000002,0.026480000000000004,0.0266825,0.026885000000000003,0.0270875,0.027290000000000002,0.027492500000000003,0.027695,0.027897500000000006,0.0281,0.0283025,0.028505000000000003,0.028707500000000004,0.028910000000000005,0.029112500000000003,0.029315000000000004,0.029517500000000002,0.029720000000000003,0.029922500000000005,0.030125000000000002,0.030327500000000004,0.03053,0.030732500000000003,0.030935000000000004,0.031137500000000005,0.03134000000000001,0.0315425,0.031745,0.031947500000000004,0.032150000000000005,0.032352500000000006,0.032555,0.03275750000000001,0.03296,0.033162500000000004,0.033365000000000006,0.0335675,0.03377000000000001,0.0339725,0.034175000000000004,0.034377500000000005,0.03458000000000001,0.03478250000000001,0.034985,0.035187500000000003,0.035390000000000005,0.035592500000000006,0.03579500000000001,0.0359975,0.0362,0.036402500000000004,0.036605000000000006,0.03680750000000001,0.03701,0.03721250000000001,0.037415000000000004,0.037617500000000005,0.037820000000000006,0.03802250000000001,0.03822500000000001,0.0384275,0.03863000000000001,0.038832500000000006,0.03903500000000001,0.03923750000000001,0.03944000000000001,0.039642500000000004,0.039845000000000005,0.04004750000000001,0.04025000000000001,0.0404525,0.04065500000000001,0.040857500000000005,0.041060000000000006,0.04126250000000001,0.04146500000000001,0.04166750000000001,0.041870000000000004,0.04207250000000001,0.04227500000000001,0.04247750000000001,0.04268000000000001,0.042882500000000004,0.04308500000000001,0.043287500000000007,0.04349000000000001,0.04369250000000001,0.043895,0.04409750000000001,0.044300000000000006,0.04450250000000001,0.04470500000000001,0.0449075,0.04511000000000001,0.045312500000000006,0.045515000000000014,0.04571750000000001,0.04592000000000001,0.04612250000000001,0.046325000000000005,0.04652750000000001,0.04673000000000001,0.04693250000000001,0.04713500000000001,0.047337500000000005,0.04754000000000001,0.04774250000000001,0.04794500000000001,0.04814750000000001,0.048350000000000004,0.04855250000000001,0.04875500000000001,0.048957500000000015,0.04916000000000001,0.04936250000000001,0.04956500000000001,0.049767500000000006,0.049970000000000014,0.05017250000000001,0.05037500000000001,0.05057750000000001,0.050780000000000006,0.05098250000000001,0.05118500000000001,0.051387500000000016,0.05159000000000001,0.05179250000000002,0.05199500000000001,0.05219750000000001,0.0524,0.05260250000000001,0.052805000000000005,0.05300750000000001,0.05321000000000001,0.053412500000000016,0.05361500000000001,0.053817500000000004,0.05402000000000001,0.05422250000000001,0.054425000000000015,0.05462750000000001,0.054830000000000004,0.05503250000000001,0.055235000000000006,0.055437500000000015,0.05564000000000001,0.05584250000000002,0.05604500000000001,0.056247500000000006,0.056450000000000014,0.05665250000000001,0.05685500000000002,0.05705750000000001,0.05726000000000002,0.057462500000000014,0.05766500000000001,0.057867500000000016,0.05807000000000001,0.05827250000000002,0.05847500000000001,0.05867750000000002,0.058880000000000016,0.05908250000000001,0.059285000000000004,0.05948750000000001,0.05969000000000001,0.059892500000000015,0.06009500000000001,0.060297500000000004,0.06050000000000001],"type":"scatter"},{"customdata":[[[0.132028043958306],[0.8679719560416941],[0.5166]]],"hovertemplate":"tangency portfolio<br>Stock: %{customdata[0]:.1%}<br>Bond: %{customdata[1]:.1%}<br>Sharpe ratio: %{customdata[2]:.4f}<br><extra></extra>","marker":{"color":"blue","size":10},"mode":"markers","name":"tangency portfolio","x":[0.03542496472428529],"y":[0.038300701098957654],"type":"scatter"},{"hovertemplate":"wealth in tangency portfolio = %{text:.0f}%<br>Sharpe ratio: 0.5166<extra></extra>","line":{"color":"blue"},"mode":"lines","name":"CAL: tangency portfolio","text":[0.0,1.1,2.2,3.3000000000000003,4.4,5.500000000000001,6.6000000000000005,7.700000000000001,8.8,9.9,11.000000000000002,12.100000000000001,13.200000000000001,14.3,15.400000000000002,16.5,17.6,18.700000000000003,19.8,20.900000000000002,22.000000000000004,23.1,24.200000000000003,25.3,26.400000000000002,27.500000000000004,28.6,29.700000000000003,30.800000000000004,31.900000000000002,33.0,34.1,35.2,36.300000000000004,37.400000000000006,38.50000000000001,39.6,40.7,41.800000000000004,42.900000000000006,44.00000000000001,45.10000000000001,46.2,47.300000000000004,48.400000000000006,49.50000000000001,50.6,51.7,52.800000000000004,53.900000000000006,55.00000000000001,56.10000000000001,57.2,58.300000000000004,59.400000000000006,60.50000000000001,61.60000000000001,62.70000000000001,63.800000000000004,64.9,66.0,67.10000000000001,68.2,69.30000000000001,70.4,71.50000000000001,72.60000000000001,73.70000000000002,74.80000000000001,75.9,77.00000000000001,78.10000000000001,79.2,80.30000000000001,81.4,82.5,83.60000000000001,84.7,85.80000000000001,86.9,88.00000000000001,89.10000000000001,90.20000000000002,91.30000000000001,92.4,93.5,94.60000000000001,95.7,96.80000000000001,97.9,99.00000000000001,100.10000000000001,101.2,102.30000000000001,103.4,104.50000000000001,105.60000000000001,106.70000000000002,107.80000000000001,108.90000000000002,110.00000000000001,111.10000000000002,112.20000000000002,113.3,114.4,115.5,116.60000000000001,117.7,118.80000000000001,119.9,121.00000000000001,122.10000000000001,123.20000000000002,124.30000000000001,125.40000000000002,126.50000000000001,127.60000000000001,128.70000000000002,129.8,130.9,132.0,133.10000000000002,134.20000000000002,135.3,136.4,137.50000000000003,138.60000000000002,139.70000000000002,140.8,141.9,143.00000000000003,144.1,145.20000000000002,146.3,147.40000000000003,148.5,149.60000000000002,150.70000000000002,151.8,152.9,154.00000000000003,155.10000000000002,156.20000000000002,157.3,158.4,159.50000000000003,160.60000000000002,161.70000000000002,162.8,163.90000000000003,165.0,166.10000000000002,167.20000000000002,168.30000000000004,169.4,170.5,171.60000000000002,172.70000000000002,173.8,174.9,176.00000000000003,177.10000000000002,178.20000000000002,179.3,180.40000000000003,181.50000000000003,182.60000000000002,183.70000000000002,184.8,185.90000000000003,187.0,188.10000000000002,189.20000000000002,190.3,191.4,192.50000000000003,193.60000000000002,194.70000000000002,195.8,196.90000000000003,198.00000000000003,199.10000000000002,200.20000000000002,201.30000000000004,202.4,203.5,204.60000000000002,205.70000000000005,206.8,207.9,209.00000000000003,210.10000000000005,211.20000000000002,212.3,213.40000000000003,214.5,215.60000000000002,216.70000000000002,217.80000000000004,218.9,220.00000000000003],"x":[0.0,0.0003896746119671382,0.0007793492239342764,0.0011690238359014146,0.0015586984478685529,0.001948373059835691,0.0023380476718028293,0.0027277222837699677,0.0031173968957371057,0.0035070715077042437,0.003896746119671382,0.004286420731638521,0.004676095343605659,0.005065769955572797,0.0054554445675399355,0.005845119179507073,0.0062347937914742114,0.0066244684034413494,0.0070141430154084874,0.0074038176273756254,0.007793492239342764,0.008183166851309901,0.008572841463277041,0.008962516075244177,0.009352190687211317,0.009741865299178455,0.010131539911145593,0.010521214523112731,0.010910889135079871,0.011300563747047007,0.011690238359014145,0.012079912970981283,0.012469587582948423,0.012859262194915561,0.013248936806882699,0.013638611418849839,0.014028286030816975,0.014417960642784113,0.014807635254751251,0.01519730986671839,0.015586984478685529,0.015976659090652667,0.016366333702619803,0.016756008314586943,0.017145682926554082,0.01753535753852122,0.017925032150488355,0.018314706762455495,0.018704381374422634,0.01909405598638977,0.01948373059835691,0.01987340521032405,0.020263079822291186,0.020652754434258326,0.021042429046225462,0.021432103658192602,0.021821778270159742,0.022211452882126878,0.022601127494094014,0.022990802106061154,0.02338047671802829,0.02377015132999543,0.024159825941962566,0.024549500553929706,0.024939175165896846,0.025328849777863982,0.025718524389831122,0.02610819900179826,0.026497873613765398,0.026887548225732538,0.027277222837699677,0.02766689744966681,0.02805657206163395,0.028446246673601086,0.028835921285568226,0.029225595897535366,0.029615270509502502,0.03000494512146964,0.03039461973343678,0.030784294345403918,0.031173968957371057,0.0315636435693382,0.03195331818130533,0.03234299279327247,0.032732667405239606,0.03312234201720675,0.033512016629173885,0.03390169124114102,0.034291365853108165,0.0346810404650753,0.03507071507704244,0.03546038968900958,0.03585006430097671,0.03623973891294385,0.03662941352491099,0.03701908813687813,0.03740876274884527,0.037798437360812405,0.03818811197277954,0.038577786584746684,0.03896746119671382,0.039357135808680964,0.0397468104206481,0.04013648503261523,0.04052615964458237,0.04091583425654951,0.04130550886851665,0.04169518348048379,0.042084858092450925,0.04247453270441806,0.042864207316385204,0.04325388192835234,0.043643556540319484,0.04403323115228661,0.044422905764253756,0.04481258037622089,0.04520225498818803,0.04559192960015517,0.04598160421212231,0.046371278824089444,0.04676095343605658,0.047150628048023724,0.04754030265999086,0.047929977271958,0.04831965188392513,0.048709326495892276,0.04909900110785941,0.049488675719826555,0.04987835033179369,0.05026802494376083,0.050657699555727964,0.0510473741676951,0.051437048779662244,0.05182672339162938,0.05221639800359652,0.05260607261556365,0.052995747227530796,0.05338542183949793,0.053775096451465075,0.05416477106343221,0.054554445675399355,0.054944120287366484,0.05533379489933362,0.05572346951130076,0.0561131441232679,0.05650281873523504,0.05689249334720217,0.057282167959169315,0.05767184257113645,0.058061517183103595,0.05845119179507073,0.058840866407037874,0.059230541019005004,0.05962021563097215,0.06000989024293928,0.06039956485490642,0.06078923946687356,0.06117891407884069,0.061568588690807835,0.06195826330277497,0.062347937914742114,0.06273761252670924,0.0631272871386764,0.06351696175064353,0.06390663636261067,0.0642963109745778,0.06468598558654494,0.06507566019851208,0.06546533481047921,0.06585500942244636,0.0662446840344135,0.06663435864638063,0.06702403325834777,0.0674137078703149,0.06780338248228204,0.0681930570942492,0.06858273170621633,0.06897240631818347,0.0693620809301506,0.06975175554211774,0.07014143015408487,0.07053110476605201,0.07092077937801916,0.0713104539899863,0.07170012860195342,0.07208980321392057,0.0724794778258877,0.07286915243785486,0.07325882704982198,0.07364850166178911,0.07403817627375626,0.0744278508857234,0.07481752549769054,0.07520720010965767,0.07559687472162481,0.07598654933359195,0.07637622394555908,0.07676589855752623,0.07715557316949337,0.07754524778146049,0.07793492239342764],"y":[0.02,0.020201307712088536,0.020402615424177067,0.020603923136265603,0.020805230848354138,0.021006538560442673,0.021207846272531205,0.02140915398461974,0.021610461696708275,0.021811769408796807,0.022013077120885342,0.022214384832973878,0.02241569254506241,0.022617000257150945,0.02281830796923948,0.023019615681328015,0.023220923393416547,0.023422231105505082,0.023623538817593617,0.02382484652968215,0.024026154241770684,0.02422746195385922,0.02442876966594775,0.024630077378036287,0.024831385090124822,0.025032692802213354,0.02523400051430189,0.025435308226390424,0.02563661593847896,0.02583792365056749,0.026039231362656026,0.02624053907474456,0.026441846786833097,0.02664315449892163,0.026844462211010164,0.0270457699230987,0.02724707763518723,0.027448385347275766,0.0276496930593643,0.027851000771452833,0.02805230848354137,0.028253616195629903,0.028454923907718435,0.02865623161980697,0.028857539331895506,0.029058847043984037,0.029260154756072573,0.029461462468161108,0.02966277018024964,0.02986407789233818,0.03006538560442671,0.030266693316515245,0.03046800102860378,0.030669308740692312,0.030870616452780848,0.031071924164869383,0.031273231876957915,0.03147453958904645,0.031675847301134985,0.03187715501322352,0.03207846272531205,0.03227977043740059,0.03248107814948912,0.03268238586157766,0.03288369357366619,0.03308500128575473,0.03328630899784326,0.03348761670993179,0.03368892442202033,0.03389023213410886,0.034091539846197394,0.03429284755828593,0.034494155270374464,0.034695462982462996,0.034896770694551535,0.03509807840664007,0.0352993861187286,0.03550069383081714,0.03570200154290567,0.0359033092549942,0.03610461696708274,0.03630592467917127,0.0365072323912598,0.03670854010334834,0.03690984781543687,0.037111155527525405,0.037312463239613944,0.037513770951702476,0.03771507866379101,0.037916386375879546,0.03811769408796808,0.03831900180005661,0.03852030951214515,0.03872161722423369,0.03892292493632221,0.03912423264841075,0.03932554036049928,0.03952684807258782,0.03972815578467635,0.03992946349676489,0.040130771208853416,0.040332078920941955,0.040533386633030494,0.04073469434511902,0.04093600205720756,0.041137309769296096,0.04133861748138463,0.04153992519347316,0.0417412329055617,0.04194254061765023,0.04214384832973876,0.0423451560418273,0.04254646375391583,0.042747771466004364,0.0429490791780929,0.043150386890181434,0.043351694602269966,0.043553002314358505,0.04375431002644704,0.04395561773853557,0.04415692545062411,0.044358233162712646,0.04455954087480117,0.04476084858688971,0.04496215629897824,0.04516346401106678,0.04536477172315531,0.04556607943524385,0.045767387147332375,0.045968694859420914,0.04617000257150945,0.04637131028359798,0.046572617995686516,0.04677392570777505,0.046975233419863587,0.04717654113195212,0.04737784884404066,0.04757915655612918,0.04778046426821772,0.04798177198030626,0.04818307969239479,0.04838438740448332,0.04858569511657186,0.04878700282866039,0.048988310540748925,0.049189618252837464,0.049390925964925995,0.04959223367701453,0.049793541389103066,0.0499948491011916,0.05019615681328013,0.05039746452536867,0.0505987722374572,0.05080007994954573,0.05100138766163427,0.0512026953737228,0.051404003085811334,0.05160531079789987,0.05180661850998841,0.052007926222076936,0.052209233934165475,0.052410541646254014,0.05261184935834254,0.05281315707043108,0.053014464782519616,0.05321577249460814,0.05341708020669668,0.05361838791878522,0.05381969563087374,0.05402100334296228,0.05422231105505082,0.054423618767139345,0.054624926479227884,0.05482623419131642,0.05502754190340495,0.055228849615493486,0.055430157327582025,0.05563146503967056,0.05583277275175909,0.05603408046384763,0.05623538817593615,0.05643669588802469,0.05663800360011323,0.05683931131220177,0.05704061902429029,0.05724192673637883,0.05744323444846737,0.057644542160555895,0.057845849872644434,0.05804715758473297,0.0582484652968215,0.058449773008910036,0.05865108072099856,0.0588523884330871,0.05905369614517564,0.05925500385726416,0.0594563115693527,0.05965761928144124,0.05985892699352978,0.060060234705618304,0.06026154241770684],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"title":{"text":"Standard Deviation"},"range":[0,0.1575],"tickformat":".0%"},"yaxis":{"title":{"text":"Expected Return"},"range":[0,0.063],"tickformat":".0%"},"legend":{"yanchor":"top","y":0.5,"xanchor":"left","x":0.65}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('5e09fdd3-a91d-4fe8-8739-b4ace53603c3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</figure>
</div>
</div>
<p>Recall from <a href="#eq-cal">Equation&nbsp;<span>3.3</span></a> that the slope of the CAL for a risky asset is the Sharpe ratio. The <strong>Sharpe ratio</strong> is a measure of the excess return of an investment per unit of risk. Since investors like expected returns and dislike risk, they want high Sharpe ratios. Note in <a href="#fig-two-asset-plus_rf">Figure&nbsp;<span>3.2</span></a> that the Sharpe ratio of the bond is higher than that of the stock portfolio. The highest possible Sharpe ratio is obtained by combining the risk-free asset with a risky portfolio so that the CAL slope is as high as possible. This occurs when the CAL is tangent to the curve of risky-only portfolios. This portfolio of risky assets is thus called the <strong>tangency portfolio</strong>. Investing along the CAL of the tangency portfolio offers the highest possible Sharpe ratio, regardless of any desired level of expected return or risk.</p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Calculating the Tangency Portfolio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>If short sales are allowed, the tangency portfolio weights satisfy a system of equations. The inner product of the tangency portfolio <span class="math inline">\(w\)</span> with each column of the covariance matrix <span class="math inline">\(\text{cov}_i\)</span> is proportional to the asset’s risk premium <span class="math inline">\(E[r_i]-r_f\)</span> (<span class="math inline">\(n-1\)</span> equations): <span class="math display">\[ \frac{w'\text{cov}_i}{w'\text{cov}_j} = \frac{E[r_i]-r_f}{E[r_j]-r_f}\,,\]</span> and the portfolio is fully invested: <span class="math display">\[\sum_i w_i = 1.\]</span></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode p code-with-copy"><code class="sourceCode pascal"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> numpy <span class="kw">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>from scipy.optimize <span class="kw">import</span> minimize</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="st">##### </span>Inputs</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st"># </span>Risk-free rate</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>r = <span class="dv">0.02</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st"># </span>Expected returns</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>mns = np.<span class="kw">array</span>([<span class="dv">0.10</span>, <span class="dv">0.05</span>, <span class="dv">0.07</span>])</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="st"># </span>Standard deviations</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>sds = np.<span class="kw">array</span>([<span class="dv">0.20</span>, <span class="dv">0.12</span>, <span class="dv">0.15</span>])</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="st"># </span>Correlations</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>corr12 = <span class="dv">0.3</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>corr13 = <span class="dv">0.3</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>corr23 = <span class="dv">0.3</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="st"># </span>Covariance matrix</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>C  = np.identity(<span class="dv">3</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>C[<span class="dv">0</span>, <span class="dv">1</span>] = C[<span class="dv">1</span>, <span class="dv">0</span>] = corr12</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>C[<span class="dv">0</span>, <span class="dv">2</span>] = C[<span class="dv">2</span>, <span class="dv">0</span>] = corr13</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>C[<span class="dv">1</span>, <span class="dv">2</span>] = C[<span class="dv">2</span>, <span class="dv">1</span>] = corr23</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>cov = np.diag(sds) @ C @ np.diag(sds)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="st">##### </span>Tangency Portfolio</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>w = np.linalg.solve(cov, mns - r)</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>wgts_tangency = w / np.sum(w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>The tangency portfolio is thus the optimal combination of risky assets, and all investors should invest somewhere along the tangency portfolio CAL. This is an example of the <strong>two-fund separation</strong> property of asset allocation. All investors will choose to allocate capital to the risk-free asset and an optimal risky asset portfolio. The problem of determining an optimal all-risky asset portfolio is separate from the choice of where to invest on the resulting capital allocation line. We discuss the latter decision of how much capital to allocate to risky assets relative to the risk-free asset in the rest of this section.</p>
</section>
<section id="preferences-over-risk-and-return" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="preferences-over-risk-and-return"><span class="header-section-number">3.3</span> Preferences over Risk and Return</h2>
<p>In order to make statements about “optimal” portfolios, we need to describe the preferences of investors in some way. A standard way to do so is to use mean-variance utility. Simply put, we will assume that investors like higher expected returns and dislike portfolios with riskier returns. The amount of extra expected return needed for an investor to take on additional risk is governed by the investor’s risk aversion, which we will denote by <span class="math inline">\(A\)</span>.</p>
<p>Mathematically, mean-variance utility for a given portfolio return <span class="math inline">\(r_p\)</span> is: <span class="math display">\[ U(r_p)=E[r_p] - 0.5\cdot A \cdot \text{var}[r_p]\,.\]</span> The utility of a risky investment is its expected return minus a penalty for variance. More risk averse investors have higher values for <span class="math inline">\(A\)</span>, meaning that they put greater penalties on variance. <a href="#fig-indifference0">Figure&nbsp;<span>3.3</span></a> shows indifference curves for three different levels of risk aversion, but the same level of utility. When risk aversion is higher, a higher expected return is required to reach the utility for a given level of risk, and the extra expected return increases when risk increases.</p>
<div class="cell" data-execution_count="4">
<div id="fig-indifference0" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p></p><figcaption class="figure-caption">Figure&nbsp;3.3: Indifference curves with different levels of risk aversion</figcaption><p></p>

<div>                            <div id="e7fdb057-3d38-4c40-a84b-d7bc06060203" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e7fdb057-3d38-4c40-a84b-d7bc06060203")) {                    Plotly.newPlot(                        "e7fdb057-3d38-4c40-a84b-d7bc06060203",                        [{"hovertemplate":"variable=Risk Aversion=2<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Risk Aversion=2","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Risk Aversion=2","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.0025,10.010000000000002,10.0225,10.040000000000001,10.0625,10.09,10.1225,10.16,10.2025,10.25,10.3025,10.360000000000001,10.422500000000001,10.49,10.562500000000002,10.64,10.7225,10.81,10.902500000000002,11.000000000000002,11.1025,11.21,11.3225,11.44,11.5625,11.690000000000001,11.822500000000002,11.96,12.102500000000001,12.25,12.402500000000002,12.560000000000002,12.7225,12.89,13.062500000000002,13.240000000000002,13.422500000000001,13.61,13.8025,14.000000000000002,14.2025,14.41,14.622499999999999,14.84,15.0625,15.290000000000001,15.5225,15.760000000000002,16.0025,16.25,16.5025,16.76,17.0225,17.29,17.562500000000004,17.84,18.122500000000002,18.41,18.7025,19.0,19.302500000000002,19.61,19.922500000000003,20.240000000000002,20.5625,20.890000000000004,21.222500000000004,21.560000000000002,21.902500000000003,22.250000000000004,22.6025,22.96,23.322499999999998,23.69,24.0625,24.44,24.8225,25.21,25.602500000000006,26.0],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Risk Aversion=5<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Risk Aversion=5","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Risk Aversion=5","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.00625,10.025,10.05625,10.100000000000001,10.15625,10.225000000000001,10.30625,10.4,10.50625,10.625000000000002,10.756250000000001,10.9,11.05625,11.225,11.406250000000002,11.600000000000001,11.806250000000002,12.025,12.25625,12.5,12.75625,13.025,13.30625,13.600000000000001,13.90625,14.225000000000001,14.55625,14.900000000000002,15.25625,15.625,16.00625,16.400000000000002,16.80625,17.225,17.65625,18.099999999999998,18.556250000000002,19.025,19.50625,20.0,20.506250000000005,21.025,21.55625,22.1,22.656250000000004,23.225,23.806250000000002,24.4,25.006249999999998,25.624999999999996,26.25625,26.900000000000002,27.556250000000006,28.225,28.90625,29.600000000000005,30.306250000000002,31.025000000000002,31.756249999999998,32.49999999999999,33.25625,34.025000000000006,34.806250000000006,35.6,36.40625000000001,37.22500000000001,38.056250000000006,38.9,39.75625,40.625000000000014,41.50625,42.39999999999999,43.30624999999999,44.225,45.15625,46.099999999999994,47.05625,48.025000000000006,49.00625000000001,50.000000000000014],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Risk Aversion=10<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Risk Aversion=10","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Risk Aversion=10","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.012500000000001,10.05,10.1125,10.200000000000001,10.3125,10.450000000000001,10.6125,10.8,11.0125,11.25,11.512500000000001,11.8,12.1125,12.450000000000001,12.812499999999998,13.200000000000001,13.612499999999999,14.05,14.512500000000001,15.000000000000002,15.512500000000001,16.05,16.6125,17.2,17.8125,18.45,19.1125,19.8,20.5125,21.25,22.012500000000003,22.8,23.612500000000004,24.450000000000003,25.312500000000004,26.200000000000003,27.1125,28.049999999999997,29.012500000000003,30.000000000000004,31.012500000000003,32.05,33.1125,34.199999999999996,35.3125,36.45,37.612500000000004,38.800000000000004,40.012499999999996,41.25,42.512499999999996,43.800000000000004,45.1125,46.45,47.8125,49.20000000000001,50.612500000000004,52.05,53.512499999999996,54.99999999999999,56.512499999999996,58.050000000000004,59.612500000000004,61.199999999999996,62.81250000000001,64.45,66.11250000000001,67.80000000000001,69.51250000000002,71.25000000000001,73.0125,74.79999999999998,76.61249999999998,78.45,80.3125,82.19999999999999,84.1125,86.05000000000001,88.01250000000002,90.00000000000001],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Standard Deviation"},"tickformat":".0f","ticksuffix":"%"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Return"},"tickformat":".0f","ticksuffix":"%"},"legend":{"title":{"text":""},"tracegroupgap":0,"yanchor":"top","y":0.99,"xanchor":"left","x":0.01},"margin":{"t":60},"title":{"text":""}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e7fdb057-3d38-4c40-a84b-d7bc06060203');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</figure>
</div>
</div>
<p>Investors are indifferent between portfolios that generate the same utility. <a href="#fig-indifference1">Figure&nbsp;<span>3.4</span></a> shows three different levels of utility, holding risk aversion fixed. A utility of, for example, 10% means that the investor would be indifferent between the risky investment and a risk-free investment with a return of 10%. That is, any portfolio located on the green <strong>indifference curve</strong> in <a href="#fig-indifference1">Figure&nbsp;<span>3.4</span></a> provides the same level of utility to this investor. Higher utility is achieved with either a higher expected return or lower risk or both.</p>
<div class="cell" data-execution_count="5">
<div id="fig-indifference1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p></p><figcaption class="figure-caption">Figure&nbsp;3.4: Indifference curves with same level of risk aversion</figcaption><p></p>

<div>                            <div id="6c2b1495-f922-42b8-8eb2-053924a01029" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6c2b1495-f922-42b8-8eb2-053924a01029")) {                    Plotly.newPlot(                        "6c2b1495-f922-42b8-8eb2-053924a01029",                        [{"hovertemplate":"variable=Utility=5.0%<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Utility=5.0%","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Utility=5.0%","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[5.0,5.0125,5.050000000000001,5.112500000000001,5.2,5.312500000000001,5.45,5.6125,5.800000000000001,6.0125,6.25,6.5125,6.800000000000001,7.112500000000001,7.450000000000001,7.8125,8.200000000000001,8.6125,9.049999999999999,9.5125,10.0,10.5125,11.05,11.6125,12.2,12.812499999999998,13.450000000000001,14.1125,14.800000000000002,15.512500000000001,16.249999999999996,17.012500000000003,17.8,18.612500000000004,19.45,20.312500000000007,21.199999999999996,22.1125,23.049999999999997,24.012500000000003,25.000000000000007,26.012500000000006,27.049999999999997,28.112499999999997,29.2,30.312500000000004,31.45,32.612500000000004,33.8,35.012499999999996,36.25,37.512499999999996,38.800000000000004,40.112500000000004,41.45,42.8125,44.2,45.612500000000004,47.05,48.512499999999996,49.99999999999999,51.5125,53.05000000000001,54.61250000000001,56.2,57.812500000000014,59.45000000000002,61.11250000000001,62.80000000000001,64.51250000000002,66.25000000000001,68.0125,69.8,71.61249999999998,73.45,75.3125,77.2,79.11250000000001,81.05000000000001,83.01250000000002,85.00000000000001],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Utility=7.5%<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Utility=7.5%","line":{"color":"#EF553B","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Utility=7.5%","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[7.5,7.512499999999999,7.55,7.6125,7.7,7.8125,7.95,8.1125,8.299999999999999,8.5125,8.75,9.0125,9.3,9.6125,9.950000000000001,10.3125,10.7,11.1125,11.549999999999999,12.0125,12.5,13.0125,13.55,14.1125,14.7,15.312500000000002,15.950000000000001,16.6125,17.3,18.0125,18.75,19.5125,20.3,21.1125,21.950000000000003,22.812500000000004,23.7,24.612499999999997,25.55,26.5125,27.500000000000004,28.512500000000003,29.549999999999997,30.612499999999997,31.7,32.81250000000001,33.95,35.112500000000004,36.3,37.512499999999996,38.75,40.0125,41.300000000000004,42.612500000000004,43.95,45.31250000000001,46.70000000000001,48.11250000000001,49.55,51.012499999999996,52.49999999999999,54.012499999999996,55.55,57.1125,58.699999999999996,60.3125,61.95,63.612500000000004,65.3,67.0125,68.75000000000001,70.5125,72.29999999999998,74.11249999999998,75.94999999999999,77.8125,79.69999999999999,81.6125,83.55,85.51250000000002,87.50000000000001],"yaxis":"y","type":"scatter"},{"hovertemplate":"variable=Utility=10.0%<br>Standard Deviation=%{x}<br>value=%{y}<extra></extra>","legendgroup":"Utility=10.0%","line":{"color":"#00cc96","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"Utility=10.0%","orientation":"v","showlegend":true,"x":[0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5000000000000004,4.0,4.5,5.0,5.5,6.0,6.5,7.000000000000001,7.5,8.0,8.5,9.0,9.5,10.0,10.5,11.0,11.5,12.0,12.5,13.0,13.5,14.000000000000002,14.499999999999998,15.0,15.5,16.0,16.5,17.0,17.5,18.0,18.5,19.0,19.5,20.0,20.5,21.0,21.5,22.0,22.5,23.0,23.5,24.0,24.5,25.0,25.5,26.0,26.5,27.0,27.500000000000004,28.000000000000004,28.500000000000004,28.999999999999996,29.5,30.0,30.5,31.0,31.5,32.0,32.5,33.0,33.5,34.0,34.5,35.0,35.5,36.0,36.5,37.0,37.5,38.0,38.5,39.0,39.5,40.0],"xaxis":"x","y":[10.0,10.012500000000001,10.05,10.1125,10.200000000000001,10.3125,10.450000000000001,10.6125,10.8,11.0125,11.25,11.512500000000001,11.8,12.1125,12.450000000000001,12.812499999999998,13.200000000000001,13.612499999999999,14.05,14.512500000000001,15.000000000000002,15.512500000000001,16.05,16.6125,17.2,17.8125,18.45,19.1125,19.8,20.5125,21.25,22.012500000000003,22.8,23.612500000000004,24.450000000000003,25.312500000000004,26.200000000000003,27.1125,28.049999999999997,29.012500000000003,30.000000000000004,31.012500000000003,32.05,33.1125,34.199999999999996,35.3125,36.45,37.612500000000004,38.800000000000004,40.012499999999996,41.25,42.512499999999996,43.800000000000004,45.1125,46.45,47.8125,49.20000000000001,50.612500000000004,52.05,53.512499999999996,54.99999999999999,56.512499999999996,58.050000000000004,59.612500000000004,61.199999999999996,62.81250000000001,64.45,66.11250000000001,67.80000000000001,69.51250000000002,71.25000000000001,73.0125,74.79999999999998,76.61249999999998,78.45,80.3125,82.19999999999999,84.1125,86.05000000000001,88.01250000000002,90.00000000000001],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Standard Deviation"},"tickformat":".0f","ticksuffix":"%"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Expected Return"},"tickformat":".0f","ticksuffix":"%"},"legend":{"title":{"text":""},"tracegroupgap":0,"yanchor":"top","y":0.99,"xanchor":"left","x":0.01},"margin":{"t":60},"title":{"text":""}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6c2b1495-f922-42b8-8eb2-053924a01029');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</figure>
</div>
</div>
</section>
<section id="preferences-and-the-capital-allocation-line" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="preferences-and-the-capital-allocation-line"><span class="header-section-number">3.4</span> Preferences and the Capital Allocation Line</h2>
<p>The choice of where to locate along the CAL is the choice of how much to invest in a risky portfolio <span class="math inline">\(w\)</span> (the other <span class="math inline">\(1-w\)</span> being invested in a risk-free asset). A mean-variance investor chooses <span class="math inline">\(w\)</span> to solve: <span id="eq-cal-optimization"><span class="math display">\[ \underset{w}\max E[r_p] - 0.5\cdot A \cdot \text{var}[r_p]\,.  \tag{3.4}\]</span></span> with <span class="math inline">\(r_p = w r_{\text{risky}} + (1-w) r_{\text{risky} r_f}\)</span>. Plugging in the expected return (<a href="#eq-expret-rf-risky">Equation&nbsp;<span>3.2</span></a>) and standard deviation ( <a href="#eq-sd-rf-risky">Equation&nbsp;<span>3.1</span></a>) into <a href="#eq-cal-optimization">Equation&nbsp;<span>3.4</span></a> and considering the first-order condition with respect to <span class="math inline">\(w\)</span> provides the optimal weight to invest in the risky asset: <span id="eq-cal-opt-wgt"><span class="math display">\[ w^* = \frac{E[r_{\text{risky}}-r_f]}{A \cdot \text{var}_{\text{risky}}}\,. \tag{3.5}\]</span></span> Thus, an investor’s location on the CAL depends on risk aversion. Investors with different risk aversion will choose different combinations of the risky asset and the risk-free asset.</p>
<p>While <a href="#eq-cal-opt-wgt">Equation&nbsp;<span>3.5</span></a> applies to the optimal capital allocation between any risky portfolio and the risk-free asset, the risky portfolio is usually some optimal combination of risky assets like the tangency portfolio. Thus, with multiple risky assets, asset allocation decisions are made in two steps. First, the optimal combination of risky assets, the tangency portfolio, is found. With the same set of inputs for expected returns, standard deviations, and correlations, all investors find the tangency portfolio to be the optimal risky portfolio. Second, investors choose how to allocate capital between the risky portfolio and the risk-free asset. Investors will differ in the fraction of their wealth to invest in the tangency portfolio relative to the risk-free asset because investors with different risk aversions will find different portfolios on the tangency portfolio capital allocation line to be better than others based on their own preferences.</p>
<p><a href="#fig-tangency-and-preferences">Figure&nbsp;<span>3.5</span></a> shows the indifference curves at the highest possible utility level for investors with the indicated risk aversions. Investors with lower risk aversion will choose portfolios further up the capital allocation line, accepting greater risk for higher expected returns.</p>
<div class="cell" data-execution_count="6">
<div id="fig-tangency-and-preferences" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p></p><figcaption class="figure-caption">Figure&nbsp;3.5: Preferences and Efficient Portfolios</figcaption><p></p>

<div>                            <div id="c7b6e12b-a30b-488e-be2b-f5d6a9622c7e" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c7b6e12b-a30b-488e-be2b-f5d6a9622c7e")) {                    Plotly.newPlot(                        "c7b6e12b-a30b-488e-be2b-f5d6a9622c7e",                        [{"hovertemplate":"%{text}<extra></extra>","marker":{"color":"orange","size":10},"mode":"markers","name":"Stock","text":["Stock"],"x":[0.15],"y":[0.06],"type":"scatter"},{"hovertemplate":"%{text}<extra></extra>","marker":{"color":"red","size":10},"mode":"markers","name":"Bond","text":["Bond"],"x":[0.035],"y":[0.035],"type":"scatter"},{"customdata":[120.0,119.0,118.0,117.0,115.99999999999999,114.99999999999999,114.00000000000001,112.99999999999999,112.00000000000001,111.00000000000001,110.00000000000001,109.00000000000001,108.0,107.0,106.0,105.0,104.0,103.0,102.0,101.0,100.0,99.0,98.0,97.0,96.0,95.0,94.0,93.0,92.0,91.0,90.0,89.0,88.0,87.0,86.0,85.0,84.00000000000001,83.0,82.0,81.0,80.0,79.0,78.0,77.0,76.0,75.0,74.0,73.0,72.0,71.0,70.0,69.0,68.0,67.0,65.99999999999999,64.99999999999999,63.99999999999999,62.999999999999986,62.000000000000014,61.00000000000001,60.00000000000001,59.00000000000001,58.00000000000001,57.00000000000001,56.00000000000001,55.00000000000001,54.0,53.0,52.0,51.0,50.0,49.0,48.0,47.0,46.0,44.99999999999999,43.99999999999999,42.99999999999999,41.99999999999999,40.99999999999999,39.99999999999999,38.99999999999999,37.999999999999986,36.999999999999986,36.00000000000001,35.00000000000001,34.00000000000001,33.00000000000001,32.00000000000001,31.000000000000007,30.000000000000004,29.000000000000004,28.000000000000004,27.0,26.0,25.0,24.0,23.0,21.999999999999996,20.999999999999996,19.999999999999996,18.999999999999993,17.999999999999993,16.999999999999993,15.999999999999993,14.999999999999991,13.99999999999999,12.99999999999999,11.99999999999999,10.999999999999988,9.999999999999986,8.999999999999986,7.999999999999985,6.999999999999984,5.999999999999983,4.999999999999982,4.0000000000000036,3.0000000000000027,2.0000000000000018,1.0000000000000009,0.0],"hovertemplate":"Stock: %{text:.0f}%<br>Bond: %{customdata:.0f}%<extra></extra>","line":{"color":"black"},"mode":"lines","name":"Stock & Bond Frontier","text":[-20.0,-19.0,-18.000000000000004,-17.0,-16.0,-15.000000000000002,-14.000000000000002,-13.0,-12.000000000000002,-11.000000000000002,-10.0,-9.000000000000002,-8.000000000000002,-7.000000000000001,-6.0,-5.000000000000002,-4.000000000000001,-3.0,-2.0000000000000018,-1.0000000000000009,0.0,0.9999999999999981,1.9999999999999991,3.0,3.9999999999999982,4.999999999999999,6.0,7.000000000000001,8.000000000000002,8.999999999999996,9.999999999999998,10.999999999999998,12.0,13.0,14.000000000000002,15.000000000000002,15.999999999999998,17.0,18.0,19.0,20.0,21.000000000000004,21.999999999999996,23.0,24.0,25.0,26.0,27.0,27.999999999999996,28.999999999999996,30.0,31.0,32.0,33.0,34.0,35.0,36.00000000000001,37.00000000000001,37.99999999999999,38.99999999999999,40.0,41.0,42.0,43.0,44.0,45.0,46.0,47.0,48.00000000000001,49.00000000000001,50.0,51.0,52.0,53.0,54.0,55.00000000000001,56.00000000000001,57.00000000000001,58.00000000000001,59.00000000000001,60.00000000000001,61.00000000000001,62.000000000000014,63.000000000000014,63.99999999999999,64.99999999999999,65.99999999999999,67.0,68.0,69.0,70.0,71.0,72.0,73.0,74.0,75.0,76.0,77.0,78.0,79.0,80.0,81.0,82.0,83.0,84.00000000000001,85.00000000000001,86.00000000000001,87.00000000000001,88.00000000000001,89.00000000000001,90.00000000000001,91.00000000000001,92.00000000000001,93.00000000000001,94.00000000000001,95.00000000000001,96.0,97.0,98.0,99.0,100.0],"x":[0.05282045058497703,0.05163017528538907,0.05045988505734036,0.049311002828983305,0.048185059925250684,0.047083702063452915,0.04600869483043396,0.04496192833942957,0.04394542069431126,0.04296131981212868,0.04201190307520001,0.041099574207040156,0.04022685670046816,0.03939638308271459,0.03861087929586686,0.037873143518857795,0.0371860188780676,0.03655235970494928,0.035974991313411045,0.03545666368963668,0.035,0.034607441396324,0.034281190177705326,0.03402315388085002,0.033834893231692045,0.03371757701852254,0.03367194678066595,0.03369829372535055,0.033796449517663835,0.033965791614505324,0.03420526275297414,0.03451340319354207,0.0348883934855132,0.035328104959083215,0.03583015489779524,0.03639196339853072,0.03701080923189873,0.03768388249636707,0.03840833242930498,0.039181309319623304,0.04,0.04086165684354955,0.04176362053270765,0.04270333710613258,0.04367836993295422,0.0446864073292987,0.04572526653831556,0.04679289475978164,0.04788736785416379,0.0490068872710765,0.05014977567247933,0.05131447164299756,0.052499523807364196,0.053703584610340485,0.05492540395845988,0.056163822875584246,0.057417767285048625,0.058686241999296576,0.05996832497243857,0.06126316185114836,0.06256996084384263,0.06388798791635247,0.06521656231357185,0.06655505240024982,0.06790287180966649,0.06925947588597534,0.07062435840416534,0.07199704855061768,0.07337710814688735,0.07476412909945518,0.07615773105863909,0.07755755927051858,0.07896328260653808,0.08037459175635046,0.08179119757039874,0.08321282953968097,0.0846392344010743,0.08607017485749636,0.08750542840304254,0.08894478624405146,0.09038805230781335,0.0918350423313454,0.09328558302331612,0.09473951129280753,0.0961966735391614,0.0976569249976672,0.0991201291363162,0.10058615709927483,0.10205488719311778,0.10352620441221631,0.105,0.1064761710431024,0.10795462009566797,0.10943525483133851,0.11091798772065782,0.11240273573183172,0.1138894200529619,0.11537796583403609,0.11686830194710626,0.11836036076322173,0.11985407794480754,0.12134939225228943,0.1228462453638694,0.12434458170744715,0.12584434830376773,0.12734549461995115,0.12884797243263088,0.13035173569998984,0.1318567404420419,0.13336294462855866,0.13487030807409023,0.13637879233957165,0.13788836064004822,0.13939897775808835,0.14091060996248653,0.14242322493189097,0.14393679168301618,0.14545128050312928,0.14696666288651994,0.1484829114746879,0.15],"y":[0.029999999999999995,0.030249999999999996,0.0305,0.030749999999999996,0.030999999999999996,0.031249999999999997,0.0315,0.03175,0.032,0.03225,0.0325,0.03275,0.033,0.03325,0.0335,0.03375,0.034,0.03425,0.0345,0.03475,0.035,0.03525,0.0355,0.03575,0.036,0.03625,0.0365,0.03675,0.037,0.03725,0.0375,0.03775,0.038,0.03825,0.0385,0.03875,0.03900000000000001,0.03925,0.0395,0.03975000000000001,0.04,0.04025,0.0405,0.04075,0.040999999999999995,0.04125,0.0415,0.041749999999999995,0.041999999999999996,0.042249999999999996,0.0425,0.042749999999999996,0.043,0.04324999999999999,0.0435,0.04375,0.044,0.04425,0.044500000000000005,0.044750000000000005,0.045,0.045250000000000005,0.045500000000000006,0.04575,0.046000000000000006,0.04625,0.04650000000000001,0.04675000000000001,0.047,0.04725000000000001,0.0475,0.04775,0.048,0.04825,0.048499999999999995,0.04875,0.049,0.049249999999999995,0.0495,0.04975,0.05,0.05025,0.05050000000000001,0.05075,0.051,0.05125,0.0515,0.05175,0.052000000000000005,0.05225,0.05249999999999999,0.052750000000000005,0.053000000000000005,0.05325,0.0535,0.05375,0.054000000000000006,0.05425,0.05449999999999999,0.05474999999999999,0.05500000000000001,0.05525,0.0555,0.05575,0.05600000000000001,0.05625,0.056499999999999995,0.05675000000000001,0.05700000000000001,0.05725,0.0575,0.05775,0.05800000000000001,0.05825,0.058499999999999996,0.05875,0.059000000000000004,0.059250000000000004,0.059500000000000004,0.05975,0.06],"type":"scatter"},{"customdata":[[[0.132028043958306],[0.8679719560416941],[0.5166]]],"hovertemplate":"tangency portfolio<br>asset 1: %{customdata[0]:.1%}<br>asset 2: %{customdata[1]:.1%}<br>Sharpe ratio: %{customdata[2]:.4f}<br><extra></extra>","marker":{"color":"blue","size":10},"mode":"markers","name":"tangency portfolio","x":[0.03542496472428529],"y":[0.038300701098957654],"type":"scatter"},{"hovertemplate":"wealth in tangency portfolio = %{text:.0f}%<br>Sharpe ratio: 0.5166<extra></extra>","line":{"color":"blue"},"mode":"lines","name":"CAL: tangency portfolio","text":[0.0,2.0,4.0,6.0,8.0,10.0,12.0,14.000000000000002,16.0,18.0,20.0,22.0,24.0,26.0,28.000000000000004,30.0,32.0,34.0,36.0,38.0,40.0,42.0,44.0,46.0,48.0,50.0,52.0,54.0,56.00000000000001,57.99999999999999,60.0,62.0,64.0,66.0,68.0,70.0,72.0,74.0,76.0,78.0,80.0,82.0,84.0,86.0,88.0,90.0,92.0,94.0,96.0,98.0,100.0,102.0,104.0,106.0,108.0,110.00000000000001,112.00000000000001,114.00000000000001,115.99999999999999,118.0,120.0,122.0,124.0,126.0,128.0,130.0,132.0,134.0,136.0,138.0,140.0,142.0,144.0,146.0,148.0,150.0,152.0,154.0,156.0,158.0,160.0,162.0,164.0,166.0,168.0,170.0,172.0,174.0,176.0,178.0,180.0,182.0,184.0,186.0,188.0,190.0,192.0,194.0,196.0,198.0,200.0,202.0,204.0,206.0,208.0,210.0,212.0,214.0,216.0,218.00000000000003,220.00000000000003,222.00000000000003,224.00000000000003,226.00000000000003,228.00000000000003,230.00000000000003,231.99999999999997,234.0,236.0,238.0,240.0,242.0,244.0,246.0,248.0,250.0,252.0,254.0,256.0,258.0,260.0,262.0,264.0,266.0,268.0,270.0,272.0,274.0,276.0,278.0,280.0,282.0,284.0,286.0,288.0,290.0,292.0,294.0,296.0,298.0,300.0,302.0,304.0,306.0,308.0,310.0,312.0,314.0,316.0,318.0,320.0,322.0,324.0,326.0,328.0,330.0,332.0,334.0,336.0,338.0,340.0,342.0,344.0,346.0,348.0,350.0,352.0,354.0,356.0,358.0,360.0,362.0,364.0,366.0,368.0,370.0,372.0,374.0,376.0,378.0,380.0,382.0,384.0,386.0,388.0,390.0,392.0,394.0,396.0,398.0,400.0],"x":[0.0,0.0007084992944857058,0.0014169985889714116,0.002125497883457117,0.0028339971779428232,0.003542496472428529,0.004250995766914234,0.004959495061399941,0.0056679943558856465,0.006376493650371352,0.007084992944857058,0.0077934922393427634,0.008501991533828468,0.009210490828314176,0.009918990122799882,0.010627489417285587,0.011335988711771293,0.012044488006257,0.012752987300742704,0.01346148659522841,0.014169985889714116,0.01487848518419982,0.015586984478685527,0.01629548377317123,0.017003983067656936,0.017712482362142644,0.018420981656628352,0.019129480951114056,0.019837980245599764,0.020546479540085465,0.021254978834571173,0.021963478129056878,0.022671977423542586,0.02338047671802829,0.024088976012514,0.024797475306999703,0.025505974601485407,0.026214473895971112,0.02692297319045682,0.027631472484942524,0.028339971779428232,0.029048471073913937,0.02975697036839964,0.030465469662885346,0.031173968957371054,0.03188246825185676,0.03259096754634246,0.03329946684082817,0.03400796613531387,0.03471646542979958,0.03542496472428529,0.036133464018770996,0.036841963313256704,0.037550462607742405,0.03825896190222811,0.03896746119671382,0.03967596049119953,0.04038445978568523,0.04109295908017093,0.04180145837465664,0.04250995766914235,0.04321845696362805,0.043926956258113756,0.044635455552599464,0.04534395484708517,0.04605245414157087,0.04676095343605658,0.04746945273054229,0.048177952025028,0.048886451319513705,0.049594950613999406,0.05030344990848511,0.051011949202970815,0.051720448497456516,0.052428947791942224,0.05313744708642793,0.05384594638091364,0.05455444567539935,0.05526294496988505,0.05597144426437076,0.056679943558856465,0.05738844285334217,0.058096942147827874,0.05880544144231358,0.05951394073679928,0.06022244003128499,0.06093093932577069,0.0616394386202564,0.06234793791474211,0.06305643720922781,0.06376493650371352,0.06447343579819922,0.06518193509268493,0.06589043438717064,0.06659893368165634,0.06730743297614206,0.06801593227062774,0.06872443156511346,0.06943293085959916,0.07014143015408487,0.07084992944857058,0.07155842874305628,0.07226692803754199,0.07297542733202769,0.07368392662651341,0.07439242592099911,0.07510092521548481,0.07580942450997052,0.07651792380445623,0.07722642309894193,0.07793492239342764,0.07864342168791334,0.07935192098239906,0.08006042027688476,0.08076891957137046,0.08147741886585617,0.08218591816034186,0.08289441745482756,0.08360291674931328,0.08431141604379898,0.0850199153382847,0.0857284146327704,0.0864369139272561,0.08714541322174181,0.08785391251622751,0.08856241181071323,0.08927091110519893,0.08997941039968463,0.09068790969417034,0.09139640898865604,0.09210490828314175,0.09281340757762746,0.09352190687211316,0.09423040616659888,0.09493890546108458,0.09564740475557028,0.096355904050056,0.0970644033445417,0.09777290263902741,0.09848140193351311,0.09918990122799881,0.09989840052248451,0.10060689981697021,0.10131539911145591,0.10202389840594163,0.10273239770042733,0.10344089699491303,0.10414939628939875,0.10485789558388445,0.10556639487837016,0.10627489417285586,0.10698339346734156,0.10769189276182728,0.10840039205631298,0.1091088913507987,0.1098173906452844,0.1105258899397701,0.11123438923425581,0.11194288852874151,0.11265138782322721,0.11335988711771293,0.11406838641219863,0.11477688570668435,0.11548538500117005,0.11619388429565575,0.11690238359014146,0.11761088288462716,0.11831938217911285,0.11902788147359857,0.11973638076808427,0.12044488006256998,0.12115337935705568,0.12186187865154138,0.1225703779460271,0.1232788772405128,0.1239873765349985,0.12469587582948422,0.12540437512396993,0.12611287441845562,0.12682137371294133,0.12752987300742705,0.12823837230191273,0.12894687159639845,0.12965537089088416,0.13036387018536985,0.13107236947985557,0.13178086877434128,0.132489368068827,0.13319786736331268,0.1339063666577984,0.1346148659522841,0.1353233652467698,0.1360318645412555,0.1367403638357412,0.13744886313022692,0.13815736242471263,0.13886586171919832,0.13957436101368403,0.14028286030816975,0.14099135960265544,0.14169985889714115],"y":[0.02,0.020366014021979153,0.020732028043958305,0.02109804206593746,0.021464056087916614,0.021830070109895766,0.02219608413187492,0.02256209815385407,0.022928112175833223,0.02329412619781238,0.023660140219791532,0.024026154241770684,0.024392168263749837,0.024758182285728993,0.025124196307708145,0.025490210329687298,0.02585622435166645,0.026222238373645602,0.026588252395624755,0.026954266417603907,0.027320280439583063,0.027686294461562216,0.028052308483541368,0.02841832250552052,0.028784336527499673,0.02915035054947883,0.02951636457145798,0.029882378593437134,0.030248392615416286,0.03061440663739544,0.03098042065937459,0.031346434681353744,0.031712448703332896,0.03207846272531205,0.03244447674729121,0.03281049076927036,0.03317650479124951,0.033542518813228665,0.03390853283520782,0.03427454685718697,0.03464056087916612,0.035006574901145275,0.03537258892312443,0.03573860294510359,0.03610461696708274,0.03647063098906189,0.036836645011041044,0.0372026590330202,0.03756867305499935,0.0379346870769785,0.038300701098957654,0.038666715120936807,0.03903272914291596,0.03939874316489511,0.039764757186874264,0.040130771208853416,0.040496785230832576,0.04086279925281173,0.041228813274790874,0.041594827296770026,0.041960841318749185,0.04232685534072834,0.04269286936270749,0.04305888338468664,0.0434248974066658,0.043790911428644955,0.04415692545062411,0.04452293947260326,0.04488895349458241,0.045254967516561564,0.04562098153854072,0.04598699556051987,0.04635300958249902,0.046719023604478174,0.04708503762645733,0.04745105164843648,0.04781706567041563,0.048183079692394784,0.048549093714373937,0.048915107736353096,0.04928112175833225,0.0496471357803114,0.05001314980229055,0.05037916382426971,0.05074517784624886,0.05111119186822801,0.05147720589020717,0.05184321991218632,0.052209233934165475,0.05257524795614463,0.05294126197812378,0.05330727600010293,0.053673290022082085,0.05403930404406124,0.05440531806604039,0.05477133208801954,0.055137346109998694,0.05550336013197785,0.055869374153957,0.05623538817593615,0.056601402197915304,0.05696741621989446,0.05733343024187361,0.05769944426385276,0.05806545828583193,0.05843147230781108,0.05879748632979023,0.059163500351769385,0.05952951437374854,0.05989552839572769,0.06026154241770684,0.060627556439685995,0.06099357046166515,0.0613595844836443,0.06172559850562345,0.062091612527602605,0.06245762654958176,0.06282364057156091,0.06318965459354006,0.06355566861551921,0.06392168263749837,0.06428769665947752,0.06465371068145667,0.06501972470343582,0.06538573872541498,0.06575175274739413,0.06611776676937328,0.06648378079135245,0.0668497948133316,0.06721580883531075,0.0675818228572899,0.06794783687926906,0.06831385090124821,0.06867986492322736,0.06904587894520652,0.06941189296718567,0.06977790698916482,0.07014392101114397,0.07050993503312313,0.07087594905510228,0.07124196307708143,0.07160797709906058,0.07197399112103973,0.07234000514301889,0.07270601916499804,0.07307203318697719,0.07343804720895634,0.0738040612309355,0.07417007525291465,0.0745360892748938,0.07490210329687297,0.07526811731885212,0.07563413134083127,0.07600014536281043,0.07636615938478958,0.07673217340676873,0.07709818742874788,0.07746420145072704,0.07783021547270619,0.07819622949468534,0.07856224351666449,0.07892825753864365,0.0792942715606228,0.07966028558260195,0.0800262996045811,0.08039231362656027,0.08075832764853942,0.08112434167051856,0.08149035569249771,0.08185636971447686,0.08222238373645602,0.08258839775843518,0.08295441178041434,0.08332042580239349,0.08368643982437264,0.0840524538463518,0.08441846786833095,0.0847844818903101,0.08515049591228925,0.0855165099342684,0.08588252395624756,0.08624853797822671,0.08661455200020586,0.08698056602218501,0.08734658004416417,0.08771259406614333,0.08807860808812248,0.08844462211010164,0.08881063613208079,0.08917665015405994,0.0895426641760391,0.08990867819801825,0.09027469221999739,0.09064070624197655,0.0910067202639557,0.09137273428593486,0.09173874830791401,0.09210476232989316,0.09247077635187231,0.09283679037385147,0.09320280439583062],"type":"scatter"},{"hovertemplate":"indifference curve for <br> optimal utility for risk aversion of 6<extra></extra>","line":{"color":"purple","dash":"dot"},"mode":"lines","name":"Risk Aversion=6","x":[0.0,0.002121212121212121,0.004242424242424242,0.006363636363636363,0.008484848484848484,0.010606060606060605,0.012727272727272726,0.014848484848484847,0.016969696969696968,0.01909090909090909,0.02121212121212121,0.023333333333333334,0.025454545454545452,0.027575757575757573,0.029696969696969694,0.031818181818181815,0.033939393939393936,0.03606060606060606,0.03818181818181818,0.040303030303030306,0.04242424242424242,0.04454545454545454,0.04666666666666667,0.04878787878787878,0.050909090909090904,0.05303030303030303,0.055151515151515146,0.05727272727272727,0.05939393939393939,0.06151515151515151,0.06363636363636363,0.06575757575757575,0.06787878787878787,0.06999999999999999,0.07212121212121211,0.07424242424242423,0.07636363636363636,0.07848484848484848,0.08060606060606061,0.08272727272727272,0.08484848484848484,0.08696969696969696,0.08909090909090908,0.0912121212121212,0.09333333333333334,0.09545454545454544,0.09757575757575757,0.09969696969696969,0.10181818181818181,0.10393939393939393,0.10606060606060606,0.10818181818181817,0.11030303030303029,0.11242424242424241,0.11454545454545453,0.11666666666666664,0.11878787878787878,0.1209090909090909,0.12303030303030302,0.12515151515151512,0.12727272727272726,0.12939393939393937,0.1315151515151515,0.13363636363636364,0.13575757575757574,0.13787878787878785,0.13999999999999999,0.14212121212121212,0.14424242424242423,0.14636363636363636,0.14848484848484847,0.1506060606060606,0.1527272727272727,0.15484848484848485,0.15696969696969695,0.1590909090909091,0.16121212121212122,0.1633333333333333,0.16545454545454544,0.16757575757575754,0.16969696969696968,0.1718181818181818,0.17393939393939392,0.17606060606060606,0.17818181818181816,0.1803030303030303,0.1824242424242424,0.18454545454545454,0.18666666666666668,0.18878787878787875,0.1909090909090909,0.193030303030303,0.19515151515151513,0.19727272727272724,0.19939393939393937,0.2015151515151515,0.20363636363636362,0.20575757575757575,0.20787878787878786,0.21],"y":[0.042240029385618855,0.042253528008208384,0.04229402387597698,0.04236151698892464,0.042456007347051364,0.04257749495035715,0.042725979798842,0.042901461892505904,0.043103941231348884,0.04333341781537092,0.04358989164457202,0.04387336271895219,0.044183831038511416,0.04452129660324971,0.04488575941316706,0.045277219468263484,0.045695676768538966,0.04614113131399351,0.04661358310462712,0.04711303214043979,0.04763947842143153,0.04819292194760232,0.04877336271895219,0.04938080073548111,0.0500152359971891,0.05067666850407616,0.05136509825614227,0.05208052525338745,0.05282294949581169,0.053592370983414996,0.054388789716197365,0.0552122056941588,0.056062618917299294,0.05694002938561885,0.05784443709911748,0.05877584205779516,0.059734244261651914,0.06071964371068772,0.0617320404049026,0.06277143434429654,0.06383782552886955,0.06493121395862161,0.06605159963355273,0.06719898255366293,0.0683733627189522,0.0695747401294205,0.07080311478506789,0.07205848668589433,0.07334085583189984,0.07465022222308441,0.07598658585944806,0.07734994674099074,0.07874030486771251,0.08015766023961333,0.08160201285669323,0.08307336271895217,0.0845717098263902,0.08609705417900727,0.08764939577680342,0.08922873461977862,0.0908350707079329,0.09246840404126622,0.09412873461977862,0.0958160624434701,0.09753038751234061,0.09927170982639018,0.10104002938561885,0.10283534619002657,0.10465766023961334,0.10650697153437919,0.10838328007432407,0.11028658585944805,0.11221688888975108,0.11417418916523317,0.11615848668589432,0.11816978145173455,0.12020807346275385,0.12227336271895216,0.12436564922032958,0.12648493296688604,0.1286312139586216,0.1308044921955362,0.13300476767762986,0.1352320404049026,0.13748631037735437,0.13976757759498526,0.14207584205779514,0.14441110376578414,0.1467733627189522,0.14916261891729926,0.15157887236082546,0.15402212304953067,0.15649237098341495,0.1589896161624783,0.16151385858672074,0.16406509825614224,0.1666433351707428,0.16924856933052243,0.1718808007354811,0.17454002938561883],"type":"scatter"},{"hovertemplate":"indifference curve for <br> optimal utility for risk aversion of 10<extra></extra>","line":{"color":"purple"},"mode":"lines","name":"Risk Aversion=10","x":[0.0,0.002121212121212121,0.004242424242424242,0.006363636363636363,0.008484848484848484,0.010606060606060605,0.012727272727272726,0.014848484848484847,0.016969696969696968,0.01909090909090909,0.02121212121212121,0.023333333333333334,0.025454545454545452,0.027575757575757573,0.029696969696969694,0.031818181818181815,0.033939393939393936,0.03606060606060606,0.03818181818181818,0.040303030303030306,0.04242424242424242,0.04454545454545454,0.04666666666666667,0.04878787878787878,0.050909090909090904,0.05303030303030303,0.055151515151515146,0.05727272727272727,0.05939393939393939,0.06151515151515151,0.06363636363636363,0.06575757575757575,0.06787878787878787,0.06999999999999999,0.07212121212121211,0.07424242424242423,0.07636363636363636,0.07848484848484848,0.08060606060606061,0.08272727272727272,0.08484848484848484,0.08696969696969696,0.08909090909090908,0.0912121212121212,0.09333333333333334,0.09545454545454544,0.09757575757575757,0.09969696969696969,0.10181818181818181,0.10393939393939393,0.10606060606060606,0.10818181818181817,0.11030303030303029,0.11242424242424241,0.11454545454545453,0.11666666666666664,0.11878787878787878,0.1209090909090909,0.12303030303030302,0.12515151515151512,0.12727272727272726,0.12939393939393937,0.1315151515151515,0.13363636363636364,0.13575757575757574,0.13787878787878785,0.13999999999999999,0.14212121212121212,0.14424242424242423,0.14636363636363636,0.14848484848484847,0.1506060606060606,0.1527272727272727,0.15484848484848485,0.15696969696969695,0.1590909090909091,0.16121212121212122,0.1633333333333333,0.16545454545454544,0.16757575757575754,0.16969696969696968,0.1718181818181818,0.17393939393939392,0.17606060606060606,0.17818181818181816,0.1803030303030303,0.1824242424242424,0.18454545454545454,0.18666666666666668,0.18878787878787875,0.1909090909090909,0.193030303030303,0.19515151515151513,0.19727272727272724,0.19939393939393937,0.2015151515151515,0.20363636363636362,0.20575757575757575,0.20787878787878786,0.21],"y":[0.033344017631371306,0.03336651533568719,0.03343400844863485,0.03354649697021428,0.033703980900425486,0.03390646023926846,0.034153934986743205,0.034446405142849724,0.03478387070758802,0.035166331680958084,0.035593788062959916,0.03606623985359353,0.03658368705285891,0.03714612966075606,0.03775356767728499,0.038406001102445686,0.03910342993623815,0.0398458541786624,0.04063327382971841,0.0414656888894062,0.04234309935772576,0.043265505234677086,0.0442329065202602,0.04524530321447506,0.046302695317321715,0.04740508282880014,0.048552465748910326,0.0497448440776523,0.05098221781502603,0.05226458696103154,0.05359195151566882,0.05496431147893788,0.0563816668508387,0.0578440176313713,0.05935136382053567,0.060903705418331816,0.06250104242475973,0.06414337483981941,0.06583070266351089,0.0675630258958341,0.06934034453678911,0.07116265858637588,0.07302996804459444,0.07494227291144476,0.07689957318692686,0.07890186887104073,0.08094915996378635,0.08304144646516376,0.08517872837517296,0.0873610056938139,0.08958827842108665,0.09186054655699114,0.0941778101015274,0.09654006905469545,0.09894732341649526,0.10139957318692683,0.1038968183659902,0.10643905895368534,0.10902629495001225,0.11165852635497091,0.11433575316856136,0.11705797539078357,0.11982519302163758,0.12263740606112337,0.12549461450924088,0.12839681836599018,0.13134401763137127,0.13433621230538417,0.13737340238802875,0.14045558787930518,0.14358276877921333,0.1467549450877533,0.149972116804925,0.15323428393072852,0.15654144646516377,0.1598936044082308,0.16329075775992963,0.16673290652026013,0.17022005068922252,0.1737521902668166,0.1773293252530425,0.18095145564790016,0.18461858145138965,0.18833070266351087,0.19208781928426383,0.19588993131364862,0.1997370387516651,0.20362914159831347,0.20756623985359357,0.21154833351750535,0.21557542259004897,0.21964750707122432,0.22376458696103146,0.2279266622594704,0.2321337329665411,0.2363857990822436,0.2406828606065779,0.24502491753954392,0.24941196988114167,0.25384401763137127],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"title":{"text":"Standard Deviation"},"range":[0,0.1875],"tickformat":".0%"},"yaxis":{"title":{"text":"Expected Return"},"range":[0,0.075],"tickformat":".0%"},"legend":{"yanchor":"top","y":0.5,"xanchor":"left","x":0.6}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c7b6e12b-a30b-488e-be2b-f5d6a9622c7e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</figure>
</div>
</div>
<p>Another way to see how risk aversion affects capital allocation is to plot the weight in the tangency portfolio as a function of risk aversion, as in <a href="#fig-tangency-cal-allocation-by-riskaversion">Figure&nbsp;<span>3.6</span></a>. Higher risk aversion translates into lower holdings of the tangency portfolio. For the assumed inputs, investors with risk aversions below about 15 would choose a levered position in the tangency portfolio. That is, they would find it optimal to borrow money and invest it and their initial investment wealth in the tangency portfolio.</p>
<div class="cell" data-execution_count="7">
<div id="fig-tangency-cal-allocation-by-riskaversion" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p></p><figcaption class="figure-caption">Figure&nbsp;3.6: Preferences and Efficient Portfolios</figcaption><p></p>

<div>                            <div id="88813090-2739-414c-928c-81d432bb889e" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("88813090-2739-414c-928c-81d432bb889e")) {                    Plotly.newPlot(                        "88813090-2739-414c-928c-81d432bb889e",                        [{"customdata":[[[-7191.533564324123],[7291.533564324123]],[[-4761.022376216082],[4861.022376216082]],[[-3545.7667821620616],[3645.7667821620616]],[[-2816.613425729649],[2916.613425729649]],[[-2330.511188108041],[2430.511188108041]],[[-1983.295304092606],[2083.295304092606]],[[-1722.8833910810306],[1822.8833910810306]],[[-1520.3407920720274],[1620.3407920720274]],[[-1358.3067128648245],[1458.3067128648245]],[[-1225.7333753316584],[1325.7333753316584]],[[-1115.25559405402],[1215.25559405402]],[[-1021.7743945114033],[1121.7743945114034]],[[-941.647652046303],[1041.647652046303]],[[-872.2044752432162],[972.2044752432162]],[[-811.4416955405154],[911.4416955405154]],[[-757.827478155779],[857.827478155779]],[[-710.1703960360135],[810.1703960360135]],[[-667.5298488762234],[767.5298488762234]],[[-629.153356432412],[729.153356432412]],[[-594.4317680308689],[694.4317680308689]],[[-562.8666876658291],[662.8666876658291]],[[-534.0463968977497],[634.0463968977497]],[[-507.6277970270101],[607.62779702701]],[[-483.32268514592965],[583.3226851459297]],[[-460.8871972557016],[560.8871972557016]],[[-440.11359735734226],[540.1135973573423]],[[-420.8238260231515],[520.8238260231515]],[[-402.8643837464911],[502.8643837464911]],[[-386.1022376216081],[486.1022376216081]],[[-370.4215202789756],[470.4215202789756]],[[-355.72084777025765],[455.72084777025765]],[[-341.91112511055286],[441.91112511055286]],[[-328.9137390778895],[428.9137390778895]],[[-316.65906081852125],[416.65906081852125]],[[-305.08519801800674],[405.08519801800674]],[[-294.13694942292545],[394.13694942292545]],[[-283.7649244381117],[383.7649244381117]],[[-273.9247981704678],[373.9247981704678]],[[-264.5766782162061],[364.5766782162061]],[[-255.68456411337178],[355.6845641133718]],[[-247.21588401543428],[347.2158840154343]],[[-239.1410960150754],[339.1410960150754]],[[-231.43334383291463],[331.4333438329146]],[[-224.0681584144054],[324.0681584144054]],[[-217.0231984488748],[317.02319844887484]],[[-210.2780240137924],[310.2780240137924]],[[-203.81389851350505],[303.813898513505]],[[-197.6136148703723],[297.6136148703723]],[[-191.66134257296483],[291.6613425729648]],[[-185.942492718593],[285.942492718593]],[[-180.4435986278508],[280.4435986278508]],[[-175.15220997449518],[275.1522099744952]],[[-170.05679867867113],[270.05679867867116]],[[-165.14667506633168],[265.1466750663317]],[[-160.41191301157576],[260.41191301157573]],[[-155.8432829587411],[255.8432829587411]],[[-151.43219187324556],[251.43219187324556]],[[-147.17062929912274],[247.17062929912274]],[[-143.05111881080404],[243.05111881080404]],[[-139.06667424013511],[239.06667424013511]],[[-135.2107601394878],[235.2107601394878]],[[-131.47725601028958],[231.47725601028958]],[[-127.86042388512881],[227.86042388512882]],[[-124.35487890228063],[224.35487890228063]],[[-120.95556255527642],[220.95556255527643]],[[-117.65771833803349],[217.65771833803348]],[[-114.45686953894474],[214.45686953894474]],[[-111.34879896591659],[211.3487989659166]],[[-108.32953040926063],[208.32953040926063]],[[-105.395311671102],[205.39531167110198]],[[-102.54259900900338],[202.54259900900337]],[[-99.76804285819509],[199.7680428581951]],[[-97.06847471146274],[197.06847471146273]],[[-94.44089504864321],[194.44089504864323]],[[-91.88246221905582],[191.88246221905584]],[[-89.39048219023691],[189.3904821902369]],[[-86.96239908523388],[186.9623990852339]],[[-84.59578643858534],[184.59578643858535]],[[-82.28833910810307],[182.28833910810306]],[[-80.03786578578075],[180.03786578578075]],[[-77.84228205668589],[177.8422820566859]],[[-75.69960395961739],[175.69960395961738]],[[-73.60794200771721],[173.6079420077172]],[[-71.56549563115581],[171.5654956311558]],[[-69.57054800753772],[169.57054800753772]],[[-67.6214612488304],[167.6214612488304]],[[-65.71667191645732],[165.7166719164573]],[[-63.854686838744314],[163.8546868387443]],[[-62.03407920720272],[162.03407920720272]],[[-60.25348493020051],[160.2534849302005]],[[-58.511599224437404],[158.51159922443742]],[[-56.8071734263252],[156.8071734263252]],[[-55.139012006896216],[155.13901200689622]],[[-53.50596977524469],[153.5059697752447]],[[-51.90694925675252],[151.9069492567525]],[[-50.34089823348704],[150.34089823348705]],[[-48.80680743518617],[148.80680743518616]],[[-47.303708370184296],[147.3037083701843]],[[-45.83067128648244],[145.83067128648244]],[[-44.386803253943],[144.386803253943]],[[-42.9712463592965],[142.9712463592965]],[[-41.58317600629364],[141.58317600629366]],[[-40.22179931392542],[140.22179931392543]],[[-38.88635360617374],[138.88635360617374]],[[-37.5761049872476],[137.5761049872476]],[[-36.29034699671254],[136.29034699671254]],[[-35.02839933933559],[135.02839933933558]],[[-33.78960668484628],[133.78960668484626]],[[-32.57333753316585],[132.57333753316584]],[[-31.37898314097516],[131.37898314097515]],[[-30.205956505787878],[130.20595650578787]],[[-29.053691403966763],[129.05369140396675]],[[-27.921641479370575],[127.92164147937058]],[[-26.809279379549935],[126.80927937954993]],[[-25.716095936622786],[125.71609593662278]],[[-24.641599390155932],[124.64159939015593]],[[-23.585314649561397],[123.5853146495614]],[[-22.5467825936827],[122.5467825936827]],[[-21.525559405402017],[121.52555940540202]],[[-20.521215939241678],[120.52121593924167]],[[-19.53333712006757],[119.53333712006757]],[[-18.561521371123945],[118.56152137112394]],[[-17.6053800697439],[117.6053800697439]],[[-16.664537029185954],[116.66453702918595]],[[-15.738628005144806],[115.7386280051448]],[[-14.827300225576746],[114.82730022557675]],[[-13.930211942564409],[113.93021194256441]],[[-13.04703200502515],[113.04703200502514]],[[-12.177439451140337],[112.17743945114034]],[[-11.32112311945226],[111.32112311945225]],[[-10.47778127763821],[110.47778127763821]],[[-9.64712126803191],[109.64712126803191]],[[-8.828859169016745],[108.82885916901674]],[[-8.022719471468465],[108.02271947146846]],[[-7.228434769472369],[107.22843476947237]],[[-6.445745464585717],[106.44574546458571]],[[-5.674399482958292],[105.6743994829583]],[[-4.914152004663608],[104.9141520046636]],[[-4.164765204630316],[104.16476520463031]],[[-3.4260080045974695],[103.42600800459746]],[[-2.697655835550994],[102.69765583555099]],[[-1.9794904101275712],[101.97949041012757]],[[-1.2712995045016884],[101.27129950450168]],[[-0.5728767492982234],[100.57287674929822]],[[0.115978570902453],[99.88402142909754]],[[0.7954617098758998],[99.2045382901241]],[[1.4657626442686311],[98.53423735573136]],[[2.1270662506829296],[97.87293374931707]],[[2.7795524756783707],[97.22044752432163]],[[3.423396499018261],[96.57660350098173]],[[4.058768890472086],[95.94123110952792]],[[4.685835760468993],[95.31416423953101]],[[5.304758904881535],[94.69524109511846]],[[5.915695944204868],[94.08430405579513]],[[6.5188004573830565],[93.48119954261695]],[[7.114222110520741],[92.88577788947926]],[[7.702106780707318],[92.29789321929267]],[[8.282596675168275],[91.71740332483172]],[[8.855830445948499],[91.1441695540515]],[[9.421943300321466],[90.57805669967853]],[[9.98106710710962],[90.01893289289038]],[[10.533330499090521],[89.46666950090948]],[[11.078858971657057],[88.92114102834294]],[[11.617774977889416],[88.38222502211059]],[[12.150198020191304],[87.84980197980869]],[[12.67624473863328],[87.32375526136671]],[[13.196028996141395],[86.8039710038586]],[[13.709661960661279],[86.29033803933872]],[[14.21725218442209],[85.7827478155779]],[[14.718905680419624],[85.28109431958038]],[[15.214725996231149],[84.78527400376885]],[[15.704814285270274],[84.29518571472973]],[[16.189269375584804],[83.8107306244152]],[[16.668187836295743],[83.33181216370426]],[[17.141664041771342],[82.85833595822865]],[[17.609790233625745],[82.39020976637426]],[[18.072656580627843],[81.92734341937215]],[[18.530351236601994],[81.46964876339801]],[[18.98296039639864],[81.01703960360136]],[[19.430568350009715],[80.56943164999029]],[[19.873257534899757],[80.12674246510024]],[[20.311108586621618],[79.68889141337839]],[[20.744200387781298],[79.25579961221871]],[[21.1726101154149],[78.8273898845851]],[[21.5964132868374],[78.4035867131626]],[[22.015683804020103],[77.9843161959799]],[[22.430493996551892],[77.56950600344811]],[[22.84091466323681],[77.15908533676318]],[[23.247015112377678],[76.75298488762232]],[[23.648863200794533],[76.35113679920546]],[[24.04652537162374],[75.95347462837626]],[[24.44006669094174],[75.55993330905825]],[[24.82955088325648],[75.17044911674353]],[[25.21504036590645],[74.78495963409355]],[[25.596596282406914],[74.40340371759308]],[[25.974278534780492],[74.0257214652195]],[[26.348145814907852],[73.65185418509215]],[[26.718255634933453],[73.28174436506654]]],"hovertemplate":"risk-free: %{customdata[0]:.0f}%<br>tangency: %{customdata[1]:.0f}%<br><extra></extra>","line":{"color":"orange"},"mode":"lines","x":[0.2,0.30000000000000004,0.4000000000000001,0.5000000000000001,0.6000000000000001,0.7000000000000002,0.8000000000000003,0.9000000000000001,1.0000000000000002,1.1000000000000003,1.2000000000000004,1.3000000000000003,1.4000000000000004,1.5000000000000004,1.6000000000000003,1.7000000000000004,1.8000000000000005,1.9000000000000006,2.000000000000001,2.1000000000000005,2.200000000000001,2.3000000000000007,2.400000000000001,2.500000000000001,2.600000000000001,2.700000000000001,2.800000000000001,2.9000000000000012,3.000000000000001,3.100000000000001,3.200000000000001,3.300000000000001,3.4000000000000012,3.5000000000000013,3.6000000000000014,3.7000000000000015,3.8000000000000016,3.9000000000000012,4.000000000000001,4.100000000000001,4.200000000000002,4.300000000000002,4.400000000000001,4.500000000000002,4.600000000000001,4.700000000000002,4.800000000000002,4.900000000000002,5.000000000000002,5.100000000000001,5.200000000000002,5.300000000000002,5.400000000000002,5.500000000000002,5.600000000000002,5.700000000000002,5.800000000000002,5.900000000000002,6.000000000000002,6.100000000000002,6.200000000000002,6.3000000000000025,6.400000000000002,6.500000000000003,6.600000000000002,6.700000000000002,6.8000000000000025,6.900000000000002,7.000000000000003,7.100000000000002,7.200000000000003,7.3000000000000025,7.400000000000003,7.500000000000003,7.600000000000002,7.700000000000003,7.8000000000000025,7.900000000000003,8.000000000000002,8.100000000000003,8.200000000000003,8.300000000000002,8.400000000000002,8.500000000000002,8.600000000000001,8.700000000000003,8.800000000000002,8.900000000000002,9.000000000000002,9.100000000000001,9.200000000000003,9.300000000000002,9.400000000000002,9.500000000000002,9.600000000000003,9.700000000000003,9.800000000000002,9.900000000000002,10.000000000000002,10.100000000000003,10.200000000000003,10.300000000000002,10.400000000000002,10.500000000000004,10.600000000000003,10.700000000000003,10.800000000000002,10.900000000000002,11.000000000000004,11.100000000000003,11.200000000000003,11.300000000000002,11.400000000000002,11.500000000000004,11.600000000000003,11.700000000000003,11.800000000000002,11.900000000000004,12.000000000000004,12.100000000000003,12.200000000000003,12.300000000000002,12.400000000000004,12.500000000000004,12.600000000000003,12.700000000000003,12.800000000000004,12.900000000000004,13.000000000000004,13.100000000000003,13.200000000000003,13.300000000000004,13.400000000000004,13.500000000000004,13.600000000000003,13.700000000000005,13.800000000000004,13.900000000000004,14.000000000000004,14.100000000000003,14.200000000000005,14.300000000000004,14.400000000000004,14.500000000000004,14.600000000000005,14.700000000000005,14.800000000000004,14.900000000000004,15.000000000000004,15.100000000000005,15.200000000000005,15.300000000000004,15.400000000000004,15.500000000000004,15.600000000000005,15.700000000000005,15.800000000000004,15.900000000000004,16.000000000000007,16.100000000000005,16.200000000000006,16.300000000000004,16.400000000000006,16.500000000000004,16.600000000000005,16.700000000000006,16.800000000000004,16.900000000000006,17.000000000000004,17.100000000000005,17.200000000000006,17.300000000000004,17.400000000000006,17.500000000000004,17.600000000000005,17.700000000000006,17.800000000000004,17.900000000000006,18.000000000000004,18.100000000000005,18.200000000000006,18.300000000000004,18.400000000000006,18.500000000000007,18.600000000000005,18.700000000000006,18.800000000000004,18.900000000000006,19.000000000000007,19.100000000000005,19.200000000000006,19.300000000000004,19.400000000000006,19.500000000000007,19.600000000000005,19.700000000000006,19.800000000000004,19.900000000000006],"y":[72.91533564324124,48.61022376216082,36.45766782162062,29.16613425729649,24.30511188108041,20.83295304092606,18.228833910810305,16.203407920720274,14.583067128648246,13.257333753316585,12.152555940540202,11.217743945114034,10.41647652046303,9.722044752432161,9.114416955405154,8.57827478155779,8.101703960360135,7.675298488762233,7.29153356432412,6.944317680308688,6.628666876658291,6.340463968977496,6.076277970270101,5.833226851459297,5.608871972557016,5.401135973573423,5.208238260231515,5.028643837464911,4.861022376216081,4.704215202789756,4.557208477702576,4.419111251105528,4.289137390778895,4.166590608185213,4.0508519801800675,3.9413694942292548,3.8376492443811165,3.7392479817046778,3.6457667821620614,3.5568456411337177,3.472158840154343,3.391410960150754,3.3143334383291463,3.240681584144054,3.170231984488748,3.102780240137924,3.0381389851350504,2.976136148703723,2.9166134257296483,2.85942492718593,2.804435986278508,2.751522099744952,2.7005679867867114,2.651466750663317,2.6041191301157576,2.558432829587411,2.5143219187324557,2.4717062929912275,2.4305111881080403,2.390666742401351,2.352107601394878,2.3147725601028957,2.278604238851288,2.2435487890228063,2.209555625552764,2.176577183380335,2.1445686953894474,2.113487989659166,2.0832953040926063,2.05395311671102,2.0254259900900338,1.997680428581951,1.9706847471146274,1.9444089504864321,1.9188246221905583,1.893904821902369,1.8696239908523389,1.8459578643858534,1.8228833910810307,1.8003786578578076,1.7784228205668589,1.756996039596174,1.736079420077172,1.7156549563115582,1.6957054800753772,1.676214612488304,1.6571667191645731,1.6385468683874431,1.6203407920720272,1.602534849302005,1.585115992244374,1.568071734263252,1.5513901200689622,1.5350596977524469,1.5190694925675252,1.5034089823348704,1.4880680743518617,1.473037083701843,1.4583067128648244,1.44386803253943,1.429712463592965,1.4158317600629364,1.4022179931392542,1.3888635360617374,1.375761049872476,1.3629034699671254,1.350283993393356,1.3378960668484627,1.3257333753316585,1.3137898314097516,1.3020595650578788,1.2905369140396676,1.2792164147937057,1.2680927937954993,1.2571609593662278,1.2464159939015593,1.235853146495614,1.225467825936827,1.2152555940540202,1.2052121593924168,1.1953333712006757,1.1856152137112395,1.176053800697439,1.1666453702918596,1.157386280051448,1.1482730022557674,1.139302119425644,1.1304703200502515,1.1217743945114034,1.1132112311945226,1.104777812776382,1.096471212680319,1.0882885916901675,1.0802271947146846,1.0722843476947237,1.0644574546458572,1.056743994829583,1.049141520046636,1.0416476520463032,1.0342600800459747,1.02697655835551,1.0197949041012757,1.0127129950450169,1.0057287674929822,0.9988402142909755,0.992045382901241,0.9853423735573137,0.9787293374931707,0.9722044752432163,0.9657660350098174,0.9594123110952791,0.9531416423953101,0.9469524109511847,0.9408430405579513,0.9348119954261694,0.9288577788947926,0.9229789321929268,0.9171740332483173,0.911441695540515,0.9057805669967853,0.9001893289289038,0.8946666950090948,0.8892114102834294,0.8838222502211058,0.878498019798087,0.8732375526136672,0.868039710038586,0.8629033803933872,0.8578274781557791,0.8528109431958038,0.8478527400376885,0.8429518571472973,0.838107306244152,0.8333181216370426,0.8285833595822866,0.8239020976637426,0.8192734341937216,0.8146964876339801,0.8101703960360136,0.8056943164999029,0.8012674246510024,0.7968889141337838,0.792557996122187,0.788273898845851,0.784035867131626,0.779843161959799,0.7756950600344811,0.7715908533676319,0.7675298488762232,0.7635113679920547,0.7595347462837626,0.7555993330905826,0.7517044911674352,0.7478495963409355,0.7440340371759309,0.7402572146521951,0.7365185418509215,0.7328174436506655],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"title":{"text":"Risk Aversion"},"tickformat":".2"},"yaxis":{"title":{"text":"Weight in Risky Assets"},"tickformat":".1%"},"legend":{"yanchor":"top","y":0.99,"xanchor":"left","x":0.74}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('88813090-2739-414c-928c-81d432bb889e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</figure>
</div>
</div>

<!-- 

::: {.cell execution_count=8}

::: {#fig-cal-preferences .cell-output .cell-output-display}

```{=html}
<div>                            <div id="fb4170ef-b8c9-413c-8499-813461f06018" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("fb4170ef-b8c9-413c-8499-813461f06018")) {                    Plotly.newPlot(                        "fb4170ef-b8c9-413c-8499-813461f06018",                        [{"hovertemplate":"wealth in market = %{text:.0f}%<extra></extra>","mode":"lines","name":"CAL","text":[0.0,1.0,2.0,3.0,4.0,5.0,6.0,7.000000000000001,8.0,9.0,10.0,11.0,12.0,13.0,14.000000000000002,15.0,16.0,17.0,18.0,19.0,20.0,21.0,22.0,23.0,24.0,25.0,26.0,27.0,28.000000000000004,28.999999999999996,30.0,31.0,32.0,33.0,34.0,35.0,36.0,37.0,38.0,39.0,40.0,41.0,42.0,43.0,44.0,45.0,46.0,47.0,48.0,49.0,50.0,51.0,52.0,53.0,54.0,55.00000000000001,56.00000000000001,57.00000000000001,57.99999999999999,59.0,60.0,61.0,62.0,63.0,64.0,65.0,66.0,67.0,68.0,69.0,70.0,71.0,72.0,73.0,74.0,75.0,76.0,77.0,78.0,79.0,80.0,81.0,82.0,83.0,84.0,85.0,86.0,87.0,88.0,89.0,90.0,91.0,92.0,93.0,94.0,95.0,96.0,97.0,98.0,99.0,100.0,101.0,102.0,103.0,104.0,105.0,106.0,107.0,108.0,109.00000000000001,110.00000000000001,111.00000000000001,112.00000000000001,113.00000000000001,114.00000000000001,115.00000000000001,115.99999999999999,117.0,118.0,119.0,120.0,121.0,122.0,123.0,124.0,125.0,126.0,127.0,128.0,129.0,130.0,131.0,132.0,133.0,134.0,135.0,136.0,137.0,138.0,139.0,140.0,141.0,142.0,143.0,144.0,145.0,146.0,147.0,148.0,149.0,150.0,151.0,152.0,153.0,154.0,155.0,156.0,157.0,158.0,159.0,160.0,161.0,162.0,163.0,164.0,165.0,166.0,167.0,168.0,169.0,170.0,171.0,172.0,173.0,174.0,175.0,176.0,177.0,178.0,179.0,180.0,181.0,182.0,183.0,184.0,185.0,186.0,187.0,188.0,189.0,190.0,191.0,192.0,193.0,194.0,195.0,196.0,197.0,198.0,199.0,200.0],"x":[0.0,0.0015,0.003,0.0045,0.006,0.0075,0.009,0.0105,0.012,0.0135,0.015,0.0165,0.018,0.0195,0.021,0.0225,0.024,0.025500000000000002,0.027,0.028499999999999998,0.03,0.0315,0.033,0.0345,0.036,0.0375,0.039,0.0405,0.042,0.0435,0.045,0.0465,0.048,0.0495,0.051000000000000004,0.052500000000000005,0.054,0.0555,0.056999999999999995,0.058499999999999996,0.06,0.0615,0.063,0.0645,0.066,0.0675,0.069,0.07050000000000001,0.072,0.0735,0.075,0.0765,0.078,0.0795,0.081,0.0825,0.084,0.0855,0.087,0.0885,0.09,0.0915,0.093,0.0945,0.096,0.0975,0.099,0.1005,0.10200000000000001,0.10350000000000001,0.10500000000000001,0.1065,0.108,0.1095,0.111,0.11249999999999999,0.11399999999999999,0.11549999999999999,0.11699999999999999,0.1185,0.12,0.1215,0.123,0.1245,0.126,0.1275,0.129,0.1305,0.132,0.1335,0.135,0.1365,0.138,0.1395,0.14100000000000001,0.14250000000000002,0.144,0.1455,0.147,0.1485,0.15,0.1515,0.153,0.1545,0.156,0.1575,0.159,0.1605,0.162,0.1635,0.165,0.1665,0.168,0.1695,0.171,0.17250000000000001,0.174,0.1755,0.177,0.1785,0.18,0.1815,0.183,0.1845,0.186,0.1875,0.189,0.1905,0.192,0.1935,0.195,0.1965,0.198,0.1995,0.201,0.2025,0.20400000000000001,0.20550000000000002,0.20700000000000002,0.20850000000000002,0.21000000000000002,0.2115,0.213,0.2145,0.216,0.2175,0.219,0.2205,0.222,0.2235,0.22499999999999998,0.22649999999999998,0.22799999999999998,0.22949999999999998,0.23099999999999998,0.23249999999999998,0.23399999999999999,0.2355,0.237,0.2385,0.24,0.2415,0.243,0.2445,0.246,0.2475,0.249,0.2505,0.252,0.2535,0.255,0.2565,0.258,0.2595,0.261,0.2625,0.264,0.2655,0.267,0.2685,0.27,0.2715,0.273,0.2745,0.276,0.2775,0.279,0.2805,0.28200000000000003,0.28350000000000003,0.28500000000000003,0.28650000000000003,0.288,0.2895,0.291,0.2925,0.294,0.2955,0.297,0.2985,0.3],"y":[0.02,0.0204,0.0208,0.0212,0.0216,0.022,0.0224,0.0228,0.0232,0.0236,0.024,0.024399999999999998,0.0248,0.0252,0.0256,0.026,0.0264,0.0268,0.0272,0.0276,0.027999999999999997,0.028399999999999998,0.0288,0.0292,0.029599999999999998,0.03,0.0304,0.0308,0.0312,0.031599999999999996,0.032,0.0324,0.032799999999999996,0.0332,0.0336,0.034,0.0344,0.0348,0.035199999999999995,0.0356,0.036,0.0364,0.0368,0.0372,0.037599999999999995,0.038,0.038400000000000004,0.0388,0.0392,0.039599999999999996,0.039999999999999994,0.0404,0.0408,0.0412,0.0416,0.041999999999999996,0.0424,0.0428,0.043199999999999995,0.0436,0.044,0.044399999999999995,0.04479999999999999,0.0452,0.0456,0.046,0.0464,0.046799999999999994,0.0472,0.0476,0.048,0.0484,0.048799999999999996,0.049199999999999994,0.04959999999999999,0.049999999999999996,0.0504,0.0508,0.051199999999999996,0.05159999999999999,0.05199999999999999,0.0524,0.0528,0.0532,0.053599999999999995,0.05399999999999999,0.05439999999999999,0.0548,0.0552,0.0556,0.055999999999999994,0.05639999999999999,0.0568,0.0572,0.0576,0.057999999999999996,0.058399999999999994,0.05879999999999999,0.05919999999999999,0.0596,0.06,0.060399999999999995,0.06079999999999999,0.06119999999999999,0.0616,0.062,0.0624,0.0628,0.06319999999999999,0.0636,0.064,0.0644,0.0648,0.0652,0.06559999999999999,0.066,0.06639999999999999,0.06679999999999998,0.0672,0.0676,0.06799999999999999,0.06839999999999999,0.06879999999999999,0.0692,0.0696,0.06999999999999999,0.07039999999999999,0.07079999999999999,0.0712,0.0716,0.072,0.07239999999999999,0.07279999999999999,0.0732,0.0736,0.074,0.0744,0.07479999999999999,0.0752,0.0756,0.076,0.07639999999999998,0.0768,0.07719999999999999,0.07759999999999999,0.07799999999999999,0.07839999999999998,0.0788,0.07919999999999999,0.07959999999999999,0.07999999999999999,0.08039999999999999,0.0808,0.0812,0.08159999999999999,0.08199999999999999,0.08239999999999999,0.0828,0.0832,0.0836,0.08399999999999999,0.0844,0.0848,0.0852,0.0856,0.086,0.0864,0.08679999999999999,0.08719999999999999,0.0876,0.088,0.08839999999999999,0.08879999999999999,0.08919999999999999,0.0896,0.09,0.0904,0.09079999999999999,0.09119999999999999,0.0916,0.092,0.0924,0.0928,0.09319999999999999,0.0936,0.094,0.0944,0.0948,0.09519999999999999,0.09559999999999999,0.096,0.0964,0.09679999999999998,0.0972,0.09759999999999999,0.09799999999999999,0.09839999999999999,0.09879999999999999,0.0992,0.0996,0.09999999999999999],"type":"scatter"},{"hovertemplate":"wealth in market = 100%<extra></extra>","marker":{"size":15},"mode":"markers","name":"Market","x":[0.15],"y":[0.06],"type":"scatter"},{"hovertemplate":"wealth in market = 0%<extra></extra>","marker":{"size":15},"mode":"markers","name":"Risk-free (Saving)","x":[0],"y":[0.02],"type":"scatter"},{"hovertemplate":"indifference curve for <br>utility obtained from <br>optimal wealth in market = 59.0%<extra></extra>","mode":"lines","name":"Risk Aversion=3","x":[0.0,0.0015,0.003,0.0045,0.006,0.0075,0.009,0.0105,0.012,0.0135,0.015,0.0165,0.018,0.0195,0.021,0.0225,0.024,0.025500000000000002,0.027,0.028499999999999998,0.03,0.0315,0.033,0.0345,0.036,0.0375,0.039,0.0405,0.042,0.0435,0.045,0.0465,0.048,0.0495,0.051000000000000004,0.052500000000000005,0.054,0.0555,0.056999999999999995,0.058499999999999996,0.06,0.0615,0.063,0.0645,0.066,0.0675,0.069,0.07050000000000001,0.072,0.0735,0.075,0.0765,0.078,0.0795,0.081,0.0825,0.084,0.0855,0.087,0.0885,0.09,0.0915,0.093,0.0945,0.096,0.0975,0.099,0.1005,0.10200000000000001,0.10350000000000001,0.10500000000000001,0.1065,0.108,0.1095,0.111,0.11249999999999999,0.11399999999999999,0.11549999999999999,0.11699999999999999,0.1185,0.12,0.1215,0.123,0.1245,0.126,0.1275,0.129,0.1305,0.132,0.1335,0.135,0.1365,0.138,0.1395,0.14100000000000001,0.14250000000000002,0.144,0.1455,0.147,0.1485,0.15,0.1515,0.153,0.1545,0.156,0.1575,0.159,0.1605,0.162,0.1635,0.165,0.1665,0.168,0.1695,0.171,0.17250000000000001,0.174,0.1755,0.177,0.1785,0.18,0.1815,0.183,0.1845,0.186,0.1875,0.189,0.1905,0.192,0.1935,0.195,0.1965,0.198,0.1995,0.201,0.2025,0.20400000000000001,0.20550000000000002,0.20700000000000002,0.20850000000000002,0.21000000000000002,0.2115,0.213,0.2145,0.216,0.2175,0.219,0.2205,0.222,0.2235,0.22499999999999998,0.22649999999999998,0.22799999999999998,0.22949999999999998,0.23099999999999998,0.23249999999999998,0.23399999999999999,0.2355,0.237,0.2385,0.24,0.2415,0.243,0.2445,0.246,0.2475,0.249,0.2505,0.252,0.2535,0.255,0.2565,0.258,0.2595,0.261,0.2625,0.264,0.2655,0.267,0.2685,0.27,0.2715,0.273,0.2745,0.276,0.2775,0.279,0.2805,0.28200000000000003,0.28350000000000003,0.28500000000000003,0.28650000000000003,0.288,0.2895,0.291,0.2925,0.294,0.2955,0.297,0.2985,0.3],"y":[0.03185185185185186,0.03185522685185186,0.03186535185185186,0.03188222685185186,0.03190585185185186,0.03193622685185186,0.03197335185185186,0.03201722685185186,0.03206785185185186,0.03212522685185186,0.03218935185185186,0.03226022685185186,0.03233785185185186,0.03242222685185186,0.03251335185185186,0.03261122685185186,0.03271585185185186,0.03282722685185186,0.03294535185185186,0.03307022685185186,0.03320185185185186,0.03334022685185186,0.03348535185185186,0.03363722685185186,0.03379585185185186,0.033961226851851864,0.03413335185185186,0.03431222685185186,0.03449785185185186,0.03469022685185186,0.03488935185185186,0.03509522685185186,0.03530785185185186,0.03552722685185186,0.03575335185185186,0.03598622685185186,0.036225851851851856,0.03647222685185186,0.036725351851851856,0.03698522685185186,0.03725185185185186,0.03752522685185186,0.03780535185185186,0.03809222685185186,0.03838585185185186,0.03868622685185186,0.03899335185185186,0.03930722685185186,0.03962785185185186,0.03995522685185186,0.04028935185185186,0.04063022685185186,0.04097785185185186,0.04133222685185186,0.041693351851851856,0.04206122685185186,0.042435851851851863,0.04281722685185186,0.043205351851851856,0.04360022685185186,0.04400185185185186,0.044410226851851864,0.04482535185185186,0.04524722685185186,0.045675851851851856,0.04611122685185186,0.04655335185185186,0.04700222685185186,0.04745785185185186,0.04792022685185186,0.048389351851851864,0.048865226851851865,0.04934785185185186,0.04983722685185186,0.050333351851851865,0.05083622685185186,0.05134585185185186,0.05186222685185186,0.05238535185185186,0.05291522685185186,0.05345185185185186,0.05399522685185186,0.05454535185185186,0.05510222685185186,0.05566585185185186,0.05623622685185186,0.05681335185185186,0.05739722685185186,0.05798785185185186,0.058585226851851864,0.05918935185185186,0.059800226851851865,0.06041785185185186,0.06104222685185187,0.06167335185185187,0.062311226851851864,0.06295585185185186,0.06360722685185186,0.06426535185185187,0.06493022685185186,0.06560185185185186,0.06628022685185186,0.06696535185185186,0.06765722685185185,0.06835585185185186,0.06906122685185187,0.06977335185185186,0.07049222685185186,0.07121785185185187,0.07195022685185187,0.07268935185185187,0.07343522685185186,0.07418785185185187,0.07494722685185187,0.07571335185185187,0.07648622685185186,0.07726585185185186,0.07805222685185186,0.07884535185185185,0.07964522685185185,0.08045185185185186,0.08126522685185186,0.08208535185185187,0.08291222685185187,0.08374585185185186,0.08458622685185185,0.08543335185185186,0.08628722685185186,0.08714785185185187,0.08801522685185187,0.08888935185185187,0.08977022685185186,0.09065785185185186,0.09155222685185185,0.09245335185185187,0.09336122685185187,0.09427585185185186,0.09519722685185186,0.09612535185185186,0.09706022685185187,0.09800185185185187,0.09895022685185184,0.09990535185185187,0.10086722685185184,0.10183585185185184,0.10281122685185187,0.10379335185185184,0.10478222685185187,0.10577785185185187,0.10678022685185187,0.10778935185185184,0.10880522685185184,0.10982785185185184,0.11085722685185184,0.11189335185185184,0.11293622685185184,0.11398585185185184,0.11504222685185186,0.11610535185185186,0.11717522685185186,0.11825185185185186,0.11933522685185186,0.12042535185185185,0.12152222685185185,0.12262585185185185,0.12373622685185184,0.12485335185185187,0.12597722685185184,0.12710785185185186,0.12824522685185186,0.12938935185185185,0.13054022685185185,0.13169785185185184,0.13286222685185187,0.13403335185185186,0.13521122685185186,0.13639585185185188,0.13758722685185187,0.13878535185185187,0.13999022685185186,0.14120185185185186,0.14242022685185188,0.14364535185185187,0.14487722685185186,0.14611585185185186,0.14736122685185188,0.1486133518518519,0.1498722268518519,0.15113785185185188,0.15241022685185188,0.1536893518518519,0.1549752268518519,0.15626785185185185,0.15756722685185184,0.15887335185185184,0.16018622685185183,0.16150585185185184,0.16283222685185184,0.16416535185185185,0.16550522685185184,0.16685185185185186],"type":"scatter"},{"hovertemplate":"indifference curve for <br>utility obtained from <br>optimal wealth in market = 356.0%<extra></extra>","mode":"lines","name":"Risk Aversion=0.5","x":[0.0,0.0015,0.003,0.0045,0.006,0.0075,0.009,0.0105,0.012,0.0135,0.015,0.0165,0.018,0.0195,0.021,0.0225,0.024,0.025500000000000002,0.027,0.028499999999999998,0.03,0.0315,0.033,0.0345,0.036,0.0375,0.039,0.0405,0.042,0.0435,0.045,0.0465,0.048,0.0495,0.051000000000000004,0.052500000000000005,0.054,0.0555,0.056999999999999995,0.058499999999999996,0.06,0.0615,0.063,0.0645,0.066,0.0675,0.069,0.07050000000000001,0.072,0.0735,0.075,0.0765,0.078,0.0795,0.081,0.0825,0.084,0.0855,0.087,0.0885,0.09,0.0915,0.093,0.0945,0.096,0.0975,0.099,0.1005,0.10200000000000001,0.10350000000000001,0.10500000000000001,0.1065,0.108,0.1095,0.111,0.11249999999999999,0.11399999999999999,0.11549999999999999,0.11699999999999999,0.1185,0.12,0.1215,0.123,0.1245,0.126,0.1275,0.129,0.1305,0.132,0.1335,0.135,0.1365,0.138,0.1395,0.14100000000000001,0.14250000000000002,0.144,0.1455,0.147,0.1485,0.15,0.1515,0.153,0.1545,0.156,0.1575,0.159,0.1605,0.162,0.1635,0.165,0.1665,0.168,0.1695,0.171,0.17250000000000001,0.174,0.1755,0.177,0.1785,0.18,0.1815,0.183,0.1845,0.186,0.1875,0.189,0.1905,0.192,0.1935,0.195,0.1965,0.198,0.1995,0.201,0.2025,0.20400000000000001,0.20550000000000002,0.20700000000000002,0.20850000000000002,0.21000000000000002,0.2115,0.213,0.2145,0.216,0.2175,0.219,0.2205,0.222,0.2235,0.22499999999999998,0.22649999999999998,0.22799999999999998,0.22949999999999998,0.23099999999999998,0.23249999999999998,0.23399999999999999,0.2355,0.237,0.2385,0.24,0.2415,0.243,0.2445,0.246,0.2475,0.249,0.2505,0.252,0.2535,0.255,0.2565,0.258,0.2595,0.261,0.2625,0.264,0.2655,0.267,0.2685,0.27,0.2715,0.273,0.2745,0.276,0.2775,0.279,0.2805,0.28200000000000003,0.28350000000000003,0.28500000000000003,0.28650000000000003,0.288,0.2895,0.291,0.2925,0.294,0.2955,0.297,0.2985,0.3],"y":[0.0911111111111111,0.0911116736111111,0.0911133611111111,0.0911161736111111,0.0911201111111111,0.0911251736111111,0.0911313611111111,0.0911386736111111,0.0911471111111111,0.0911566736111111,0.0911673611111111,0.0911791736111111,0.0911921111111111,0.09120617361111111,0.09122136111111111,0.0912376736111111,0.0912551111111111,0.0912736736111111,0.0912933611111111,0.0913141736111111,0.0913361111111111,0.0913591736111111,0.0913833611111111,0.0914086736111111,0.0914351111111111,0.0914626736111111,0.0914913611111111,0.0915211736111111,0.0915521111111111,0.0915841736111111,0.0916173611111111,0.0916516736111111,0.0916871111111111,0.0917236736111111,0.0917613611111111,0.0918001736111111,0.0918401111111111,0.0918811736111111,0.0919233611111111,0.0919666736111111,0.0920111111111111,0.0920566736111111,0.0921033611111111,0.0921511736111111,0.09220011111111111,0.0922501736111111,0.0923013611111111,0.0923536736111111,0.0924071111111111,0.0924616736111111,0.0925173611111111,0.0925741736111111,0.0926321111111111,0.09269117361111111,0.0927513611111111,0.0928126736111111,0.0928751111111111,0.0929386736111111,0.0930033611111111,0.0930691736111111,0.0931361111111111,0.09320417361111111,0.0932733611111111,0.0933436736111111,0.0934151111111111,0.0934876736111111,0.0935613611111111,0.0936361736111111,0.09371211111111111,0.0937891736111111,0.0938673611111111,0.0939466736111111,0.0940271111111111,0.0941086736111111,0.09419136111111111,0.0942751736111111,0.0943601111111111,0.0944461736111111,0.0945333611111111,0.0946216736111111,0.09471111111111111,0.0948016736111111,0.0948933611111111,0.0949861736111111,0.0950801111111111,0.09517517361111111,0.0952713611111111,0.09536867361111111,0.0954671111111111,0.0955666736111111,0.0956673611111111,0.0957691736111111,0.0958721111111111,0.0959761736111111,0.0960813611111111,0.09618767361111111,0.0962951111111111,0.0964036736111111,0.0965133611111111,0.0966241736111111,0.0967361111111111,0.0968491736111111,0.0969633611111111,0.0970786736111111,0.09719511111111111,0.0973126736111111,0.0974313611111111,0.0975511736111111,0.0976721111111111,0.0977941736111111,0.0979173611111111,0.0980416736111111,0.09816711111111111,0.0982936736111111,0.0984213611111111,0.0985501736111111,0.09868011111111111,0.0988111736111111,0.0989433611111111,0.0990766736111111,0.0992111111111111,0.0993466736111111,0.0994833611111111,0.0996211736111111,0.0997601111111111,0.0999001736111111,0.1000413611111111,0.10018367361111111,0.1003271111111111,0.1004716736111111,0.10061736111111111,0.1007641736111111,0.1009121111111111,0.1010611736111111,0.1012113611111111,0.1013626736111111,0.1015151111111111,0.10166867361111111,0.10182336111111111,0.1019791736111111,0.10213611111111111,0.1022941736111111,0.1024533611111111,0.1026136736111111,0.1027751111111111,0.1029376736111111,0.1031013611111111,0.1032661736111111,0.1034321111111111,0.1035991736111111,0.1037673611111111,0.1039366736111111,0.1041071111111111,0.1042786736111111,0.1044513611111111,0.1046251736111111,0.1048001111111111,0.1049761736111111,0.1051533611111111,0.10533167361111109,0.1055111111111111,0.1056916736111111,0.1058733611111111,0.1060561736111111,0.1062401111111111,0.1064251736111111,0.10661136111111111,0.1067986736111111,0.1069871111111111,0.1071766736111111,0.1073673611111111,0.1075591736111111,0.1077521111111111,0.1079461736111111,0.1081413611111111,0.1083376736111111,0.10853511111111111,0.10873367361111111,0.1089333611111111,0.10913417361111111,0.1093361111111111,0.1095391736111111,0.1097433611111111,0.1099486736111111,0.1101551111111111,0.1103626736111111,0.1105713611111111,0.1107811736111111,0.1109921111111111,0.11120417361111111,0.11141736111111111,0.1116316736111111,0.11184711111111109,0.1120636736111111,0.1122813611111111,0.1125001736111111,0.1127201111111111,0.1129411736111111,0.1131633611111111,0.1133866736111111,0.11361111111111111],"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"title":{"text":"Standard Deviation"},"tickformat":".0%"},"yaxis":{"title":{"text":"Expected Return"},"tickformat":".0%"},"legend":{"yanchor":"top","y":0.99,"xanchor":"left","x":0.01}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('fb4170ef-b8c9-413c-8499-813461f06018');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
```


Preferences and the Capital Allocation Line
:::
:::


import numpy as np
import pandas as pd
import plotly.graph_objects as go

# Parameter values (in percent)
mn = 6
sd = 15
s = 2
extra = 2    #incremental borrowing rate

def opt_wgt(mn, sd, s, b, A):
    # return/sd inputs must be in decimal
    wgt = (mn - s) / (A * (sd**2))
    expret= wgt*mn + (1-wgt)*s
    sdret = wgt*sd 
    if wgt > 1:
        wgt = (mn - b) / (A * (sd**2))
        wgt = max(wgt,1)
        expret= wgt*mn + (1-wgt)*b 
        sdret = wgt*sd   
    u = expret - 0.5*A*sdret**2
    return wgt

def figtbl(mn, sd, s, extra):
    mn /= 100
    sd /= 100
    b = s+extra
    s /= 100
    b /= 100

    ravers = np.arange(0.2,5.1,0.1)
    wgts = [opt_wgt(mn,sd,s,b,A) for A in ravers]
    
    string = "Risk Aversion: %{x:.2f} <br>Risky Asset Weight: %{y:.1%}<extra></extra>"
    trace1 = go.Scatter(
        x=ravers, y=wgts, mode="lines", hovertemplate=string, marker=dict(size=15), name='Optimal Weight'
    )       
    fig = go.Figure()
    fig.add_trace(trace1)
    fig.layout.xaxis["title"] = "Risk Aversion"
    fig.layout.yaxis["title"] = "Weight in Risky Asset"
    fig.update_yaxes(tickformat=".1%")
    fig.update_xaxes(tickformat=".2")
    fig.update_layout(legend=dict(yanchor="top", y =0.99, xanchor="left", x=0.74))
    fig.show()
figtbl(mn, sd, s, extra)
``` -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./diversification.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Miracle of Diversification</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./portfolios_frictions.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Optimal Portfolios: Practice</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>