{
  "hash": "d42e51f610a4ea3d859e44536ec628df",
  "result": {
    "markdown": "# Portfolio Optimization Sensitivity to Inputs\n\nOptimal risky portfolios can be quite sensitive to the inputs, which consist of expected returns, standard deviations, and correlations across assets.  An example is provided in the first section below.  In practice, one must estimate these inputs.  Expected returns are notoriously hard to estimate using historical data, which we discuss in detail in SECTION LINK, so we often resort to models for inputs here or assume expected returns are equal across assets.  Asset volatilities and correlations can be forecasted more sucessfully.  Forecasting correlations in portfolios with many assets is complicated by the fact that the number of correlations we need to estimate rises quadratically with the number of assets.\n\n## Sensitivity of weights\n\nLet's return to the example of investing in US equity, developed international, and emerging market funds from the portfolios chapter.  We will fix the input parameters for all but the US equity portfolio and see what happens to the tangency portfolio weights as we vary our assumptions about the US equity portfolio.\n\n### Expected returns {-}\n\nPortfolio optimization is quite sensitive to expected returns.  This is rather unfortunate because financial economists and practitioners are not particularly great at forecasting expected returns.  @fig-sensitivity-expret shows how the tangency portfolio weights changes as a function of different inputs for the US equity expected return.  With a drop in the expected return input of only about 0.5%, the allocation to US equity in the optimal risky portfolio goes to zero!  If the expected return input is 5%, the optimal portfolio has short exposure equal to about 50% of total capital.  Higher expected returns inputs result in greater allocations to the US equity portfolio.  If the expected return input is 7%, about 80% of the optimal portfolio is invested in US equities.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nfrom cvxopt import matrix\nfrom cvxopt.solvers import qp as Solver, options as SolverOptions\nfrom scipy.optimize import minimize_scalar\nfrom scipy.optimize import minimize\nimport plotly.graph_objects as go\n##### Inputs\n# Risk-free rate\nr = 0.02\n# Expected returns\nmeans = np.array([0.06, 0.065, 0.08])\n# Standard deviations\nsds = np.array([0.15, 0.165, 0.21])\n# Correlations\ncorr12 = 0.75\ncorr13 = 0.75\ncorr23 = 0.75\n# Covariance matrix\nC  = np.identity(3)\nC[0, 1] = C[1, 0] = corr12\nC[0, 2] = C[2, 0] = corr13\nC[1, 2] = C[2, 1] = corr23\ncov = np.diag(sds) @ C @ np.diag(sds)\n\ndef tangency(means, cov, rf, Shorts):\n    n = len(means)\n    def f(w):\n        mn = w @ means\n        sd = np.sqrt(w.T @ cov @ w)\n        return -(mn - rf) / sd\n    # Initial guess (equal-weighted)\n    w0 = (1/n)*np.ones(n)\n    # Constraint: fully-invested portfolio\n    A = np.ones(n)\n    b = 1\n    cons = [{\"type\": \"eq\", \"fun\": lambda x: A @ x - b}]\n    if Shorts==True:\n        # No short-sale constraint\n        bnds = [(None, None) for i in range(n)] \n    else:\n        # With short-sale constraint\n        bnds = [(0, None) for i in range(n)] \n    # Optimization\n    wgts_tangency = minimize(f, w0, bounds=bnds, constraints=cons).x\n    return wgts_tangency\n\nwgts_true = tangency(means,cov,r,Shorts=True)\n\n# Tangency portfolios for a range of assumed asset 1 expected returns\nn = len(means)\nnum_grid=100\nasset1_means = np.linspace(0.04,0.10,num_grid)\nwgts = np.zeros((num_grid,n))\n\nfor i,m in enumerate(asset1_means):\n    wgts[i] = tangency(np.array([m, means[1], means[2]]),cov,r,Shorts=True)\nwgt_asset1 = wgts[:,0]\ncd = np.empty(shape=(num_grid, n-1,1), dtype=float)\ncd[:, 0] = wgts[:,1].reshape(-1, 1)\ncd[:, 1] = wgts[:,2].reshape(-1, 1)\nstring = \"Asset 1 Expected Return Input = %{x:0.2%}<br>\"\nstring +=\"Tangency Portfolio Weights:<br>\"\nstring += \"  Asset 1: %{y:0.1%}<br>\"\nstring += \"  Asset 2: %{customdata[0]:.1%}<br>\"\nstring += \"  Asset 3: %{customdata[1]:.1%}<br>\"\nstring += \"<extra></extra>\"\ntrace = go.Scatter(x=asset1_means,y=wgt_asset1,mode='lines', name=\"Tangency Weight\",\n    customdata=cd, hovertemplate=string,\n)\n\n# Tangency portfolio at assume input\ntrace_true = go.Scatter(x=[means[0]],y=[wgts_true[0]],mode='markers', name=\"Tangency Weight at Assumed Input\",\n    customdata = np.array([[wgts_true[1],wgts_true[2]]]), hovertemplate=string,\n)\nfig = go.Figure()\nfig.add_trace(trace)\nfig.add_trace(trace_true)\nfig.layout.xaxis[\"title\"] = \"Asset 1 Expected Return Input\"\nfig.layout.yaxis[\"title\"] = \"Asset 1 Tangency Portfolio Weight\"\nfig.update_yaxes(tickformat=\".1%\")\nfig.update_xaxes(tickformat=\".1%\")\nfig.update_layout(legend=dict(yanchor=\"top\", y =0.99, xanchor=\"left\", x=0.01))\nfig.show()\n```\n\n::: {#fig-sensitivity-expret .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"5b2e1aca-a471-4d39-8166-57184d83fa3e\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"5b2e1aca-a471-4d39-8166-57184d83fa3e\")) {                    Plotly.newPlot(                        \"5b2e1aca-a471-4d39-8166-57184d83fa3e\",                        [{\"customdata\":[[[1.4538096822526905],[1.3630738488729646]],[[1.3951537660328057],[1.3142920635909752]],[[1.3397905387564113],[1.267851323546755]],[[1.287216846386808],[1.2233184697020685]],[[1.2370493873244734],[1.1804400627762008]],[[1.1925570984509397],[1.1379214155439321]],[[1.1448111825789304],[1.098011260725722]],[[1.0994193393165643],[1.0597314675756042]],[[1.0560634339624586],[1.022830303249536]],[[1.0189608828671257],[0.9868872375948821]],[[0.9773967874394838],[0.9520071625932768]],[[0.9376732769155007],[0.9185967740375601]],[[0.8996571459825677],[0.8864385114657701]],[[0.8631896473565608],[0.8553646792686822]],[[0.8317274474025774],[0.8254495680961704]],[[0.7968050728464455],[0.7958810885630535]],[[0.7632544226671949],[0.7674411087774983]],[[0.7309558229851412],[0.7399940968506342]],[[0.6998217225895146],[0.7134391765043587]],[[0.6727104403639718],[0.6884505565566301]],[[0.6428638816456645],[0.6629558706050117]],[[0.6141283841997192],[0.6384194696618372]],[[0.5864141695495607],[0.614703422171892]],[[0.5596191181621467],[0.5917142760615192]],[[0.5336566264573203],[0.5693933974596123]],[[0.5101786094512044],[0.5486772125975031]],[[0.4852978490768748],[0.5271545607012078]],[[0.46116134683128984],[0.5063467388702467]],[[0.4377672379541776],[0.4861995716154497]],[[0.41586630152930937],[0.4684210704105451]],[[0.39367245242805915],[0.44884144926286407]],[[0.37207299934871707],[0.42993471796493515]],[[0.34990626025886185],[0.4140146369290545]],[[0.32986927499224367],[0.39497451414853557]],[[0.30982548874513804],[0.37547759542540277]],[[0.29473124811041745],[0.3629108716648305]],[[0.2719037628270794],[0.34944614658714346]],[[0.25167651833423643],[0.3303090117607161]],[[0.2370062902421217],[0.31076960337834153]],[[0.2224924567494582],[0.2922028820762748]],[[0.20356261064228207],[0.28032926935310326]],[[0.18499218452248484],[0.26705818438065243]],[[0.1686115485330944],[0.25281408565804514]],[[0.1526036190556766],[0.23887892684332745]],[[0.1369589269041074],[0.225250123804551]],[[0.12166179976310267],[0.21191858170240557]],[[0.10669739999395093],[0.19887404734924166]],[[0.09205292960476996],[0.18610667867083563]],[[0.07771747025803186],[0.1736077970901825]],[[0.06368000953357253],[0.1613700744235636]],[[0.049930937770352804],[0.14938698435490488]],[[0.036461192252852985],[0.13765428542259478]],[[0.023263696062503773],[0.12617113286604983]],[[0.010335427632179288],[0.11494284976014946]],[[-0.002317218481937562],[0.1039833704210724]],[[-0.014672671805666716],[0.09331692052016236]],[[-0.026686744642758584],[0.08297491049538624]],[[-0.03829271388763853],[0.0728542564795851]],[[-0.05117833403204494],[0.06212963653097065]],[[-0.06272835777523184],[0.05219289787760244]],[[-0.07405698736762154],[0.04246483414868092]],[[-0.08516661343279447],[0.03293659039108761]],[[-0.09606140775798835],[0.023597511771288757]],[[-0.10674681913002515],[0.014436284912344822]],[[-0.11723029277028149],[0.005441927913456324]],[[-0.12752041216518573],[-0.0033954738902305004]],[[-0.13762636886651108],[-0.012084702397317551]],[[-0.14755669289481965],[-0.020633374464833557]],[[-0.15731994286986536],[-0.029048094368100904]],[[-0.16692379248205594],[-0.037334778375851065]],[[-0.17637511216040563],[-0.0454987909202948]],[[-0.18568007639680506],[-0.053545454220453356]],[[-0.19484383486677392],[-0.06148000706238867]],[[-0.2038705664054331],[-0.06930764439203947]],[[-0.2127637346826493],[-0.07703390173651853]],[[-0.22152519261733875],[-0.0846640161638973]],[[-0.23015544207459648],[-0.09220273533395286]],[[-0.23865305781881183],[-0.09965370615672045]],[[-0.2470148703823703],[-0.10701836744972276]],[[-0.25523637120197895],[-0.11429474674623696]],[[-0.2633127792367345],[-0.12147642541157994]],[[-0.2712414523316927],[-0.12855227838142824]],[[-0.2790247233978892],[-0.13550756380162815]],[[-0.28667074263272696],[-0.142327937090093]],[[-0.293444179585276],[-0.14801265553319995]],[[-0.3012450290197724],[-0.15492675137840373]],[[-0.3087685301526352],[-0.16159775110223673]],[[-0.316075271435424],[-0.16804262152486846]],[[-0.32317203942023254],[-0.17422461527552133]],[[-0.3301220884345792],[-0.18035378893798668]],[[-0.334874109999984],[-0.18665495887773373]],[[-0.3422245135003801],[-0.1927168674794471]],[[-0.34985727091585284],[-0.19877111951830392]],[[-0.35704649553239326],[-0.2052516197428259]],[[-0.3643713993787122],[-0.20983814289651329]],[[-0.3712660618308664],[-0.21551210433381335]],[[-0.3781317150935395],[-0.22114375903715167]],[[-0.38493808435007093],[-0.2267414642588899]],[[-0.38962301376249303],[-0.23143564249259205]],[[-0.39586791708167596],[-0.23669530598024252]]],\"hovertemplate\":\"Asset 1 Expected Return Input = %{x:0.2%}<br>Tangency Portfolio Weights:<br>  Asset 1: %{y:0.1%}<br>  Asset 2: %{customdata[0]:.1%}<br>  Asset 3: %{customdata[1]:.1%}<br><extra></extra>\",\"mode\":\"lines\",\"name\":\"Tangency Weight\",\"x\":[0.04,0.040606060606060604,0.041212121212121214,0.04181818181818182,0.04242424242424243,0.04303030303030303,0.04363636363636364,0.04424242424242424,0.044848484848484846,0.045454545454545456,0.04606060606060606,0.04666666666666667,0.04727272727272727,0.04787878787878788,0.048484848484848485,0.04909090909090909,0.0496969696969697,0.05030303030303031,0.05090909090909091,0.051515151515151514,0.052121212121212124,0.05272727272727273,0.05333333333333333,0.05393939393939394,0.05454545454545455,0.05515151515151515,0.055757575757575756,0.056363636363636366,0.05696969696969697,0.05757575757575757,0.05818181818181818,0.05878787878787879,0.059393939393939395,0.06,0.06060606060606061,0.06121212121212122,0.06181818181818182,0.062424242424242424,0.06303030303030303,0.06363636363636363,0.06424242424242424,0.06484848484848485,0.06545454545454546,0.06606060606060607,0.06666666666666667,0.06727272727272728,0.06787878787878787,0.06848484848484848,0.06909090909090909,0.0696969696969697,0.07030303030303031,0.07090909090909091,0.07151515151515152,0.07212121212121211,0.07272727272727272,0.07333333333333333,0.07393939393939394,0.07454545454545455,0.07515151515151515,0.07575757575757576,0.07636363636363636,0.07696969696969697,0.07757575757575758,0.07818181818181819,0.0787878787878788,0.07939393939393939,0.08,0.0806060606060606,0.08121212121212121,0.08181818181818182,0.08242424242424243,0.08303030303030304,0.08363636363636365,0.08424242424242424,0.08484848484848484,0.08545454545454545,0.08606060606060606,0.08666666666666667,0.08727272727272728,0.08787878787878789,0.08848484848484849,0.08909090909090908,0.08969696969696969,0.0903030303030303,0.09090909090909091,0.09151515151515152,0.09212121212121213,0.09272727272727273,0.09333333333333332,0.09393939393939393,0.09454545454545454,0.09515151515151515,0.09575757575757576,0.09636363636363637,0.09696969696969697,0.09757575757575758,0.09818181818181818,0.09878787878787879,0.0993939393939394,0.1],\"y\":[-1.816883531125655,-1.7094458296237809,-1.6076418623031663,-1.5105353160888764,-1.4174894501006743,-1.330478513994872,-1.2428224433046524,-1.1591508068921685,-1.0788937372119947,-1.0058481204620078,-0.9294039500327607,-0.8562700509530609,-0.7860956574483379,-0.718554326625243,-0.6571770154987477,-0.5926861614094989,-0.5306955314446931,-0.47094991983577533,-0.4132608990938733,-0.3611609969206019,-0.3058197522506763,-0.25254785386155626,-0.20111759172145255,-0.15133339422366585,-0.10305002391693252,-0.05885582204870766,-0.012452409778082629,0.032491914298463404,0.0760331904303728,0.11571262806014561,0.1574860983090768,0.19799228268634778,0.23607910281208358,0.2751562108592208,0.3146969158294592,0.342357880224752,0.37865009058577714,0.4180144699050475,0.45222410637953686,0.4853046611742672,0.5161081200046146,0.5479496310968628,0.5785743658088606,0.6085174541009959,0.6377909492913416,0.6664196185344917,0.6944285526568075,0.7218403917243943,0.7486747326517856,0.774949916042864,0.8006820778747423,0.8258845223245521,0.8505651710714465,0.8747217226076713,0.8983338480608651,0.9213557512855044,0.9437118341473723,0.9654384574080535,0.9890486975010744,1.0105354598976295,1.0315921532189405,1.0522300230417068,1.0724638959866997,1.0923105342176802,1.1117883648568252,1.1309158860554163,1.1497110712638288,1.1681900673596533,1.1863680372379664,1.204258570857907,1.2218739030807004,1.2392255306172584,1.2563238419291627,1.2731782107974725,1.2897976364191677,1.306189208781236,1.322358177408549,1.3383067639755322,1.3540332378320932,1.369531117948216,1.3847892046483146,1.399793730713121,1.4145322871995174,1.42899867972282,1.441456835118476,1.4561717803981762,1.4703662812548721,1.4841178929602925,1.497396654695754,1.5104758773725657,1.5215290688777174,1.5349413809798271,1.5486283904341567,1.5622981152752191,1.5742095422752256,1.5867781661646798,1.5992754741306912,1.6116795486089608,1.6210586562550853,1.6325632230619185],\"type\":\"scatter\"},{\"customdata\":[[0.32986927499224367,0.39497451414853557]],\"hovertemplate\":\"Asset 1 Expected Return Input = %{x:0.2%}<br>Tangency Portfolio Weights:<br>  Asset 1: %{y:0.1%}<br>  Asset 2: %{customdata[0]:.1%}<br>  Asset 3: %{customdata[1]:.1%}<br><extra></extra>\",\"mode\":\"markers\",\"name\":\"Tangency Weight at Assumed Input\",\"x\":[0.06],\"y\":[0.2751562108592208],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"Asset 1 Expected Return Input\"},\"tickformat\":\".1%\"},\"yaxis\":{\"title\":{\"text\":\"Asset 1 Tangency Portfolio Weight\"},\"tickformat\":\".1%\"},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('5b2e1aca-a471-4d39-8166-57184d83fa3e');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSensitivity of tangency weights to expected return input\n:::\n:::\n\n\n### Standard Deviations {-}\n\n@fig-sensitivity-sd shows the sensitivity of the US market allocation in the tangency portfolio for different standard deviation inputs.  For values in the region of the historical average volatility of 15%, higher standard deviation inputs result in lower allocations to US equities.\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\n##### Variance input of asset 1:\n# Tangency portfolios for a range of assumed asset 1 standard deviations\nasset1_sds = np.linspace(0.05,0.25,num_grid)\nwgts = np.zeros((num_grid,n))\n\nfor i,s in enumerate(asset1_sds):\n    sds_new = np.array([s, sds[1], sds[2]])\n    wgts[i] = tangency(means,np.diag(sds_new) @ C @ np.diag(sds_new),r,Shorts=True)\nwgt_asset1 = wgts[:,0]\ncd = np.empty(shape=(num_grid, n-1,1), dtype=float)\ncd[:, 0] = wgts[:,1].reshape(-1, 1)\ncd[:, 1] = wgts[:,2].reshape(-1, 1)\nstring = \"Asset 1 Standard Deviation Input = %{x}<br>\"\nstring +=\"Tangency Portfolio Weights:<br>\"\nstring += \"  Asset 1: %{y:0.1%}<br>\"\nstring += \"  Asset 2: %{customdata[0]:.1%}<br>\"\nstring += \"  Asset 3: %{customdata[1]:.1%}<br>\"\nstring += \"<extra></extra>\"\ntrace = go.Scatter(x=asset1_sds,y=wgt_asset1,mode='lines', name=\"Tangency Weight\",\n    customdata=cd, hovertemplate=string,\n)\n\n# Tangency portfolio at assumed input\ntrace_true = go.Scatter(x=[sds[0]],y=[wgts_true[0]],mode='markers', name=\"Tangency Weight at Assumed Input\",\n    customdata = np.array([[wgts_true[1],wgts_true[2]]]), hovertemplate=string,\n)\nfig = go.Figure()\nfig.add_trace(trace)\nfig.add_trace(trace_true)\nfig.layout.xaxis[\"title\"] = \"Asset 1 Standard Deviation Input\"\nfig.layout.yaxis[\"title\"] = \"Asset 1 Tangency Portfolio Weight\"\nfig.update_yaxes(tickformat=\".1%\")\nfig.update_xaxes(tickformat=\".1%\")\nfig.update_layout(legend=dict(yanchor=\"top\", y =0.99, xanchor=\"left\", x=0.55))\nfig.show()\n```\n\n::: {#fig-sensitivity-sd .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"bfd4c418-dd3c-4cbb-901d-86aa5f64c136\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"bfd4c418-dd3c-4cbb-901d-86aa5f64c136\")) {                    Plotly.newPlot(                        \"bfd4c418-dd3c-4cbb-901d-86aa5f64c136\",                        [{\"customdata\":[[[-0.12662906980625852],[-0.08992123455512836]],[[-0.1305628017770153],[-0.09180835455466543]],[[-0.13416025388406877],[-0.09352016495730155]],[[-0.13703527553958345],[-0.09531225958980911]],[[-0.1403197575951836],[-0.09607802276505978]],[[-0.14348682825884088],[-0.09670619624745766]],[[-0.1457395266703143],[-0.0971272572607558]],[[-0.1475205300969235],[-0.09729530699950582]],[[-0.14889950092161047],[-0.09699903226725733]],[[-0.14957384163822918],[-0.09657508066797585]],[[-0.15056677372564964],[-0.09501799899490374]],[[-0.15098391253906948],[-0.09294180051296458]],[[-0.15039841853242725],[-0.09096292027168984]],[[-0.14938117956629995],[-0.08831209758100221]],[[-0.14795953921766997],[-0.08479876464952692]],[[-0.14532399025147597],[-0.08104278674159633]],[[-0.14314352063242974],[-0.07642907745076002]],[[-0.13974117449464882],[-0.07127379345057498]],[[-0.13550151426155457],[-0.06543500239681127]],[[-0.1303075541049377],[-0.05863559958971529]],[[-0.12447744920022961],[-0.05209096738120831]],[[-0.11859614786878998],[-0.04400874571637416]],[[-0.11138845615682876],[-0.035556636640497796]],[[-0.10339265689844254],[-0.026309470125742408]],[[-0.09453101873527979],[-0.016656457738460112]],[[-0.08468770293884523],[-0.005606678407570769]],[[-0.07523790667996402],[0.005126643251918289]],[[-0.0630083610525973],[0.016882632407771853]],[[-0.051178479158756146],[0.030351310681701476]],[[-0.038450510166192144],[0.04390432200015423]],[[-0.02480761533600736],[0.057987128293416214]],[[-0.0105356662726869],[0.07254752252559733]],[[0.005923740230057147],[0.08767965569517355]],[[0.020139843349878058],[0.10306063194397491]],[[0.03672069770929004],[0.11857573100188351]],[[0.05298608222523356],[0.13562529521855526]],[[0.07027339687837889],[0.15260422533947046]],[[0.08819338816047964],[0.17001735273214122]],[[0.10618351968147008],[0.1862297404543444]],[[0.1249700122691779],[0.2044444814879434]],[[0.14412430195959144],[0.22283671918090459]],[[0.1636210264610516],[0.24136312363317428]],[[0.183480070328945],[0.2585246794827083]],[[0.2073429453155264],[0.275086522436571]],[[0.2238345695933029],[0.2960807878675782]],[[0.24122154471323798],[0.3174110406824266]],[[0.2595760392995315],[0.3392640692105833]],[[0.2839756272467668],[0.35668387934467904]],[[0.30389322196732976],[0.3682015588660895]],[[0.3156251896097249],[0.3842319354134242]],[[0.33926414121142046],[0.4039858441012477]],[[0.35904658223966807],[0.41900603641254525]],[[0.37763416053501225],[0.4353798246505262]],[[0.39584794134004025],[0.4513392146654434]],[[0.4136590496585625],[0.46688223801156414]],[[0.4310414351998555],[0.48200430739673333]],[[0.4479683447223615],[0.49669160233270254]],[[0.4633581848343751],[0.5087056420539561]],[[0.4792189489970957],[0.5220773601762769]],[[0.49457619496166355],[0.534941082978874]],[[0.5094156656776734],[0.5472911337526444]],[[0.523726743520664],[0.5591246889962505]],[[0.5375022928399028],[0.5704409645660686]],[[0.5507381711692236],[0.5812422971209606]],[[0.5634337995317239],[0.5915327852521662]],[[0.575590889671345],[0.601319230369222]],[[0.5872136894291584],[0.6106099923462358]],[[0.5983085723806124],[0.6194159301550926]],[[0.6088838792089948],[0.6277486732529465]],[[0.618949253402408],[0.6356216039449681]],[[0.6285156880703884],[0.6430492142829268]],[[0.6375953755530736],[0.6500465567579624]],[[0.6462004440932999],[0.6566294464114387]],[[0.6543426024321546],[0.6628144189426571]],[[0.6620312897999552],[0.6686187278265238]],[[0.66927158298781],[0.6740621196311584]],[[0.6760628586295545],[0.6791691907839165]],[[0.6824030037897851],[0.6839744834562852]],[[0.6883181391791235],[0.6885184155784959]],[[0.6950294074625044],[0.692600215407384]],[[0.7004150822352574],[0.6975467062338442]],[[0.7060397831284112],[0.6984548956745377]],[[0.7093963734401854],[0.7009426808957692]],[[0.714146120437247],[0.7061025769865716]],[[0.7184044011323535],[0.7075394034390827]],[[0.7224885734096888],[0.7114337775162717]],[[0.726289425974352],[0.7135372391235761]],[[0.729805065323174],[0.7154953008125122]],[[0.733064461498514],[0.7173043204997475]],[[0.7360889408908227],[0.7189553357030402]],[[0.7388938240225087],[0.7204455538070196]],[[0.7414914177419326],[0.7217780173975036]],[[0.743892690073486],[0.7229587036151938]],[[0.7461076197109113],[0.7239951483036253]],[[0.7481456792694027],[0.7248951236064878]],[[0.7500158640812504],[0.7256666381347276]],[[0.7517266960339846],[0.7263170861288916]],[[0.7532864524949341],[0.7268535397338864]],[[0.7547028648042525],[0.7272826837759879]],[[0.7559832286739628],[0.7276110479570309]]],\"hovertemplate\":\"Asset 1 Standard Deviation Input = %{x}<br>Tangency Portfolio Weights:<br>  Asset 1: %{y:0.1%}<br>  Asset 2: %{customdata[0]:.1%}<br>  Asset 3: %{customdata[1]:.1%}<br><extra></extra>\",\"mode\":\"lines\",\"name\":\"Tangency Weight\",\"x\":[0.05,0.05202020202020202,0.05404040404040404,0.05606060606060606,0.05808080808080808,0.0601010101010101,0.062121212121212126,0.06414141414141414,0.06616161616161617,0.06818181818181818,0.07020202020202021,0.07222222222222223,0.07424242424242425,0.07626262626262627,0.07828282828282829,0.0803030303030303,0.08232323232323233,0.08434343434343435,0.08636363636363636,0.08838383838383838,0.0904040404040404,0.09242424242424244,0.09444444444444444,0.09646464646464648,0.09848484848484848,0.10050505050505051,0.10252525252525252,0.10454545454545455,0.10656565656565657,0.10858585858585859,0.11060606060606061,0.11262626262626263,0.11464646464646465,0.11666666666666667,0.11868686868686869,0.12070707070707071,0.12272727272727273,0.12474747474747475,0.12676767676767675,0.12878787878787878,0.13080808080808082,0.13282828282828285,0.13484848484848486,0.13686868686868686,0.1388888888888889,0.14090909090909093,0.14292929292929293,0.14494949494949494,0.14696969696969697,0.148989898989899,0.151010101010101,0.15303030303030302,0.15505050505050505,0.15707070707070708,0.1590909090909091,0.1611111111111111,0.16313131313131313,0.16515151515151516,0.1671717171717172,0.1691919191919192,0.1712121212121212,0.17323232323232324,0.17525252525252527,0.17727272727272725,0.17929292929292928,0.18131313131313131,0.18333333333333335,0.18535353535353538,0.18737373737373736,0.1893939393939394,0.19141414141414143,0.19343434343434346,0.19545454545454544,0.19747474747474747,0.1994949494949495,0.20151515151515154,0.2035353535353535,0.20555555555555555,0.20757575757575758,0.2095959595959596,0.2116161616161616,0.21363636363636362,0.21565656565656566,0.2176767676767677,0.21969696969696972,0.2217171717171717,0.22373737373737373,0.22575757575757577,0.2277777777777778,0.22979797979797978,0.2318181818181818,0.23383838383838385,0.23585858585858588,0.23787878787878786,0.2398989898989899,0.24191919191919192,0.24393939393939396,0.245959595959596,0.24797979797979797,0.25],\"y\":[1.2165503043613868,1.2223711563316808,1.2276804188413706,1.2323475351293927,1.2363977803602433,1.2401930245062986,1.24286678393107,1.2448158370964293,1.2458985331888677,1.246148922306205,1.2455847727205536,1.243925713052034,1.2413613388041171,1.2376932771473022,1.232758303867197,1.2263667769930722,1.21957259808319,1.2110149679452236,1.2009365166583656,1.188943153694653,1.1765684165814378,1.1626048935851643,1.1469450927973266,1.129702127024185,1.11118747647374,1.0902943813464159,1.0701112634280456,1.0461257286448256,1.0208271684770547,0.9945461881660379,0.9668204870425912,0.9379881437470895,0.9063966040747693,0.8767995247061471,0.8447035712888264,0.8113886225562111,0.7771223777821508,0.7417892591073793,0.7075867398641855,0.6705855062428787,0.633038978859504,0.5950158499057742,0.5579952501883467,0.5175705322479026,0.48008464253911887,0.4413674146043355,0.4011598914898852,0.35934049340855423,0.3279052191665808,0.30014287497685094,0.2567500146873319,0.22194738134778658,0.18698601481446162,0.1528128439945163,0.11945871232987344,0.08695425740341124,0.055340052944936005,0.027936173111668947,-0.0012963091733725267,-0.02951727794053756,-0.05670679943031775,-0.08285143251691443,-0.10794325740597134,-0.13198046829018434,-0.15496658478389022,-0.1769101200405669,-0.19782368177539425,-0.21772450253570486,-0.2366325524619413,-0.25457085734737617,-0.27156490235331504,-0.28764193231103585,-0.3028298905047385,-0.3171570213748117,-0.330650017626479,-0.3433337026189683,-0.3552320494134711,-0.3663774872460703,-0.37683655475761935,-0.38762962286988845,-0.3979617884691016,-0.40449467880294876,-0.4103390543359545,-0.42024869742381876,-0.42594380457143616,-0.43392235092596027,-0.4398266650979281,-0.44530036613568635,-0.4503687819982615,-0.4550442765938628,-0.45933937782952833,-0.46326943513943625,-0.4668513936886799,-0.4701027680145367,-0.47304080287589045,-0.47568250221597813,-0.4780437821628761,-0.48013999222882037,-0.48198554858024045,-0.4835942766309937],\"type\":\"scatter\"},{\"customdata\":[[0.32986927499224367,0.39497451414853557]],\"hovertemplate\":\"Asset 1 Standard Deviation Input = %{x}<br>Tangency Portfolio Weights:<br>  Asset 1: %{y:0.1%}<br>  Asset 2: %{customdata[0]:.1%}<br>  Asset 3: %{customdata[1]:.1%}<br><extra></extra>\",\"mode\":\"markers\",\"name\":\"Tangency Weight at Assumed Input\",\"x\":[0.15],\"y\":[0.2751562108592208],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"Asset 1 Standard Deviation Input\"},\"tickformat\":\".1%\"},\"yaxis\":{\"title\":{\"text\":\"Asset 1 Tangency Portfolio Weight\"},\"tickformat\":\".1%\"},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.55}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('bfd4c418-dd3c-4cbb-901d-86aa5f64c136');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSensitivity of tangency weights to standard deviation input\n:::\n:::\n\n\n### Correlations {-}\n\n@fig-sensitivity-corr shows the sensitivity of the US market's weight in the tangency portfolio for different inputs of the correlation between the US equity fund and the developed international equity fund.  Lower correlations imply greater diversification benefits, so more capital is allocated to US equities for lower correlation levels, all else equal.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\n##### Correlation of assets 1 and 2:\n# Tangency portfolios for a range of assumed asset 1 standard deviations\ncorr12_grid = np.linspace(0.15,0.95,num_grid)\nwgts = np.empty((num_grid,n))\n\ndef is_pos_def(x):\n    if np.all(np.linalg.eigvals(x) > 0):\n        return 'True'\n    else:\n        return 'False'\n\nfor i,c in enumerate(corr12_grid):\n    # Covariance matrix\n    C  = np.identity(3)\n    C[0, 1] = C[1, 0] = c\n    C[0, 2] = C[2, 0] = corr13\n    C[1, 2] = C[2, 1] = corr23\n    # Check feasible correlations\n    if is_pos_def(C):\n        wgts[i] = tangency(means,np.diag(sds) @ C @ np.diag(sds),r,Shorts=True)\n    else:\n        print(\"not positive definite\" + str(c*100))\nwgt_asset1 = wgts[:,0]\ncd = np.empty(shape=(num_grid, n-1,1), dtype=float)\ncd[:, 0] = wgts[:,1].reshape(-1, 1)\ncd[:, 1] = wgts[:,2].reshape(-1, 1)\nstring = \"Input: Correlation of Assets 1 and 2 = %{x}<br>\"\nstring +=\"Tangency Portfolio Weights:<br>\"\nstring += \"  Asset 1: %{y:0.1%}<br>\"\nstring += \"  Asset 2: %{customdata[0]:.1%}<br>\"\nstring += \"  Asset 3: %{customdata[1]:.1%}<br>\"\nstring += \"<extra></extra>\"\ntrace = go.Scatter(x=corr12_grid,y=wgt_asset1,mode='lines', name=\"Tangency Weight\",\n    customdata=cd, hovertemplate=string,\n)\n\n# Tangency portfolio at assumed input\ntrace_true = go.Scatter(x=[corr12],y=[wgts_true[0]],mode='markers', name=\"Tangency Weight at Assumed Input\",\n    customdata = np.array([[wgts_true[1],wgts_true[2]]]), hovertemplate=string,\n)\nfig = go.Figure()\nfig.add_trace(trace)\nfig.add_trace(trace_true)\nfig.layout.xaxis[\"title\"] = \"Correlation of Assets 1 and 2\"\nfig.layout.yaxis[\"title\"] = \"Asset 1 Tangency Portfolio Weight\"\nfig.update_yaxes(tickformat=\".1%\")\nfig.update_xaxes(tickformat=\".1%\")\nfig.update_layout(legend=dict(yanchor=\"top\", y =0.99, xanchor=\"left\", x=0.55))\nfig.show()\n```\n\n::: {#fig-sensitivity-corr .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"d49fda12-747f-4c5f-8c76-a0ecb687e405\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"d49fda12-747f-4c5f-8c76-a0ecb687e405\")) {                    Plotly.newPlot(                        \"d49fda12-747f-4c5f-8c76-a0ecb687e405\",                        [{\"customdata\":[[[0.9796151914234462],[-1.0538154662402757]],[[0.9496728062262227],[-0.9898554494280846]],[[0.9219124851656008],[-0.9304805015274756]],[[0.8950946106947434],[-0.8732957032424198]],[[0.8698815171954613],[-0.8202003295224158]],[[0.8468102890785668],[-0.7701101733839442]],[[0.8246466435898029],[-0.7227262774638357]],[[0.8036449118959895],[-0.6777754639198049]],[[0.7834761094574468],[-0.6353201222455996]],[[0.7640505706293991],[-0.5930072355427521]],[[0.7466633088665565],[-0.5556978538821934]],[[0.7294377750676653],[-0.5185129698636843]],[[0.7132637579739175],[-0.48360296300801736]],[[0.6977850847699528],[-0.45019922237147014]],[[0.6828508112255864],[-0.4181096420860804]],[[0.6684036236983851],[-0.38742881553861064]],[[0.6546903447209944],[-0.3581830760716459]],[[0.6416151180497572],[-0.33001719733818463]],[[0.6298963142657799],[-0.30394497274264415]],[[0.6172940744541283],[-0.27741417330355317]],[[0.6054600897906078],[-0.2520858502216775]],[[0.5943143522761773],[-0.2279954317979514]],[[0.5843939434561812],[-0.20579595690398933]],[[0.5737428771305004],[-0.1831792141420852]],[[0.563671931103742],[-0.16149690696105262]],[[0.5541123597610232],[-0.14074651307540778]],[[0.5448984890312912],[-0.12067950490147257]],[[0.5359865539760583],[-0.101168576693174]],[[0.5273911681092428],[-0.08220584375057544]],[[0.5191663488504971],[-0.06416044735159422]],[[0.5115256333138387],[-0.04673965821225261]],[[0.5037668416427198],[-0.03074369005892121]],[[0.4965245392419828],[-0.014767209600102428]],[[0.4897324606230384],[0.0005129812148592532]],[[0.48276705362726685],[0.015857635366941968]],[[0.4759889425549682],[0.030793698318636074]],[[0.46942913216124865],[0.04528859964522725]],[[0.4630881255144658],[0.05934679340661697]],[[0.4569493378043949],[0.07299734744679284]],[[0.45274614137227104],[0.08481030490049793]],[[0.44682296174996444],[0.09779409492315276]],[[0.44097247698572273],[0.11052432353470457]],[[0.43519248059375315],[0.12303370768803687]],[[0.4295353337186899],[0.13530991721094607]],[[0.4253718571271559],[0.14632780253376246]],[[0.4195271231589471],[0.1582083454754834]],[[0.414487214799755],[0.16974687964254137]],[[0.4100451295978922],[0.18066534091170983]],[[0.4054439153032911],[0.19107962308272813]],[[0.40058875458096055],[0.20132223017798265]],[[0.3962737070076897],[0.2117121178192402]],[[0.3921577647582405],[0.22185431781036058]],[[0.3882278025857052],[0.2316332804552533]],[[0.3844407325399617],[0.2410259846343796]],[[0.38076166062164585],[0.25005239347756936]],[[0.37717471382570456],[0.2587415935046347]],[[0.37368241409846675],[0.26712029699653367]],[[0.3752099969549092],[0.2740658996837586]],[[0.37112966431808614],[0.2826504092923795]],[[0.36718032029316583],[0.2909216624825098]],[[0.3633612318674311],[0.2988764246626004]],[[0.3596852577903156],[0.3064956576300643]],[[0.35619893244922113],[0.31373686958351626]],[[0.3530229951683846],[0.3205469099867586]],[[0.3503649944711218],[0.3269917737579929]],[[0.3481956232527317],[0.3335707579532444]],[[0.34580731526641684],[0.3408035026307104]],[[0.34282503400781644],[0.3482389060506382]],[[0.3396006211732566],[0.35535303647557254]],[[0.33641035493077526],[0.3620827081612795]],[[0.3333330316216097],[0.36850539575307145]],[[0.33037383830962996],[0.3746899824935583]],[[0.32752137687352867],[0.3806803511388729]],[[0.32476294888456075],[0.3865036522366083]],[[0.32245746756182875],[0.3938048937258119]],[[0.3287520817780442],[0.3996060908083094]],[[0.32734217535665083],[0.40572959864360125]],[[0.32602547930478687],[0.41179713755955033]],[[0.32684401674217817],[0.415447249751853]],[[0.32623714358551636],[0.4210780056727232]],[[0.32581340718568425],[0.42665638007179574]],[[0.32558631433138047],[0.43219070247032726]],[[0.3255714375435671],[0.43769033895579945]],[[0.3257865509785273],[0.4431657621953833]],[[0.3262528335844092],[0.4486286840428221]],[[0.3280212039849302],[0.45141608383567955]],[[0.32944314963601184],[0.45644059670391324]],[[0.3313093447258805],[0.4614409374035614]],[[0.3336895793138526],[0.46643227208614635]],[[0.33666940058395733],[0.47143382244612375]],[[0.3403557644899556],[0.476469657867759]],[[0.3448843907615928],[0.48157120628172473]],[[0.34968397825556796],[0.48440217054013285]],[[0.3565560237468258],[0.48913477987336584]],[[0.3651073541174159],[0.49393087199855185]],[[0.37584015335135834],[0.49884495688541813]],[[0.3894783298817069],[0.5039606469232341]],[[0.40710365092923473],[0.5094119091536043]],[[0.4269841884986964],[0.5130518600663632]],[[0.45777481566799627],[0.5186514437451828]]],\"hovertemplate\":\"Input: Correlation of Assets 1 and 2 = %{x}<br>Tangency Portfolio Weights:<br>  Asset 1: %{y:0.1%}<br>  Asset 2: %{customdata[0]:.1%}<br>  Asset 3: %{customdata[1]:.1%}<br><extra></extra>\",\"mode\":\"lines\",\"name\":\"Tangency Weight\",\"x\":[0.15,0.15808080808080807,0.16616161616161615,0.17424242424242423,0.18232323232323233,0.1904040404040404,0.1984848484848485,0.20656565656565656,0.21464646464646464,0.22272727272727272,0.2308080808080808,0.23888888888888887,0.24696969696969695,0.255050505050505,0.2631313131313131,0.27121212121212124,0.27929292929292926,0.2873737373737374,0.2954545454545454,0.30353535353535355,0.31161616161616157,0.3196969696969697,0.3277777777777778,0.33585858585858586,0.34393939393939393,0.352020202020202,0.3601010101010101,0.36818181818181817,0.3762626262626263,0.3843434343434343,0.39242424242424245,0.4005050505050505,0.4085858585858586,0.41666666666666663,0.42474747474747476,0.4328282828282828,0.4409090909090909,0.44898989898989894,0.45707070707070707,0.4651515151515151,0.4732323232323232,0.48131313131313136,0.4893939393939394,0.4974747474747475,0.5055555555555555,0.5136363636363637,0.5217171717171717,0.5297979797979798,0.5378787878787878,0.545959595959596,0.554040404040404,0.5621212121212121,0.5702020202020202,0.5782828282828283,0.5863636363636363,0.5944444444444444,0.6025252525252526,0.6106060606060606,0.6186868686868687,0.6267676767676768,0.6348484848484849,0.6429292929292929,0.651010101010101,0.6590909090909091,0.6671717171717172,0.6752525252525253,0.6833333333333333,0.6914141414141415,0.6994949494949495,0.7075757575757576,0.7156565656565657,0.7237373737373738,0.7318181818181818,0.73989898989899,0.747979797979798,0.7560606060606061,0.7641414141414141,0.7722222222222223,0.7803030303030303,0.7883838383838384,0.7964646464646464,0.8045454545454546,0.8126262626262627,0.8207070707070707,0.8287878787878789,0.8368686868686869,0.844949494949495,0.853030303030303,0.8611111111111112,0.8691919191919192,0.8772727272727273,0.8853535353535353,0.8934343434343435,0.9015151515151515,0.9095959595959596,0.9176767676767676,0.9257575757575758,0.9338383838383839,0.9419191919191919,0.95],\"y\":[1.0742002748168291,1.0401826432018617,1.008568016361875,0.9782010925476765,0.9503188123269548,0.9232998843053773,0.8980796338740326,0.8741305520238154,0.851844012788153,0.8289566649133531,0.8090345450156369,0.7890751947960192,0.7703392050340999,0.7524141376015174,0.7352588308604938,0.7190251918402255,0.7034927313506516,0.6884020792884276,0.6740486584768645,0.6601200988494249,0.6466257604310696,0.6336810795217742,0.6214020134478081,0.6094363370115848,0.5978249758573106,0.5866341533143846,0.5757810158701813,0.5651820227171155,0.5548146756413327,0.5449940985010971,0.535214024898414,0.5269768484162015,0.5182426703581198,0.5097545581621025,0.5013753110057912,0.49321735912639575,0.4852822681935242,0.47756508107891726,0.4700533147488124,0.4624435537272311,0.4553829433268828,0.4485031994795728,0.44177381171821,0.435154749070364,0.4283003403390817,0.4222645313655695,0.41576590555770365,0.4092895294903981,0.4034764616139807,0.39808901524105683,0.39201417517307013,0.3859879174313988,0.38013891695904145,0.37453328282565884,0.36918594590078474,0.36408369266966073,0.3591972889049996,0.35072410336133225,0.3462199263895343,0.3418980172243244,0.3377623434699685,0.33381908457962,0.33006419796726266,0.32643009484485686,0.3226432317708852,0.31823361879402395,0.3133891821028727,0.3089360599415454,0.30504634235117073,0.3015069369079452,0.2981615726253189,0.29493617919681175,0.2917982719875984,0.2887333988788309,0.2837376387123593,0.2716418274136464,0.2669282259997479,0.26217738313566286,0.25770873350596885,0.2526848507417605,0.24753021274252007,0.24222298319829225,0.23673822350063334,0.23104768682608945,0.22511848237276877,0.22056271217939027,0.21411625366007492,0.20724971787055813,0.19987814860000105,0.1918967769699189,0.18317457764228542,0.17354440295668258,0.16591385120429916,0.15430919637980836,0.14096177388403233,0.12531488976322358,0.10656102319505899,0.08348443991716094,0.059963951434940425,0.023573740586820966],\"type\":\"scatter\"},{\"customdata\":[[0.32986927499224367,0.39497451414853557]],\"hovertemplate\":\"Input: Correlation of Assets 1 and 2 = %{x}<br>Tangency Portfolio Weights:<br>  Asset 1: %{y:0.1%}<br>  Asset 2: %{customdata[0]:.1%}<br>  Asset 3: %{customdata[1]:.1%}<br><extra></extra>\",\"mode\":\"markers\",\"name\":\"Tangency Weight at Assumed Input\",\"x\":[0.75],\"y\":[0.2751562108592208],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"Correlation of Assets 1 and 2\"},\"tickformat\":\".1%\"},\"yaxis\":{\"title\":{\"text\":\"Asset 1 Tangency Portfolio Weight\"},\"tickformat\":\".1%\"},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.55}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('d49fda12-747f-4c5f-8c76-a0ecb687e405');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSensitivity of tangency weights to standard deviation input\n:::\n:::\n\n\n### Error Maximization {-}\n\nThe sensitivity of the tangency portfolio to each of these inputs presents a practical problem for investors seeking to implement optimal portfolios in a quantitative sense.  Portfolio optimization is sometimes referred to as error maximization because the tangency portfolio weights may reflect errors in the inputs rather than optimal diversification and risk-reward trade-offs.\n\nWhen the estimated expected return for an asset is too high relative to its true (but unknown) value, the resulting tangency portfolio will put too much weight on that asset, relative to the unknown *true* tangency portfolio.  Similarly, the tangency portfolio weight will be too low for an asset with an over-estimated variance relative to the tangency portfolio calculated using the true (but unknown) variance.  Finally, optimal portfolios will overallocate capital to assets with underestimated correlations and underallocate capital to assets with overestimated correlations.  The error maximization problem becomes more acute for portfolios with many assets simply because the increase in the number of correlations to be estimated increases the likelihood of substantial errors.\n\n## Managing the Input List\n\nA simple way to estimate expected return, standard deviations, and correlations is to use historical data.  Specifically, the historical arithmetic average return is an estimate of an asset's expected return.  The historical standard deviation is an estimate of the volatility of the asset's return.  Historical correlations across assets can be estimated using the historical return series of each pair of assets.\n\nTo understand the estimation issues that arise in practice, we can simulate the performance of various optimization strategies for choosing portfolios of US, developed international, and emerging market equity funds.  We will simulate from an assumed distribution corresponding to the inputs we have been using so far and then use this simulated \"historical\" data to estimate inputs to our portfolio optimization problem each year.  We assume an investment horizon of 50 years.  Each year, we'll use the last 30 years of data to estimate the inputs and rebalance our portfolio to the optimal portfolio based on the new input estimates.  As a benchmark, we'll use a simple equal-weighted portfolio of the three funds.  For this example, an equal-weighted portfolio is fairly close to the \"perfect information\" tangency portfolio of 27.5% in US equities, 33% in developed international, and 39.5% in emerging markets.  Note that an equal-weighted portfolio is the optimal risky portfolio if we assume that (i) all expected returns are the same (ii) all standard deviations are the same, and (iii) all correlations across assets are the same.  Thus, the equal-weighted portfolio is the optimal portfolio if we \"give up\" on estimating differences in inputs across assets.\n\n### Estimating Expected Returns, Standard Deviations, and Correlations {-}\n\nWe run 500 simulations of the exercise above.  The empirical Sharpe ratios of the equal-weighted strategy and the full historical estimation strategy are plotted in @fig-input-est-1, along with the 45-degree line.  The equal-weighted strategy outperformed the full estimation strategy in terms of realized Sharpe ratios for any data point falling below the 45-degree line.  This occurs in just over three-quarters of the simulations.  Trying to estimate the nine inputs each period and find the optimal portfolio generally performed worse than simply equally-weighting the three funds.  @fig-input-est-histogram1 plots the histogram of the difference in simulated Sharpe ratios of the equal-weighted portfolio minus that of the full historical estimation strategy.  On average across the simulations, the Sharpe ratio of the EW strategy is 0.058 higher than the Sharpe ratio of the full historical estimation strategy.\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nimport numpy as np\nfrom cvxopt import matrix\nfrom cvxopt.solvers import qp as Solver, options as SolverOptions\nfrom scipy.optimize import minimize_scalar\nfrom scipy.optimize import minimize\nimport plotly.graph_objects as go\nfrom scipy.stats import multivariate_normal as mvn\nimport pandas as pd\n##### Inputs\n# Number of simulations\nnum_sims = 500\n\n# Risk aversion\nraver = 2\n\n# Risk-free rate\nr = 0.02\n# Expected returns\nmeans = np.array([0.06, 0.065, 0.08])\n# Standard deviations\nsds = np.array([0.15, 0.165, 0.21])\n\n# Correlations\ncorr12 = 0.75\ncorr13 = 0.75\ncorr23 = 0.75\n# Covariance matrix\nC  = np.identity(3)\nC[0, 1] = C[1, 0] = corr12\nC[0, 2] = C[2, 0] = corr13\nC[1, 2] = C[2, 1] = corr23\ncov = np.diag(sds) @ C @ np.diag(sds)\n\n# Window length (and initial period)\nwindow = 30\n\n# Length of out-of-sample period\nT = 50\n\nn = len(means)\n\ndef tangency(means, cov, rf, short_lb):\n    '''\n    short_lb: lower bound on position weights\n    examples: 0  = no short-selling\n              -1 = no more than -100% in a given asset\n              None=no restrictions on short-selling\n    '''\n\n    n = len(means)\n    def f(w):\n        mn = w @ means\n        sd = np.sqrt(w.T @ cov @ w)\n        return -(mn - rf) / sd\n    # Initial guess (equal-weighted)\n    w0 = (1/n)*np.ones(n)\n    # Constraint: fully-invested portfolio\n    A = np.ones(n)\n    b = 1\n    cons = [{\"type\": \"eq\", \"fun\": lambda x: A @ x - b}]\n    bnds = [(short_lb, None) for i in range(n)] \n    # Optimization\n    wgts_tangency = minimize(f, w0, bounds=bnds, constraints=cons).x\n    return wgts_tangency\n\n\n\ndef gmv(cov, short_lb): \n    '''\n    short_lb: lower bound on position weights\n    examples: 0  = no short-selling\n              -1 = no more than -100% in a given asset\n              None=no restrictions on short-selling\n    '''    \n    n = len(cov)\n    Q = matrix(cov, tc=\"d\")\n    p = matrix(np.zeros(n), (n, 1), tc=\"d\")\n    if short_lb==None:\n        # No position limits\n        G = matrix(np.zeros((n,n)), tc=\"d\")\n        h = matrix(np.zeros(n), (n, 1), tc=\"d\")\n    else:\n        # Constraint: short-sales not allowed\n        G = matrix(-np.identity(n), tc=\"d\")\n        h = matrix(-short_lb * np.ones(n), (n, 1), tc=\"d\")\n    # Fully-invested constraint\n    A = matrix(np.ones(n), (1, n), tc=\"d\")\n    b = matrix([1], (1, 1), tc=\"d\")\n    sol = Solver(Q, p, G, h, A, b, options={'show_progress': False})\n    wgts_gmv = np.array(sol[\"x\"]).flatten() if sol[\"status\"] == \"optimal\" else np.array(n * [np.nan])\n    return wgts_gmv\n\n# wgts_gmv = gmv(cov,short_lb=None)\n\n\n# Simulate data\ndef simulation(means, cov, short_lb, seed):\n\trets = mvn.rvs(means, cov, size=window+T, random_state = seed)\n\tdf = pd.DataFrame(data=rets, columns=['r0','r1','r2'])\n\tdf.columns\n\tdf['mn0']=df['r0'].rolling(window).mean()\n\tdf['mn1']=df['r1'].rolling(window).mean()\n\tdf['mn2']=df['r2'].rolling(window).mean()\n\tdf['sd0']=df['r0'].rolling(window).std()\n\tdf['sd1']=df['r1'].rolling(window).std()\n\tdf['sd2']=df['r2'].rolling(window).std()\n\n\tcorrs = df[['r0','r1','r2']].rolling(window, min_periods=window).corr()\n\tdf['c01']=corrs.loc[(slice(None),'r0'),'r1'].values\n\tdf['c02']=corrs.loc[(slice(None),'r0'),'r2'].values\n\tdf['c12']=corrs.loc[(slice(None),'r1'),'r2'].values\n    \n\twgts_true = tangency(means,cov,r,short_lb)\n\twgt_cal_true = (wgts_true @ means - r) / (raver * (wgts_true @ cov @ wgts_true))\n\n\n\tmodel_list = ['true', 'ew', 'est_all', 'est_cov', 'est_sds']\n\tfor model in model_list:\n\t\tdf['portret_'+model] = np.nan  # portret is the realized portfolio return of the 100% risky asset portfolio\n\t\tif model not in ['true','ew']:\n\t\t\tdf['wgt0_'+model] = np.nan\n\t\t\tdf['wgt1_'+model] = np.nan\n\t\t\tdf['wgt2_'+model] = np.nan\n\t\tdf['wgt_cal_'+model] =np.nan\n\t\tdf['raver_portret_'+model] =np.nan #raver_portret_ is the realized return of the CAL choice of the raver investor\n\n\tfor i in np.arange(window,window+T):\n\t\t# Full estimation inputs at each point in time\n\t\tmeans = df[['mn0','mn1','mn2']].iloc[i-1].values\n\t\tsds   = df[['sd0','sd1','sd2']].iloc[i-1].values\n\t\tcorr01 = df.loc[i-1,'c01']\n\t\tcorr02 = df.loc[i-1,'c02']\n\t\tcorr12 = df.loc[i-1,'c12']\n\t\tC  = np.identity(3)\n\t\tC[0, 1] = C[1, 0] = corr01\n\t\tC[0, 2] = C[2, 0] = corr02\n\t\tC[1, 2] = C[2, 1] = corr12\n\t\tcov = np.diag(sds) @ C @ np.diag(sds)\n\n\t\t##### Note: all portfolio weights considered to be beginning of period weights\n\t\t##### (so multiply by contemporaneous realized returns)\n\t\t# Theoretical optimal weights\n\t\tmodel = 'true'\n\t\tdf.loc[i,'portret_'+model]= df.loc[i,['r0','r1','r2']].values @ wgts_true\n\t\tdf.loc[i,'raver_portret_'+model] = r + wgt_cal_true * (df.loc[i,'portret_'+model] -r)\n\n\t\t# Full estimation tangency portfolio\n\t\tmodel = 'est_all'\n\t\tw0, w1, w2 = tangency(means,cov,r,short_lb)\n\t\tdf.loc[i,'wgt0_' + model] = w0\n\t\tdf.loc[i,'wgt1_' + model] = w1\n\t\tdf.loc[i,'wgt2_' + model] = w2\n\t\t# df.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ df.loc[i,['wgt0_'+model,'wgt1_'+model,'wgt2_'+model]].values\n\t\twgts = np.array([w0, w1, w2])\n\t\tdf.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ wgts\n\t\tdf.loc[i,'wgt_cal_'+model] = (wgts @ means - r) / (raver * (wgts @ cov @ wgts))\n\t\tdf.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n\t\tdf.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)\n\n\t\t# Estimate only covariance matrix\n\t\tmodel = 'est_cov'\n\t\tw0, w1, w2 = gmv(cov,short_lb)\n\t\tdf.loc[i,'wgt0_' + model] = w0\n\t\tdf.loc[i,'wgt1_' + model] = w1\n\t\tdf.loc[i,'wgt2_' + model] = w2\n\t\t# df.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ df.loc[i,['wgt0_'+model,'wgt1_'+model,'wgt2_'+model]].values\n\t\twgts = np.array([w0, w1, w2])\n\t\tdf.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ wgts\n\t\tdf.loc[i,'wgt_cal_'+model] = (means.mean() - r) / (raver * (wgts @ cov @ wgts))\n\t\tdf.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n\t\tdf.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)\n\n\n\t\t# Estimate only standard deviations in covariance matrix\n\t\tmodel = 'est_sds'\n\t\tcov[0, 1] = cov[1, 0] = 0.0\n\t\tcov[0, 2] = cov[2, 0] = 0.0\n\t\tcov[1, 2] = cov[2, 1] = 0.0\n\t\tw0, w1, w2 = gmv(cov,short_lb)\n\t\tdf.loc[i,'wgt0_' + model] = w0\n\t\tdf.loc[i,'wgt1_' + model] = w1\n\t\tdf.loc[i,'wgt2_' + model] = w2\n\t\t# df.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ df.loc[i,['wgt0_'+model,'wgt1_'+model,'wgt2_'+model]].values\n\t\twgts = np.array([w0, w1, w2])\n\t\tdf.loc[i,'wgt_cal_'+model] = (means.mean() - r) / (raver * (wgts @ cov @ wgts))\t\t\n\t\tdf.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n\t\tdf.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ wgts\n\t\tdf.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)    \n\n\t\t# Equal-weighted portfolio\n\t\tmodel = 'ew'\n\t\tcov[0, 0] = cov[1, 1] = cov[2, 2] = (sds.mean())**2\n\t\twgts = (1/n)*np.ones(n)\n\t\t# df.loc[i,'portret_'+model]= df.loc[i,['r0','r1','r2']].values @ wgts_ew\n\t\tdf.loc[i,'portret_'+model] = df.loc[i,['r0','r1','r2']].values @ wgts\n\t\tdf.loc[i,'wgt_cal_'+model] = (means.mean() - r) / (raver * (wgts @ cov @ wgts))\n\t\tdf.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n\t\tdf.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)   \n\n\n\n\tportret_list = ['raver_portret_' +  model for model in model_list]\n\tstats = df[portret_list].describe()\n\n\tsr_df = pd.DataFrame(dtype=float, columns = ['sr'], index = model_list)\n\tfor model in model_list:\n\t\tsr_df.loc[model,'sr'] = (stats.loc['mean','raver_portret_' +  model] - r)/stats.loc['std','raver_portret_' +  model]\n\t\t\n\treturn sr_df\n\nsim_results = pd.DataFrame(dtype=float, columns=['true', 'ew', 'est_all', 'est_cov', 'est_sds'], index=range(num_sims))\nfor s in range(num_sims):\n    # print('Simulation number: ' + str(s))\n    sim_results.iloc[s] = simulation(means, cov, short_lb=None, seed=s).T\n\ndef figplot(xvar, yvar):\n    label_dict = {'true': 'theoretical optimal weights', \n                'ew': 'equal weights',\n                'est_all': 'estimate all inputs',\n                'est_cov': 'estimate covariance matrix only',\n                'est_sds': 'estimate standard deviations only'}\n\n\n    # Plot simulated Sharpe ratios\n    string =\"Sharpe Ratios:<br>\"\n    string += \"  \"+ label_dict[xvar] + \": %{x:0.3}<br>\"\n    string += \"  \"+ label_dict[yvar] + \": %{y:0.3}<br>\"\n    string += \"<extra></extra>\"\n\n    trace = go.Scatter(x=sim_results[xvar],y=sim_results[yvar],mode='markers', name='A simulated outcome', hovertemplate=string)\n    max_sr = sim_results.max().max()\n\n    # Plot 45 degree line\n    frac_x_beats_y = (sim_results[xvar] > sim_results[yvar]).mean()\n\n    string =\"Below this line: \" + f'({frac_x_beats_y:.0%} of simulations)<br>' + \"\"\n    string +=\"   `\"+label_dict[xvar] + \"` outperformed `\" +label_dict[yvar] + \"` \" + \"<br>\"\n    string +=\"Above this line: \" + f'({1-frac_x_beats_y:.0%} of simulations)<br>' + \"\" \n    string +=\"   `\"+label_dict[yvar] + \"` outperformed `\" +label_dict[xvar] + \"`<br>\"    \n    string += \"<extra></extra>\"   \n    trace_45 = go.Scatter(x=np.linspace(0,max_sr,100),y=np.linspace(0,max_sr,100),mode='lines', name='45-degree line', hovertemplate=string)\n    fig = go.Figure()\n    fig.add_trace(trace)\n    fig.add_trace(trace_45)\n    fig.layout.xaxis[\"title\"] = \"SR: \" + label_dict[xvar]\n    fig.layout.yaxis[\"title\"] = \"SR: \" + label_dict[yvar]\n    fig.update_yaxes(tickformat=\".2\")\n    fig.update_xaxes(tickformat=\".2\")\n    fig.update_layout(legend=dict(yanchor=\"top\", y =0.99, xanchor=\"left\", x=0.01))\n    fig.update_xaxes(range=[0, 1.05 * max_sr])\n    fig.update_yaxes(range=[0, 1.05 * max_sr])\n    fig.show()\ndef histplot(xvar, yvar):\n    label_dict = {'true': 'theoretical optimal weights', \n                'ew': 'equal weights',\n                'est_all': 'estimate all inputs',\n                'est_cov': 'estimate covariance matrix only',\n                'est_sds': 'estimate standard deviations only'}\n\n    # Plot differences in Sharpe ratios\n    avg_diff = (sim_results[xvar] - sim_results[yvar]).mean()\n    frac_x_beats_y = (sim_results[xvar] > sim_results[yvar]).mean()\n    string = \"This bin contains %{y:0.3}% of simulations <br>\"\n    string +=\"Average difference in SRs across all simulations: \" + f'{avg_diff:.3f} <br>'\n    string +=\"'\" + label_dict[xvar] + \"' outperforms '\" + label_dict[yvar] + \"' in \" +  f'{frac_x_beats_y:.0%} of all simulations<br>' + \"\" \n    string += \"<extra></extra>\"   \n    trace=go.Histogram(x=(sim_results[xvar] - sim_results[yvar]), hovertemplate = string )\n\n    max_sr = sim_results.max().max()\n\n    fig = go.Figure()\n    fig.add_trace(trace)\n    fig.layout.xaxis[\"title\"] = \"Difference in SRs: '\" + label_dict[xvar] + \"' minus '\" + label_dict[yvar] + \"'\"\n    fig.layout.yaxis[\"title\"] = \"Percent of Simulations\"\n    fig.update_yaxes(tickformat=\".2\")\n    fig.update_layout(legend=dict(yanchor=\"top\", y =0.99, xanchor=\"left\", x=0.01))\n    fig.update_xaxes(range=[-0.6*max_sr, 0.6*max_sr])\n    # fig.update_yaxes(range=[0, 1.05 * sim_results.max().max()])\n    fig.update_traces(marker_line_width=1,marker_line_color=\"black\", histnorm='percent')    \n    fig.show()\n\nfigplot('ew','est_all')\n```\n\n::: {#fig-input-est-1 .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"9b66320f-84bf-4894-8f47-eb5fcd8206fc\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"9b66320f-84bf-4894-8f47-eb5fcd8206fc\")) {                    Plotly.newPlot(                        \"9b66320f-84bf-4894-8f47-eb5fcd8206fc\",                        [{\"hovertemplate\":\"Sharpe Ratios:<br>  equal weights: %{x:0.3}<br>  estimate all inputs: %{y:0.3}<br><extra></extra>\",\"mode\":\"markers\",\"name\":\"A simulated outcome\",\"x\":[0.06264719015422174,0.00890958554935787,0.10861815241772713,0.18627168108343048,0.2535098120270527,0.1603326419984469,0.22012674781023428,0.13523185746615285,0.26885100557843206,0.24861720127850556,0.2154011227015513,0.2605071290795174,0.031698631433454715,0.4586174922844755,0.23104442275741963,0.24707217091988823,-0.0036034000032007453,-0.020976866140521976,0.33500359274115943,0.5351942091825581,0.23224629305475117,0.20483923126370482,-0.09980582943568675,0.4764814922277693,0.36650647467415465,0.3733665008342564,0.39682933447459995,0.11337536135283371,0.19640623757459227,0.3341033183151675,0.47020153363835054,0.4845642380454006,0.013635080433414552,0.29862126492292623,0.11491828527861102,0.3821296341990135,-0.03349869737961392,0.32236021172671603,-0.07238024183510876,0.08591515612965372,0.2599551767239067,0.2596645360238221,0.2177870882984525,0.12221564596951903,0.12081626862533006,0.35654120521006244,0.1884794242850422,-0.11116579074250152,0.410912913529149,0.3142275259734938,0.242584681402889,0.42446411576622456,0.34615383355595797,0.29585349585834686,-0.02161488651800102,0.15004066690572662,0.35278117506092527,0.22897244065738587,0.34619053153235035,0.18643328489058603,0.36282133325444005,0.23239888547122062,0.22203782977262826,-0.13318746683427857,-0.06552385804546619,0.5702449509909858,0.04712793322497604,0.2505934233906442,0.33694802912552724,0.15847040473021137,0.13212195009494335,0.2584463237912735,0.21150433918922668,0.3317100679548687,0.0714290427444476,-0.13897522334797482,0.24306387600186,0.2568463165149435,0.12124914706053518,-0.05252849947523096,0.18942762840737568,0.3969172870639479,0.5348351347741318,0.20869344898285086,0.2481386752761742,0.37671398682187224,0.07052346379946467,0.13204021147381534,0.4827166568274601,0.3988569300841098,0.33925105572056163,0.3536074281571653,-0.08063354161815806,0.21875996905542433,0.34471749561207077,0.30115445366978594,0.19400209326168902,0.2060059341635825,-0.010724105769151476,0.21223925851840672,0.27976123864031976,0.39162223794702017,0.39216249563696226,0.23656982388710282,0.2913365638916379,0.13324065099163857,0.2179490537567586,-0.06339463777832649,0.1874225526046976,0.2584611494745785,-0.08090557536474666,0.39202312304414694,0.3315677896691815,-0.31883696085899077,0.35795466839581525,0.11266360230870719,0.30517821006568135,-0.1150173067748384,0.3396288699965968,0.1389005600797949,-0.02945369467762339,0.10113497899643112,0.5499317634178428,0.33072263357434334,-0.02194820288964294,0.14126110790082197,0.4012902967000951,0.26650265458398437,0.34865576739818754,0.5865652267154128,0.21710871024582262,-0.07808976570271853,0.24343827256326597,0.26390406177851256,0.01775407462578755,0.17967428622944373,0.16844883410145933,0.3717408433921144,0.31094890476775033,-0.12333093194196096,0.26801160287415693,0.09554603791623849,0.26039013930668903,0.1993455313422638,-0.027848297470543685,0.2946337704152135,0.2620936691910382,0.4376811179155378,0.27310071341168607,0.18930797637643218,0.000954061217404939,0.31584935493716626,0.6482739997714979,-0.06452837288324477,0.37823905936706775,0.285499708143729,0.20237431642550477,-0.05368705421541918,0.6724962847274233,0.1596637619911899,0.415242052545655,0.23468895601228398,0.4531892835227003,0.15746090523477557,-0.15862840476971,0.12253606986220951,0.0064327289058707686,0.10424023545352176,0.2296424998121776,0.23308585788273856,0.3309658372406606,0.4116389442341832,0.4409496727770949,0.2483964073325821,0.11484798053895905,0.19091350829791676,-0.0779160445088404,0.2837981335105852,0.18668738955067427,0.2811498327988744,-0.06399904610507645,0.4538141955707891,0.18361140730172748,0.24191128753306212,0.03200636900419576,0.13732080969942076,0.23229900864180747,0.4576800777884571,0.1907883569016209,0.1603497763254346,0.1552074556516379,0.10939940305857432,0.23942162991890525,0.05570079122142348,0.2533139667895532,0.11869219963495276,0.04671366056302931,0.2795083351532565,0.4395338723338146,0.46079902256638905,0.0001274557746398211,0.5376750261420872,0.46502137727770454,-0.15588338172274888,0.1033727765348076,0.2271347078148737,0.3744173386369315,0.12122075846308035,0.14141052460556233,-0.04288798157106175,0.11687730910295821,0.024485289972970788,0.1380233256149856,0.5433629998286,0.40131544360967497,0.45711636760783325,0.21102824504842865,0.3910799302381984,0.08982792603037199,0.2895963265407539,0.13523138248804495,0.18828351550533054,0.23897880229233878,0.44165380376560137,0.07460295910443138,0.44997402402772146,-0.13438422259229663,0.2598662076712364,0.28468372751180615,-0.0244984023768963,0.14283457139086458,0.48242100356321505,0.3719024885184121,0.3563190966707302,0.08117532293748014,0.31498826233988353,0.26730421921998176,0.06658371799885154,0.17612466170886545,0.5337898981479647,-0.04825561175760641,0.29503047933538257,0.0668153186538033,0.165485355762036,0.7275573225215282,0.1360667319771788,0.10905909606176532,0.20590967194317208,-0.009200561360774654,0.3178007001759762,0.10647559228651549,0.07837550754821332,0.20245788628882494,0.09949522711782184,0.3522629879765668,0.45808495620359,0.373088461833578,0.13368223306686736,0.2066748732774996,0.1676372755773693,0.09615720901411305,0.1242368105564571,0.2145487115270474,0.14102888551617274,0.2820774142393305,0.4156997478829079,0.24579132280758537,0.5808878780057466,0.17426543826427662,0.3658377762492359,0.16344599686154232,0.08991521404086572,-0.30725998222024203,-0.003911517754263173,0.3913331193737636,0.002193767281174408,-0.02689139486703406,0.06150069101232454,0.24147101665980011,0.38499151083139516,0.06354625971727544,0.35677770261187025,0.24437463617413552,0.31772455089850565,0.30763136112789286,0.4058673446979285,0.17684333029261393,0.615755212378883,0.48757530841913427,0.06349573614472653,0.1464414067097101,0.34109144141772396,0.3133449945472906,0.2604657504065563,0.07747832112241582,0.06052000216878468,0.6557824909846864,0.17565808994054324,0.13675541885310685,0.4352747364892316,0.017979823553889558,0.22604749501565727,0.378425842216824,0.2712541164086265,0.3846887069631077,0.4133474655552425,0.10728805864552127,0.23266371091945487,0.27962672639507397,0.11877312266995371,0.15720983820152912,0.39071743558952965,0.07416389401572202,0.35611872290023183,0.05216411737150734,0.4167495846683737,0.5656624806903527,0.35948682909537155,0.3783039224835559,0.2564535376625783,0.35238154664686167,0.2207378504276931,0.4561224676110526,0.04905897906210355,0.38795951330306916,0.08439115205126117,0.043119748080047544,0.266197569767784,0.2657060403819367,0.15667434257492024,0.16327926890117134,0.061191086142819325,-0.11946512440827092,-0.07049302735287284,0.5929110744181573,0.4701444405714459,0.11324880465845868,-0.07195544561318526,0.5896542053415847,0.4735947380075659,0.45272367272887515,0.20736989467522823,0.27629418956673923,0.049573409237175715,0.30709038044932957,0.0012617471292279748,-0.23651017185561135,0.017653577969582293,0.09957581276194749,0.24105209035396255,0.15608865409325315,0.4768348140272765,0.05093038720160917,0.18803545985224882,-0.01658007706035945,-0.08733535373168735,0.06469880318412538,0.2320050176218801,0.024097659677819266,-0.1556761398681618,0.2782060047374054,0.37913601215356746,-0.008154576965326106,-0.2959032826453656,0.3290431973506096,0.2736503226520386,0.38034566032943334,0.42866778766417074,0.26957589245404406,0.24929817099437612,0.286861585046598,0.18892788370721272,0.3701146242817865,0.23514672589838195,0.009068222905445084,0.2135784143786038,0.09768392547823859,0.018704310329750354,0.06974360180800208,0.25017767576356126,0.02096949742660583,0.20876195522087237,0.38188804001064275,0.36996373636095375,0.11320859522274665,0.3745472802453403,0.24699447166190622,0.249286524169672,0.16528189986320033,0.22614063665761655,0.04594750045662122,0.23140072139470985,0.3404055279425413,0.08850946320888395,0.45975181438446755,0.33524690391677303,0.7051013484329285,0.5487505120416857,0.22554089107196287,0.42299620507578406,0.22202256912138627,0.22742722699037574,0.00937411778848435,0.3324841774767769,0.2473859324310365,0.2572720332841954,0.2828429038714322,0.1653860820659368,0.33798657366185414,0.2160031186186262,-0.02889085924372901,0.37415253292276773,0.3801212313492503,0.2456497699874667,0.2567591043759095,0.4745692611418224,0.04160091184913322,0.19243227843676625,0.2534670494666191,0.1129311808284377,0.18972937155896322,-0.1964527341081492,0.15491710839622724,0.38866343082185034,0.05180596975392672,0.46035137946119464,-0.07259274493472624,0.20616437500139193,0.5388502790323692,0.1877083915466406,0.4259409391895521,0.11619659005590845,0.2349636338438803,0.25581221854814623,0.1687605791095098,0.3135570416906516,0.11443074495893832,0.3724076943541551,0.3189672306404037,-0.023129184651459224,0.2746507190980861,0.12135071339507338,0.24673877629532726,0.11916073121656229,0.15267663910116763,0.23699679988509326,0.3067557842107747,0.43921394663595964,0.19263815184759986,0.2974644251598551,0.14590118249548137,0.021176926492556303,0.37652902293199697,0.3161835823911429,0.3364223325067015,0.37497215606502365,0.25500207025749266,0.16719474606568385,0.48217923477045294,0.0423786148875597,0.3815128103904911,0.1578265406357743,0.2845550256351552,0.2001645847489084,0.016777285321824747,0.1254597875237791,0.2384877469703204,0.09022823407123838,0.12258904777097493,0.25853193760397597,0.17616959525644188,0.4765481252038097,0.46468783886747794,0.221401366292018,0.1891353019096298,0.30606593156163564,0.24216323858874736,0.10237669808823086,0.003724233096610557,0.28646206559075194,0.35179586232708454,0.3103137641256961,0.23132447875427084,0.3895057945833922,0.3579981933448154,0.2696531705245188,0.0009883217211718916,0.5024268486313566,0.21675823732882754,0.37934908825432534,0.49568125175271466,0.108286062638878,0.4258392893858007,0.3903765633247666,0.26251161060974626,0.44459979023869056,0.06703587926883882,0.4930569371483911,-0.018365104320683712,0.14462684501373987],\"y\":[-0.030815869282979302,-0.0028702694627226284,0.10728355226298497,0.13504246337045359,0.2085400215992178,0.046996235460616785,0.09724361749666963,0.03409566882326141,0.19564839717996776,0.1687064802131443,-0.00529190796876782,0.2541823120443393,0.30453051575399115,0.36662716019827807,0.3414095088203566,0.12341130957950298,0.15071499558941026,0.03962384814455582,0.10115125308322648,0.41636490824104183,0.005499396989635366,0.01343110162323833,-0.002907867341599208,0.34945640892474916,0.34716261734539305,0.3031952661828104,0.2942554200258916,0.06738801896344715,0.09499205763044678,0.2738950806129058,0.2635601585590135,0.42244474417844957,-0.007189983211440976,0.13236367655698378,0.05115554770575991,0.3040717280057497,-0.09782311478984694,0.3361235323283343,0.0937545086840404,0.11363086698394119,0.23685127535940828,0.11062006912040637,0.2306456963796966,-0.064466473209642,0.10886222647752375,0.4747861290100744,0.0724056264021455,-0.06264885472857286,0.3323558444378524,0.19178219740714078,0.16332304138104603,0.2747409028292865,0.30205253453953235,0.21861728797703353,-0.11448390973350617,0.046724334351407694,0.3289935727402672,0.1955792418269216,0.29400282765901214,0.09815984340716427,0.28301088886658166,0.023362528220631066,0.22287008376183945,-0.19929246006742468,0.2429146059799194,0.49511872547134755,0.07185493080423311,0.18654190734932666,0.18876995648902054,0.1509872270370349,0.1498340018235718,0.0070586616850139014,0.1557763000673727,0.30166907696983775,0.024060168141254997,-0.2114132094765036,0.04255142630105489,0.2163751233791364,0.09731020367537462,0.039069982175105086,0.1793101438986763,0.32903666965252637,0.4572523186593897,0.15886086844697592,0.16649574353674101,0.3682027337772574,0.11341443081101829,0.040197891185356306,0.3356189320990159,0.19220428997520428,0.3275899120500963,0.37114138637267513,-0.11619415074006509,0.161723154874657,0.2923838298382109,0.3654530288628655,0.14760961571524062,0.12784721777952265,-0.11453790410471895,0.12490331045371741,0.18346624332678607,0.2626043390287537,0.2447294234514898,0.21526898366302272,0.306912954717341,0.11566534488961507,0.2581194646914875,0.11910446265618224,0.1467767254421495,0.2704017323444978,-0.2052465599973628,0.3503840451837385,0.2087160976440167,-0.32508013078275844,0.31928906228306203,0.07064642382667802,0.2336092308976516,-0.2158413425432261,0.34521097035454484,-0.03275075212587253,-0.30842314187824116,-0.01657066444613368,0.4446359773182193,0.2766353520065558,-0.08735930195996679,0.05137444469083425,0.23342985422288773,0.24334192616562447,0.3314941696297417,0.5924843207174242,0.1674000047068415,-0.19114042975633422,0.1122612875017986,0.43735523756298716,0.025944494812219082,-0.05262439508409971,0.14474110212712035,0.30666888805994996,0.12496995939473139,-0.005746258861398037,0.26647441568790925,-0.0032929964335803863,0.1820198044512303,0.16676935191004483,-0.03811938104563108,0.3108563532836918,0.14564311885016132,0.39809833125275373,0.24337230116878342,0.29099991876483,0.033064323819243624,0.21148194322644037,0.5530720745366651,0.06096735140184255,0.29611742250943957,0.2892812774727725,0.053819056794341874,-0.17817932501342876,0.5520939190979254,-0.05554480970359609,0.2970348665588999,0.21121233670440642,0.4602898789824968,0.089247610150911,-0.1783204030254514,0.17878445103680493,-0.1486094120160515,0.12154630250925853,0.16112170564778064,0.19712990107794953,0.19245025888678102,0.36778409664837214,0.3872896322596715,0.13517524528457792,0.10337014421533082,0.23713618124178687,-0.23578070160781767,0.256942543441567,0.30486997608207866,0.12063758718073732,-0.031547161493248946,0.2604217528411986,0.24306494458046018,0.13473671726048728,0.0003121294039935849,0.15138033966492107,-0.0438197895703813,0.33240288755816316,0.2328907226209473,0.2343214918508285,0.04083961374981948,0.24071219632146879,0.3628391539102854,0.0051093727286180305,0.2459516599703304,0.10416003568713562,0.2065775810542553,0.27195972662010465,0.3534443903712697,0.3799214434387637,0.19735935177413905,0.5586127312703782,0.41533489570430193,-0.10624058962286563,0.11238391697768775,0.44176760568243906,0.32784757538919007,0.09386673083770253,0.09385713078357656,-0.03592012533916912,0.003067938693207996,0.09352729067181234,-0.009630043968228273,0.424070323299002,0.2633174288475677,0.4679806091218326,0.20176965095569116,0.2793151182495998,0.023078013135975715,0.2102891728173446,0.06414379884139099,0.07640664047634,0.1807115006361105,0.47149526802303743,0.2405625766708715,0.35552693602068663,0.0939609876402252,0.09577943999515046,0.24951531111181485,-0.023137169885645365,0.13249935759208223,0.4625863450162548,0.28831617632811374,0.19991690983580127,0.09005564723829952,0.1591810868919618,0.19158380920876925,0.06021233244600755,0.19304375093401366,0.5627925736469864,0.020770198837218375,0.07519702501752289,0.17889405238624131,0.1148037520895356,0.6842816094107763,0.11924883767860629,-0.09568992319851807,0.06081562347736351,0.22855360252152215,0.2774681932289802,0.09491886632660541,0.32252058991031,0.3774581177291242,-0.15525020629522993,0.3014435755010642,0.4656087530628435,0.31488910945430576,0.10866417190573509,0.18932242389068446,0.052470112848608134,0.022698769876725682,0.23403091627775505,0.27689075351012454,0.11550277768386422,0.17839326241556347,0.34286642521337113,0.07950113050469318,0.5223755076160651,0.12642254429972155,0.28768398345725166,0.003614111927024033,0.0017117534760651533,-0.302572018949457,0.1937254149303131,0.30421174218099556,-0.008400489385172124,-0.06695391885848279,-0.05206894466194926,-0.04226166788846663,0.3190079364218073,0.043342303759342636,0.2353851823176866,0.13708753904661236,0.2702340688946422,0.15966446343371515,0.36481480375411324,0.21526424966103622,0.5947601783709445,0.3240981295656063,0.0335250790748915,0.2517415008420614,0.2633337556356828,0.2433124078606518,0.11511739502102077,0.19782896501531894,0.003517443902626702,0.5595764303706756,0.21654516239940344,0.05141730383452734,0.31640985481219364,0.010990825134198537,0.160430183930954,0.29527125524074166,0.3292611869943101,0.31428247385761066,0.3890636821750803,0.3801070949587978,0.03807655658482204,0.11855243792437217,0.1812043542636296,0.08326862978504972,0.2479642375717172,0.1254860546363522,0.2801818875768752,0.05856756146644632,0.32322184597370957,0.4267556399708568,0.2194442396076317,0.2876469391948268,0.2369101143586854,0.1586456084270304,0.1812825411093329,0.4230565886229597,-0.09732773519633639,0.23961760042870586,0.07895310199607401,-0.16382341650611534,0.13275061016742884,0.29742502966764117,0.23653441853978055,0.09947195923801513,0.014489367198552545,0.008953907554103161,0.03383608466299799,0.3394675365644944,0.4349217344738546,-0.025173715771616863,0.01565540105904238,0.41008624886016515,0.44655462812952146,0.4360466993277205,0.2296453369812182,0.25617207086689264,0.08024411240869767,0.2374473604176241,0.08394437791388976,-0.3913325725113006,-0.12151019415314421,0.059176069821316256,0.15649325562810001,0.0843052042167098,0.4191772393936583,-0.08431841074922615,0.04014557626047699,-0.09584465907688121,-0.1456059546607894,0.04102456244319736,0.05624070790497794,-0.07300096259934621,-0.04355644809204516,0.27308964239484346,0.3708937527608161,-0.14280017021057917,-0.19733315903223292,0.26082682354505793,0.17240917892569266,0.14664702015186845,0.3118028274855762,0.2556644232017228,0.3289856450707031,0.263618384261787,0.1411087824697099,0.2726529630986874,0.24844764537973493,0.23507566914441236,0.1032890988887529,0.3028389006667491,-0.03966294484033053,0.17619157032006105,0.209367663373733,-0.0462705854749337,0.18360498264186506,0.282266735132013,0.3256758426318533,-0.013141401734423337,0.287902655730173,0.22556650150309332,0.2802273107618271,0.2202689609200001,0.12976255692451824,-0.09239116861846357,0.1577044337548763,0.2098312159451637,-0.02206017004114742,0.35424392224473894,0.28212037861141964,0.622375455226226,0.46706064252114465,0.31923153927062514,0.046762573332665626,0.129077966627101,0.1802163169660403,-0.03921139908316379,0.2605133530959391,0.3174397698045007,0.206003149982444,0.06664730542497918,0.05926239502741476,0.24663767914107584,0.17618734151188348,-0.024896569139949733,0.30594895885957807,0.2914340806863056,0.12094197578457122,0.18953375986770885,0.40304176036557093,0.09124062802512987,0.10354633224323027,0.16649747693972658,0.15782749188949216,0.15477195211973938,-0.2761672167508759,0.1483317455312576,0.2769238812713249,-0.053496523314000906,0.42622823418000677,-0.24684988993039894,0.12989202532421334,0.6071153136594967,0.3792789537547606,0.2226434591776852,0.10217643088428674,0.18155648968584398,0.26137676196033605,0.1487820444670426,0.06896204490215561,0.021636012309054698,0.34933794598256157,0.18109670787250298,0.0019938871153336096,0.03675884976145391,0.12677175281216252,0.19226478254860052,-0.07180103019567945,0.06943233812888502,0.2808361575835222,0.30337638402496114,0.3796673302486968,0.2375478853372138,0.25771294885622104,0.13763420370776386,0.1147322705885187,0.180974774981793,0.2228833111117815,0.21678670723498183,0.31157046679387124,0.1403625073429796,0.16373241566528812,0.42958592956098984,-0.041038450657160906,0.33641449940888657,0.14283655358018546,0.2785322370722983,0.22108623079794215,-0.0501138800157771,0.1008593901656724,0.12238095874634823,0.1596277755276259,-0.031484077427588575,0.18154546032323501,0.009509693229534407,0.38570360897480716,0.3799709682554537,0.34673980235504265,0.09856143330061684,0.2146700487144644,0.1085728955676736,-0.014865380168941175,-0.005265556478838694,0.22122766272851896,0.35734499193747715,0.20374284459194125,0.07026886391771142,0.2806975469204087,0.3862386828346958,0.16935051446554714,-0.06901690238204121,0.3866496980231368,0.09836276786080159,0.3604139030383569,0.5377451390899414,0.11046603036071698,0.38669661556063467,0.3652193363483213,0.07339632137403383,0.4256153545334665,0.08327779877479334,0.41247525800202933,-0.16589415376905384,0.03805337648606469],\"type\":\"scatter\"},{\"hovertemplate\":\"Below this line: (76% of simulations)<br>   `equal weights` outperformed `estimate all inputs` <br>Above this line: (24% of simulations)<br>   `estimate all inputs` outperformed `equal weights`<br><extra></extra>\",\"mode\":\"lines\",\"name\":\"45-degree line\",\"x\":[0.0,0.00827914409522866,0.01655828819045732,0.02483743228568598,0.03311657638091464,0.0413957204761433,0.04967486457137196,0.05795400866660062,0.06623315276182928,0.07451229685705794,0.0827914409522866,0.09107058504751527,0.09934972914274393,0.10762887323797259,0.11590801733320125,0.1241871614284299,0.13246630552365857,0.14074544961888724,0.1490245937141159,0.15730373780934453,0.1655828819045732,0.17386202599980188,0.18214117009503053,0.19042031419025918,0.19869945828548785,0.20697860238071653,0.21525774647594517,0.22353689057117382,0.2318160346664025,0.24009517876163117,0.2483743228568598,0.25665346695208846,0.26493261104731713,0.2732117551425458,0.2814908992377745,0.2897700433330031,0.2980491874282318,0.30632833152346045,0.31460747561868907,0.32288661971391774,0.3311657638091464,0.3394449079043751,0.34772405199960377,0.3560031960948324,0.36428234019006106,0.37256148428528973,0.38084062838051835,0.38911977247574703,0.3973989165709757,0.4056780606662044,0.41395720476143305,0.42223634885666167,0.43051549295189034,0.438794637047119,0.44707378114234764,0.4553529252375763,0.463632069332805,0.47191121342803366,0.48019035752326233,0.48846950161849095,0.4967486457137196,0.5050277898089482,0.5133069339041769,0.5215860779994056,0.5298652220946343,0.5381443661898629,0.5464235102850916,0.5547026543803203,0.562981798475549,0.5712609425707775,0.5795400866660062,0.5878192307612349,0.5960983748564636,0.6043775189516922,0.6126566630469209,0.6209358071421496,0.6292149512373781,0.6374940953326068,0.6457732394278355,0.6540523835230642,0.6623315276182928,0.6706106717135215,0.6788898158087502,0.6871689599039789,0.6954481039992075,0.7037272480944361,0.7120063921896648,0.7202855362848934,0.7285646803801221,0.7368438244753508,0.7451229685705795,0.7534021126658081,0.7616812567610367,0.7699604008562654,0.7782395449514941,0.7865186890467227,0.7947978331419514,0.8030769772371801,0.8113561213324088,0.8196352654276373],\"y\":[0.0,0.00827914409522866,0.01655828819045732,0.02483743228568598,0.03311657638091464,0.0413957204761433,0.04967486457137196,0.05795400866660062,0.06623315276182928,0.07451229685705794,0.0827914409522866,0.09107058504751527,0.09934972914274393,0.10762887323797259,0.11590801733320125,0.1241871614284299,0.13246630552365857,0.14074544961888724,0.1490245937141159,0.15730373780934453,0.1655828819045732,0.17386202599980188,0.18214117009503053,0.19042031419025918,0.19869945828548785,0.20697860238071653,0.21525774647594517,0.22353689057117382,0.2318160346664025,0.24009517876163117,0.2483743228568598,0.25665346695208846,0.26493261104731713,0.2732117551425458,0.2814908992377745,0.2897700433330031,0.2980491874282318,0.30632833152346045,0.31460747561868907,0.32288661971391774,0.3311657638091464,0.3394449079043751,0.34772405199960377,0.3560031960948324,0.36428234019006106,0.37256148428528973,0.38084062838051835,0.38911977247574703,0.3973989165709757,0.4056780606662044,0.41395720476143305,0.42223634885666167,0.43051549295189034,0.438794637047119,0.44707378114234764,0.4553529252375763,0.463632069332805,0.47191121342803366,0.48019035752326233,0.48846950161849095,0.4967486457137196,0.5050277898089482,0.5133069339041769,0.5215860779994056,0.5298652220946343,0.5381443661898629,0.5464235102850916,0.5547026543803203,0.562981798475549,0.5712609425707775,0.5795400866660062,0.5878192307612349,0.5960983748564636,0.6043775189516922,0.6126566630469209,0.6209358071421496,0.6292149512373781,0.6374940953326068,0.6457732394278355,0.6540523835230642,0.6623315276182928,0.6706106717135215,0.6788898158087502,0.6871689599039789,0.6954481039992075,0.7037272480944361,0.7120063921896648,0.7202855362848934,0.7285646803801221,0.7368438244753508,0.7451229685705795,0.7534021126658081,0.7616812567610367,0.7699604008562654,0.7782395449514941,0.7865186890467227,0.7947978331419514,0.8030769772371801,0.8113561213324088,0.8196352654276373],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"SR: equal weights\"},\"tickformat\":\".2\",\"range\":[0,0.8606170286990192]},\"yaxis\":{\"title\":{\"text\":\"SR: estimate all inputs\"},\"tickformat\":\".2\",\"range\":[0,0.8606170286990192]},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('9b66320f-84bf-4894-8f47-eb5fcd8206fc');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSimulated performance of estimated tangency portfolio versus equal-weighted portfolio\n:::\n:::\n\n\n::: {.cell execution_count=5}\n\n::: {#fig-input-est-histogram1 .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"b9161691-f678-4004-9842-ca99adba2583\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"b9161691-f678-4004-9842-ca99adba2583\")) {                    Plotly.newPlot(                        \"b9161691-f678-4004-9842-ca99adba2583\",                        [{\"hovertemplate\":\"This bin contains %{y:0.3}% of simulations <br>Average difference in SRs across all simulations: 0.050 <br>'equal weights' outperforms 'estimate all inputs' in 76% of all simulations<br><extra></extra>\",\"x\":[0.09346305943720104,0.011779855012080499,0.0013346001547421549,0.05122921771297689,0.04496979042783489,0.11333640653783011,0.12288313031356465,0.10113618864289144,0.07320260839846429,0.07991072106536126,0.22069303067031912,0.006324817035178121,-0.27283188432053646,0.09199033208619745,-0.11036508606293696,0.12366086134038524,-0.154318395592611,-0.060600714285077795,0.23385233965793295,0.11882930094151628,0.2267468960651158,0.1914081296404665,-0.09689796209408755,0.12702508330302015,0.019343857328761593,0.07017123465144598,0.10257391444870834,0.045987342389386565,0.10141417994414549,0.06020823770226169,0.20664137507933705,0.06211949386695104,0.020825063644855528,0.16625758836594245,0.06376273757285111,0.0780579061932638,0.06432441741023302,-0.013763320601618279,-0.16613475051914917,-0.027715710854287465,0.02310390136449844,0.14904446690341575,-0.012858608081244088,0.18668211917916103,0.011954042147806307,-0.11824492380001195,0.11607379788289669,-0.04851693601392866,0.07855706909129662,0.12244532856635301,0.07926164002184297,0.14972321293693808,0.04410129901642562,0.07723620788131333,0.09286902321550515,0.10331633255431893,0.023787602320658074,0.033393198830464266,0.05218770387333821,0.08827344148342176,0.07981044438785839,0.20903635725058956,-0.0008322539892111902,0.06610499323314611,-0.3084384640253856,0.07512622551963827,-0.024726997579257066,0.06405151604131756,0.1481780726365067,0.007483177693176468,-0.017712051728628442,0.2513876621062596,0.05572803912185398,0.030040990985030935,0.0473688746031926,0.07243798612852878,0.20051244970080512,0.040471193135807104,0.02393894338516056,-0.09159848165033604,0.01011748450869937,0.06788061741142154,0.0775828161147421,0.04983258053587494,0.08164293173943318,0.008511253044614864,-0.04289096701155362,0.09184232028845904,0.14709772472844423,0.2066526401089055,0.011661143670465335,-0.01753395821550985,0.03556060912190703,0.05703681418076734,0.052333665773859894,-0.06429857519307958,0.0463924775464484,0.07815871638405986,0.10381379833556748,0.0873359480646893,0.0962949953135337,0.12901789891826648,0.14743307218547247,0.021300840224080103,-0.015576390825703057,0.0175753061020235,-0.040170410934728895,-0.18249910043450873,0.04064582716254808,-0.011940582869919336,0.12434098463261614,0.041639077860408436,0.1228516920251648,0.006243169923767666,0.038665606112753215,0.04201717848202917,0.07156897916802976,0.1008240357683877,-0.005582100357948039,0.17165131220566743,0.2789694472006178,0.1177056434425648,0.10529578609962348,0.054087281567787526,0.06541109907032384,0.08988666320998773,0.16786044247720736,0.023160728418359894,0.017161597768445835,-0.005919094002011405,0.04970870553898113,0.11305066405361569,0.13117698506146735,-0.1734511757844746,-0.008190420186431534,0.23229868131354345,0.02370773197433898,0.06507195533216442,0.18597894537301896,-0.11758467308056292,0.0015371871862476794,0.09883903434981887,0.07837033485545872,0.032576179432218966,0.010271083575087398,-0.01622258286847833,0.1164505503408769,0.039582786662784086,0.029728412242902652,-0.10169194238839782,-0.032110262601838684,0.10436741171072589,0.09520192523483284,-0.12549572428508732,0.08212163685762819,-0.0037815693290434993,0.1485552596311629,0.12449227079800958,0.12040236562949791,0.215208571694786,0.11820718598675511,0.02347661930787756,-0.007100595459796466,0.06821329508386458,0.019691998255741416,-0.05624838117459542,0.15504214092192226,-0.01730606705573677,0.06852079416439696,0.035955956804789024,0.13851557835387956,0.04385484758581104,0.0536600405174234,0.11322116204800417,0.011477836323628227,-0.04622267294387011,0.15786465709897726,0.02685559006901822,-0.1181825865314044,0.1605122456181371,-0.032451884611827506,0.1933924427295905,-0.059453537278732704,0.10717457027257485,0.03169423960020218,-0.014059529965500306,0.27611879821218877,0.12527719023029393,-0.04210236571932638,-0.07397171552539392,0.11436784190181842,-0.13131279326289447,-0.12341752399138012,0.050591418492805455,0.007362306819222814,0.014532163947817131,-0.159863920491226,0.007548608533151868,0.0860894819625449,0.08087757912762533,-0.19723189599949922,-0.020937705128291073,0.04968648157340261,-0.049642792099883246,-0.00901114044288015,-0.21463289786756537,0.046569763247741425,0.027354027625377822,0.04755339382198577,-0.0069678562318926315,0.11380937040975021,-0.06904200069884156,0.14765336958321387,0.11929267652959802,0.13799801476210727,-0.01086424151399934,0.009258594092737493,0.11176481198859861,0.06674991289439627,0.0793071537234093,0.07108758364665396,0.11187687502899055,0.05826730165622829,-0.029841464257436057,-0.16595961756644012,0.09444708800703483,-0.22834521023252183,0.16408676767608596,0.0351684163999913,-0.0013612324912509362,0.010335213798782356,0.01983465854696026,0.08358631219029838,0.15640218683492893,-0.008880324300819378,0.15580717544792172,0.07572041001121252,0.006371385552843993,-0.016919089225148204,-0.02900267549902169,-0.0690258105948248,0.21983345431785967,-0.11207873373243801,0.050681603672500394,0.043275713110751846,0.016817894298572514,0.20474901926028338,0.1450940484658086,-0.2377541638822968,0.04033250694699603,0.011556725959910072,-0.2441450823620967,-0.17500023144029925,0.2547454334130518,0.05081941247550259,-0.007523796859253473,0.05819935237927226,0.02501806116113227,0.017352449386815127,0.11516716272876115,0.07345843913738737,-0.10979410572129794,-0.062342041983077134,0.02552610783230852,0.10368415182376706,0.07283332266953679,0.1662901923028922,0.05851237038968149,0.04784289396455507,0.07815379279198426,0.15983188493451828,0.08820346056480056,-0.004687963270785023,-0.19763693268457627,0.08712137719276802,0.010594256666346532,0.040062523991448724,0.1135696356742738,0.2837326845482667,0.06598357440958785,0.020203955957932805,0.12139252029418365,0.10728709712752316,0.047490482003863466,0.1479668976941777,0.041052540943815274,-0.03842091936842229,0.02099503400793845,0.16347717885352797,0.02997065706983503,-0.10530009413235134,0.07775768578204117,0.07003258668663878,0.14534835538553553,-0.12035064389290312,0.05700255826615797,0.09620606061401082,-0.040887072458860196,0.08533811501857952,0.11886488167703796,0.006988998419691021,0.06561731108470326,0.08315458697608236,-0.05800707058568361,0.07040623310549704,0.024283783380162183,-0.27281903631327653,0.19458715433463283,0.1610742884707018,-0.06243123159367589,0.0739412084164794,0.14275319801781244,-0.05132216062063019,0.07593683532335666,-0.0064034440949389815,0.09352773869466413,0.13890684071949594,0.14004258948773984,0.09065698328872906,0.019543423303892887,0.19373593821983126,0.03945530931836019,0.03306587898809288,0.14638671425843994,0.1483419128743633,0.00543805005518716,0.20694316458616288,0.13344695960035519,-0.03171898928570449,-0.0798600759648603,0.0638073096631562,0.04670171894426678,-0.1284190319623741,-0.10432911201587083,0.25344353785366286,0.03522270609759126,0.13842252043007555,-0.08761084667222764,0.1795679564814196,0.02704010987804445,0.01667697340115465,-0.022275442305989962,0.020122118699846592,-0.03067070317152195,0.06964302003170547,-0.08268263078466179,0.15482240065568925,0.13916377212272651,0.040399742940631235,0.08455883472586254,0.07178344987654335,0.0576575746336182,0.13524879795083533,0.14788988359177183,0.07926458201652176,0.05827060092910205,0.02367424074092802,0.17576430971690216,0.09709862227716548,-0.11211969177611665,0.005116362342561964,0.008242259392751361,0.13464559324525308,-0.09857012361313267,0.06821637380555168,0.10124114372634593,0.2336986401775649,0.11686496017859455,0.013911469252321285,-0.07968747407632698,0.023243200784810958,0.047819101237502826,0.09746166118309907,-0.01330091948135298,-0.22600744623896726,0.11028931548985091,-0.20515497518851053,0.05836725517008089,-0.10644796851205897,0.04081001238982826,0.06724008290153953,0.025156972579007314,0.09962130487862975,0.04428789372910047,0.12634999695716997,0.0866446245151673,0.021427970158812898,-0.0309407865921551,-0.05498706105679976,0.09637807973309831,0.1383386690750848,0.07369628763983355,0.1305743119973776,0.11056963325003137,0.10550789213972861,0.05312652530535339,0.08272589320670254,0.08168986952054103,-0.09369064819866227,0.3762336317431184,0.09294460249428527,0.047210910024335445,0.04858551687164814,0.0719708243808378,-0.07005383737346424,0.05126888330175139,0.216195598446453,0.10612368703852204,0.0913488945207783,0.03981577710674272,-0.003994290103779278,0.06820357406318966,0.08868715066294469,0.12470779420289549,0.06722534450820064,0.07152750077625147,-0.049639716175996655,0.08888594619353597,0.0869695725268925,-0.04489631106105446,0.03495741943922384,0.07971448264272671,0.006585362864969635,0.11173954955052545,0.10530249306792763,0.03412314528118787,0.17425714499567269,0.07627234967717858,-0.06826503462712752,-0.19157056220812002,0.20329748001186693,0.014020159171621707,0.053407144158036324,-0.005564543412189815,0.01997853464246721,0.24459499678849594,0.09279473264988362,0.023069748371593535,0.13787052276790074,-0.025123071766792834,0.23789186933663217,-0.0054210394170891435,0.054473993746726734,0.19096176141224175,0.08324430097228261,-0.04383935769842895,0.0033794001858135636,0.05954661638726283,-0.04490973348961394,0.03975147630363407,0.00826697878771751,-0.0935553440959624,0.19555424795020396,0.09330027127936141,0.11963562527171967,0.06340168927115242,0.11463956291451308,0.00346233040039573,0.05259330520946309,0.08341706554472061,0.04509831098160455,0.01498998705558885,0.006022788562856929,-0.020921646049033765,0.06689116533760185,0.024600397358106693,0.11610678822397218,-0.0693995414563875,0.1540731251985635,0.07698647728074096,0.16665990202690747,0.09084451622900253,0.08471687061202426,-0.12533843606302464,0.09057386860901295,0.09139588284717123,0.13359034302107375,0.11724207825717203,0.00898978957544925,0.06523440286223298,-0.005549129610392611,0.10657091953375486,0.16105561483655942,0.10880824766298347,-0.028240489489880394,0.10030265605897168,0.0700052241032131,0.11577715060821975,0.11839546946802595,0.01893518521596843,-0.04206388733722671,-0.0021799677218389824,0.03914267382516601,0.02515722697644529,0.1891152892357124,0.018984435705224068,-0.016241919505954522,0.08058167914636177,0.14752904944837011,0.10657346852767519],\"type\":\"histogram\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"histnorm\":\"percent\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"Difference in SRs: 'equal weights' minus 'estimate all inputs'\"},\"range\":[-0.4917811592565824,0.4917811592565824]},\"yaxis\":{\"title\":{\"text\":\"Percent of Simulations\"},\"tickformat\":\".2\"},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('b9161691-f678-4004-9842-ca99adba2583');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nDifferences in Sharpe Ratios of estimated tangency portfolio and equal-weighted portfolio\n:::\n:::\n\n\n### Estimating Standard Deviations and Correlations Only {-}\nOne option is to just give up on using historical data to estimate expected returns and assume the expected returns are the same across all the assets.  Under this assumption, the optimal risky asset is the global minimum variance portfolio.  @fig-input-est-2 shows the Sharpe ratios of following a GMV strategy each year calculated using historical estimates of standard deviations and correlations.  The benchmark along the horizontal axis is again the equal-weighted strategy.  Portfolio optimization fares better if we do not try to estimate expected returns.  The fraction of simulations in which the equal-weighted strategy beats the GMV strategy using the full covariance matrix estimate is again about three-quarters of the simulations.  @fig-input-est-histogram2 plots the histogram of the difference in simulated Sharpe ratios of the equal-weighted portfolio minus that of the GMV strategy.  On average across the simulations, the Sharpe ratio of the EW strategy is 0.048 higher than the Sharpe ratio of the GMV strategy.  Thus, the GMV portfolio performs a bit better relative to an equal-weighted portfolio than trying to estimate the covariance matrix **and** expected returns.  \n\n::: {.cell execution_count=6}\n\n::: {#fig-input-est-2 .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"28a4a011-ea58-42aa-b4b3-8f5f35726892\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"28a4a011-ea58-42aa-b4b3-8f5f35726892\")) {                    Plotly.newPlot(                        \"28a4a011-ea58-42aa-b4b3-8f5f35726892\",                        [{\"hovertemplate\":\"Sharpe Ratios:<br>  equal weights: %{x:0.3}<br>  estimate covariance matrix only: %{y:0.3}<br><extra></extra>\",\"mode\":\"markers\",\"name\":\"A simulated outcome\",\"x\":[0.06264719015422174,0.00890958554935787,0.10861815241772713,0.18627168108343048,0.2535098120270527,0.1603326419984469,0.22012674781023428,0.13523185746615285,0.26885100557843206,0.24861720127850556,0.2154011227015513,0.2605071290795174,0.031698631433454715,0.4586174922844755,0.23104442275741963,0.24707217091988823,-0.0036034000032007453,-0.020976866140521976,0.33500359274115943,0.5351942091825581,0.23224629305475117,0.20483923126370482,-0.09980582943568675,0.4764814922277693,0.36650647467415465,0.3733665008342564,0.39682933447459995,0.11337536135283371,0.19640623757459227,0.3341033183151675,0.47020153363835054,0.4845642380454006,0.013635080433414552,0.29862126492292623,0.11491828527861102,0.3821296341990135,-0.03349869737961392,0.32236021172671603,-0.07238024183510876,0.08591515612965372,0.2599551767239067,0.2596645360238221,0.2177870882984525,0.12221564596951903,0.12081626862533006,0.35654120521006244,0.1884794242850422,-0.11116579074250152,0.410912913529149,0.3142275259734938,0.242584681402889,0.42446411576622456,0.34615383355595797,0.29585349585834686,-0.02161488651800102,0.15004066690572662,0.35278117506092527,0.22897244065738587,0.34619053153235035,0.18643328489058603,0.36282133325444005,0.23239888547122062,0.22203782977262826,-0.13318746683427857,-0.06552385804546619,0.5702449509909858,0.04712793322497604,0.2505934233906442,0.33694802912552724,0.15847040473021137,0.13212195009494335,0.2584463237912735,0.21150433918922668,0.3317100679548687,0.0714290427444476,-0.13897522334797482,0.24306387600186,0.2568463165149435,0.12124914706053518,-0.05252849947523096,0.18942762840737568,0.3969172870639479,0.5348351347741318,0.20869344898285086,0.2481386752761742,0.37671398682187224,0.07052346379946467,0.13204021147381534,0.4827166568274601,0.3988569300841098,0.33925105572056163,0.3536074281571653,-0.08063354161815806,0.21875996905542433,0.34471749561207077,0.30115445366978594,0.19400209326168902,0.2060059341635825,-0.010724105769151476,0.21223925851840672,0.27976123864031976,0.39162223794702017,0.39216249563696226,0.23656982388710282,0.2913365638916379,0.13324065099163857,0.2179490537567586,-0.06339463777832649,0.1874225526046976,0.2584611494745785,-0.08090557536474666,0.39202312304414694,0.3315677896691815,-0.31883696085899077,0.35795466839581525,0.11266360230870719,0.30517821006568135,-0.1150173067748384,0.3396288699965968,0.1389005600797949,-0.02945369467762339,0.10113497899643112,0.5499317634178428,0.33072263357434334,-0.02194820288964294,0.14126110790082197,0.4012902967000951,0.26650265458398437,0.34865576739818754,0.5865652267154128,0.21710871024582262,-0.07808976570271853,0.24343827256326597,0.26390406177851256,0.01775407462578755,0.17967428622944373,0.16844883410145933,0.3717408433921144,0.31094890476775033,-0.12333093194196096,0.26801160287415693,0.09554603791623849,0.26039013930668903,0.1993455313422638,-0.027848297470543685,0.2946337704152135,0.2620936691910382,0.4376811179155378,0.27310071341168607,0.18930797637643218,0.000954061217404939,0.31584935493716626,0.6482739997714979,-0.06452837288324477,0.37823905936706775,0.285499708143729,0.20237431642550477,-0.05368705421541918,0.6724962847274233,0.1596637619911899,0.415242052545655,0.23468895601228398,0.4531892835227003,0.15746090523477557,-0.15862840476971,0.12253606986220951,0.0064327289058707686,0.10424023545352176,0.2296424998121776,0.23308585788273856,0.3309658372406606,0.4116389442341832,0.4409496727770949,0.2483964073325821,0.11484798053895905,0.19091350829791676,-0.0779160445088404,0.2837981335105852,0.18668738955067427,0.2811498327988744,-0.06399904610507645,0.4538141955707891,0.18361140730172748,0.24191128753306212,0.03200636900419576,0.13732080969942076,0.23229900864180747,0.4576800777884571,0.1907883569016209,0.1603497763254346,0.1552074556516379,0.10939940305857432,0.23942162991890525,0.05570079122142348,0.2533139667895532,0.11869219963495276,0.04671366056302931,0.2795083351532565,0.4395338723338146,0.46079902256638905,0.0001274557746398211,0.5376750261420872,0.46502137727770454,-0.15588338172274888,0.1033727765348076,0.2271347078148737,0.3744173386369315,0.12122075846308035,0.14141052460556233,-0.04288798157106175,0.11687730910295821,0.024485289972970788,0.1380233256149856,0.5433629998286,0.40131544360967497,0.45711636760783325,0.21102824504842865,0.3910799302381984,0.08982792603037199,0.2895963265407539,0.13523138248804495,0.18828351550533054,0.23897880229233878,0.44165380376560137,0.07460295910443138,0.44997402402772146,-0.13438422259229663,0.2598662076712364,0.28468372751180615,-0.0244984023768963,0.14283457139086458,0.48242100356321505,0.3719024885184121,0.3563190966707302,0.08117532293748014,0.31498826233988353,0.26730421921998176,0.06658371799885154,0.17612466170886545,0.5337898981479647,-0.04825561175760641,0.29503047933538257,0.0668153186538033,0.165485355762036,0.7275573225215282,0.1360667319771788,0.10905909606176532,0.20590967194317208,-0.009200561360774654,0.3178007001759762,0.10647559228651549,0.07837550754821332,0.20245788628882494,0.09949522711782184,0.3522629879765668,0.45808495620359,0.373088461833578,0.13368223306686736,0.2066748732774996,0.1676372755773693,0.09615720901411305,0.1242368105564571,0.2145487115270474,0.14102888551617274,0.2820774142393305,0.4156997478829079,0.24579132280758537,0.5808878780057466,0.17426543826427662,0.3658377762492359,0.16344599686154232,0.08991521404086572,-0.30725998222024203,-0.003911517754263173,0.3913331193737636,0.002193767281174408,-0.02689139486703406,0.06150069101232454,0.24147101665980011,0.38499151083139516,0.06354625971727544,0.35677770261187025,0.24437463617413552,0.31772455089850565,0.30763136112789286,0.4058673446979285,0.17684333029261393,0.615755212378883,0.48757530841913427,0.06349573614472653,0.1464414067097101,0.34109144141772396,0.3133449945472906,0.2604657504065563,0.07747832112241582,0.06052000216878468,0.6557824909846864,0.17565808994054324,0.13675541885310685,0.4352747364892316,0.017979823553889558,0.22604749501565727,0.378425842216824,0.2712541164086265,0.3846887069631077,0.4133474655552425,0.10728805864552127,0.23266371091945487,0.27962672639507397,0.11877312266995371,0.15720983820152912,0.39071743558952965,0.07416389401572202,0.35611872290023183,0.05216411737150734,0.4167495846683737,0.5656624806903527,0.35948682909537155,0.3783039224835559,0.2564535376625783,0.35238154664686167,0.2207378504276931,0.4561224676110526,0.04905897906210355,0.38795951330306916,0.08439115205126117,0.043119748080047544,0.266197569767784,0.2657060403819367,0.15667434257492024,0.16327926890117134,0.061191086142819325,-0.11946512440827092,-0.07049302735287284,0.5929110744181573,0.4701444405714459,0.11324880465845868,-0.07195544561318526,0.5896542053415847,0.4735947380075659,0.45272367272887515,0.20736989467522823,0.27629418956673923,0.049573409237175715,0.30709038044932957,0.0012617471292279748,-0.23651017185561135,0.017653577969582293,0.09957581276194749,0.24105209035396255,0.15608865409325315,0.4768348140272765,0.05093038720160917,0.18803545985224882,-0.01658007706035945,-0.08733535373168735,0.06469880318412538,0.2320050176218801,0.024097659677819266,-0.1556761398681618,0.2782060047374054,0.37913601215356746,-0.008154576965326106,-0.2959032826453656,0.3290431973506096,0.2736503226520386,0.38034566032943334,0.42866778766417074,0.26957589245404406,0.24929817099437612,0.286861585046598,0.18892788370721272,0.3701146242817865,0.23514672589838195,0.009068222905445084,0.2135784143786038,0.09768392547823859,0.018704310329750354,0.06974360180800208,0.25017767576356126,0.02096949742660583,0.20876195522087237,0.38188804001064275,0.36996373636095375,0.11320859522274665,0.3745472802453403,0.24699447166190622,0.249286524169672,0.16528189986320033,0.22614063665761655,0.04594750045662122,0.23140072139470985,0.3404055279425413,0.08850946320888395,0.45975181438446755,0.33524690391677303,0.7051013484329285,0.5487505120416857,0.22554089107196287,0.42299620507578406,0.22202256912138627,0.22742722699037574,0.00937411778848435,0.3324841774767769,0.2473859324310365,0.2572720332841954,0.2828429038714322,0.1653860820659368,0.33798657366185414,0.2160031186186262,-0.02889085924372901,0.37415253292276773,0.3801212313492503,0.2456497699874667,0.2567591043759095,0.4745692611418224,0.04160091184913322,0.19243227843676625,0.2534670494666191,0.1129311808284377,0.18972937155896322,-0.1964527341081492,0.15491710839622724,0.38866343082185034,0.05180596975392672,0.46035137946119464,-0.07259274493472624,0.20616437500139193,0.5388502790323692,0.1877083915466406,0.4259409391895521,0.11619659005590845,0.2349636338438803,0.25581221854814623,0.1687605791095098,0.3135570416906516,0.11443074495893832,0.3724076943541551,0.3189672306404037,-0.023129184651459224,0.2746507190980861,0.12135071339507338,0.24673877629532726,0.11916073121656229,0.15267663910116763,0.23699679988509326,0.3067557842107747,0.43921394663595964,0.19263815184759986,0.2974644251598551,0.14590118249548137,0.021176926492556303,0.37652902293199697,0.3161835823911429,0.3364223325067015,0.37497215606502365,0.25500207025749266,0.16719474606568385,0.48217923477045294,0.0423786148875597,0.3815128103904911,0.1578265406357743,0.2845550256351552,0.2001645847489084,0.016777285321824747,0.1254597875237791,0.2384877469703204,0.09022823407123838,0.12258904777097493,0.25853193760397597,0.17616959525644188,0.4765481252038097,0.46468783886747794,0.221401366292018,0.1891353019096298,0.30606593156163564,0.24216323858874736,0.10237669808823086,0.003724233096610557,0.28646206559075194,0.35179586232708454,0.3103137641256961,0.23132447875427084,0.3895057945833922,0.3579981933448154,0.2696531705245188,0.0009883217211718916,0.5024268486313566,0.21675823732882754,0.37934908825432534,0.49568125175271466,0.108286062638878,0.4258392893858007,0.3903765633247666,0.26251161060974626,0.44459979023869056,0.06703587926883882,0.4930569371483911,-0.018365104320683712,0.14462684501373987],\"y\":[0.12403387110819035,0.020711803454812067,0.09939204357214787,0.16641022471396202,0.2510275919694208,0.053767653092901976,0.14504484116241256,0.031158513776160537,0.17993656384123252,0.29565517606192004,0.18825578936771425,0.16340254598474585,-0.04074530581232299,0.14655090398271994,0.12012362065783794,0.10817477624434088,0.19345598521501295,-0.00800037420849532,0.3386992128310783,0.3850635669243445,0.10221636134598071,0.1350754784183698,-0.08045413814936409,0.3811824852906989,0.33613647305371835,0.31119821640181894,0.4787247149126658,0.1090424534979846,0.20021472627612313,0.27379725868242394,0.47936699472133054,0.44023172493439033,0.01799828394261057,0.2323556271878399,0.08078185761099548,0.3691975164127004,-0.07259579100971777,0.37605408781308663,-0.07750762051011316,-0.02866151795964866,0.20158264807923,0.2581619986697092,0.22858011442608056,-0.033641724938771496,0.051464520548770855,0.38873472449369456,0.21618273666393992,-0.1287466239845076,0.3789912902086672,0.24471484486536985,0.07520990713704931,0.3090195914647155,0.31000835753768546,0.1741072191103244,-0.05760147419363304,0.1603164302704847,0.44850195432196865,0.10722991970667702,0.3040138654695454,0.17765589173221807,0.26466269401032705,0.06597052157032304,0.2903871705096718,-0.08118415682634825,-0.20132365655982518,0.4958676582976072,0.09517805754951011,0.18538384912503778,0.24684783940700206,0.12991009653723762,0.1079479672113695,0.11453636250214976,0.24104551751111372,0.2882359672538368,0.2018233016454658,-0.1463328725201675,0.17043459633174218,0.22579551364379422,0.029003138025330923,-0.16960070662574886,0.306717471178469,0.32992756474888696,0.47907186964962,0.21225144937354742,0.07237065130614351,0.26704011598922556,0.10067042470656126,0.16376210936096725,0.4127333655077717,0.33356515242996915,0.37568043720972616,0.4457082464408898,-0.11209432573924209,0.20342366021698738,0.3148527326378417,0.30009376790017234,0.20909952577152321,0.06471032137007832,-0.04238647417532968,0.20793708153847448,0.15859249800885272,0.26981145412307495,0.36003708452712463,0.15321029477073955,0.27094898849500154,0.1388824707303165,0.3198113734347867,-0.09259206895555887,0.16025098538497884,0.3496158709098315,-0.09249573743927796,0.34470193134436705,0.3248776788943634,-0.2748500677355388,0.2689320560710663,0.11710588119958137,0.2984860951264295,-0.012594382423756635,0.25005633827775847,-0.003915870821606782,-0.03984202721082815,0.020259432792716425,0.45553272873148554,0.26741128538178205,0.006556141661162618,0.09341896378690016,0.33308855691759764,0.22936833476348023,0.43579717491890446,0.3351335599598254,0.21810390744997707,-0.2329521371278213,0.21630860629628468,0.4409409951586232,0.07997378436241277,0.1171376020766383,0.2980598059937091,0.36697476319903727,0.29712300200215297,-0.09089555439383547,0.30321699811067326,-0.002821200614747092,0.27616169299141224,0.20573553347710954,-0.0420856263690686,0.2259406343662073,0.2218987047895805,0.33585779868369275,0.32306197683715254,0.17646937251120318,-0.016134365926381056,0.24884881876047757,0.5161156696693292,-0.09999460765655947,0.32618893788850944,0.16855853999367448,0.20228029341969547,0.022000647154591237,0.5967916241937289,0.17899404956554313,0.38410521264263103,0.20716722438410753,0.5556488609782455,0.13120609572384387,-0.05782342222825572,0.03402670959185133,0.004065333754493824,0.062355223286825905,0.2572717534400704,0.25039721500743845,0.3513631817497955,0.3340994275154002,0.49466046879624687,0.21439235610574067,0.032515953294789894,0.0650014747620141,-0.09722506719738398,0.231184116972667,0.2051423382447248,0.2175834974387868,0.036041399877817404,0.22813233502269223,0.18539440980191463,0.1415106847017323,-0.02150154270769506,0.1744193153568473,0.11229264876102746,0.3166892773237805,0.20073202684483862,0.13775354513279103,0.17554132922254512,0.09970028417148166,0.16839380496774903,0.05611366650837925,0.33462267799766915,-0.015550789118269626,0.04900887026820202,0.3664434054756639,0.34346570176571845,0.4323105980632529,0.10988926794333333,0.33951262578007496,0.32161716073786567,-0.11539383955550417,0.11414412528116158,0.33772884987490165,0.3248513320904731,0.11379091872165975,0.11433359974476787,-0.051553862601145424,0.12163897914618925,0.06151513971591084,0.09924007127570622,0.4393273357738664,0.3287346866764785,0.2696450798691762,0.14504651038132868,0.4060114803501847,0.091990116083662,0.22923643285232612,0.20312031605213574,0.17061412125356992,0.2328634318288701,0.44775663697193496,0.2543216894216127,0.25574907076791265,-0.2516109852097828,0.2928186646161868,0.30627898550787197,0.07266419834875233,0.09217887168651004,0.18719099209211293,0.24042949380029727,0.05449750415141648,-0.03442920713665199,0.2093619254962994,0.1735650381669398,0.008194881959929257,0.15563450569064957,0.552725980383714,-0.06721677164855631,0.16763605261165157,-0.13683918575363954,0.13711571055238486,0.6473986342370626,0.06722539633516898,0.07126115714507439,0.09073609997392657,-0.1505905179817596,0.3329276004048879,0.040318298571597196,0.18324295586286138,0.3266001855617888,0.047531631627492396,0.2829729623984339,0.48292860749279404,0.13946830110657144,0.13977426596444342,0.063716452920818,0.13515403923469296,0.1038226704315411,0.06338442871884323,0.09571135978955145,0.2069983701115523,0.23008304811964375,0.40610227290125,0.2758156039943731,0.5170833050541902,0.014581128281240694,0.3282014174968309,0.16580955005735756,0.03593039900627807,-0.2755777655329587,-0.054514395430926135,0.2211999823194141,-0.055106168864485335,-0.014806215929429066,0.03240723123819932,0.1889398124043725,0.3527843548855545,0.10284679601257059,0.2551456091796956,0.14835469241353103,0.2922146515552553,0.25490585303058255,0.28238316084794507,0.07443389461870678,0.5987251571522603,0.402822541644592,0.03469225339608026,0.04275351092581581,0.22337812980156865,0.27124950327077724,0.24816487759902287,0.035472488180576155,-0.05726836365029633,0.4901637894475703,0.12245616720541405,-0.0030890478880944644,0.4238697944062613,-0.13496236510294626,0.1212359090817983,0.18092007640947005,0.20093616544068638,0.32232168789873933,0.40607568871539074,-0.12383100129352242,0.12107667120437184,0.16571918699416943,0.05502310415351639,0.12423966868106244,0.289700918353318,0.15568212906631518,0.24173873457891362,0.11935646685809802,0.32421039673538277,0.41503921743439326,0.20490906358945948,0.3208971563526333,0.3400100578283493,0.28080480221469867,0.23774876109044302,0.4785878760215361,0.04427382389308134,0.350162303753075,0.31875448379938065,0.04702065805203006,0.3038963049497002,0.2365965242674526,0.1435191904391009,0.09116913216163104,0.057779441508559744,0.05558125698517623,0.05506088284781254,0.5069224997332866,0.3674628941622787,0.10105953308906847,-0.04685213092746316,0.5886515718876613,0.3233316924649155,0.4006546666632469,0.09510139334269131,0.3142737723465689,-0.0044076419148771475,0.16275540337409625,-0.057729341185689995,-0.21291962000198253,0.059101737467025066,0.10116433729183244,0.029788146394488478,0.11684986220786793,0.5134932117067786,-0.047372011515368455,0.22313313960903441,-0.0456861103155896,-0.02892723415043114,0.013838551938959474,0.11802071691018236,0.037236601294488435,-0.2229393019418634,0.33075956710818594,0.2657774462541802,-0.12178550289127478,-0.3626923602781928,0.29734267158741207,0.26804731213889416,0.29991969140024416,0.39133289377836294,0.2942691843133301,0.17387790275924317,0.04499502557198435,0.14809102059589951,0.3791882979910435,0.03414387594344477,-0.023395551336739158,0.18141132851895428,-0.16846042223452115,0.07635681983500113,-0.01546129843876309,0.060240821058307956,0.09510046043298646,0.14729680194436634,0.3293462492603317,0.31557465403410756,0.03552048582440833,0.27261010007834857,0.2371309309275151,0.021808040608716658,0.2177357140283294,0.2834413879591246,-0.04452321183867887,0.1883214474746793,0.309985748763023,0.013520491202033226,0.40525615524873493,0.2406467647703115,0.7227074299654519,0.5722380260895237,0.22518806659032548,0.28747545622157644,0.11940351974883827,0.1938882715076335,0.028960893107112886,0.21923622031585063,0.32358387820143514,0.25683744587473334,0.21246570121946848,0.14319375679669682,0.24014808218992367,0.17645975652422152,-0.014467572847019005,0.4258465052933801,0.331857140906795,0.2439565002141617,0.11293383408470005,0.4695304152185392,0.16234205610085364,0.26567872608277926,0.10144405496965615,-0.044754614757899186,0.17563117460023084,-0.22295928505510762,0.0388921145832525,0.3347058882686461,0.20192171073003753,0.44139432189187655,-0.12569593191337916,0.22260330701539646,0.49950308813320027,0.3843197847837173,0.4378416396787084,0.15947861702780788,0.30854251240203456,0.26001133979815144,0.1930472462056403,0.2346351216774725,0.07035678880465233,0.1524019223883501,0.28576705775788797,-0.019320979010114595,0.20098434465267898,0.1441691107270869,0.16178918617794416,-0.00597977687109233,0.16348161993605945,0.10271661073366628,0.16403416709559993,0.3836816268028234,0.1457032619905684,0.20818570169221873,0.25120985495404174,0.0045019816005501334,0.2973210972718665,0.20537417470021513,0.2278740161529562,0.3223877061368446,0.2566283206165953,0.19657541238619974,0.36346244217448126,-0.12990548245015676,0.3330460863838995,0.13882419679399247,0.2614326973047564,0.225731739218656,-0.012202635319378999,0.03347316291019766,0.12781345824298398,0.021706692888553102,0.03444140515046681,0.07961715990499998,0.14843121682976101,0.33703809345301816,0.3297156265679868,0.22171025577215506,0.15033851526115496,0.17886126180801964,0.1951981318325753,0.016479616113823127,0.15979668808386566,0.3182487004768765,0.36692526544773296,0.3571585057007623,0.19444409407388122,0.3447404479136403,0.3336133480491884,0.1554320188897052,0.06741858005214814,0.46213775649696204,0.165149189117533,0.2469789049218924,0.5713949790828632,0.16764925876982503,0.33357967182982307,0.3098343722318595,0.10154835176334784,0.4418926616981078,-0.02355725253028061,0.35656607271670965,0.07075572972582266,0.11698314387878354],\"type\":\"scatter\"},{\"hovertemplate\":\"Below this line: (70% of simulations)<br>   `equal weights` outperformed `estimate covariance matrix only` <br>Above this line: (30% of simulations)<br>   `estimate covariance matrix only` outperformed `equal weights`<br><extra></extra>\",\"mode\":\"lines\",\"name\":\"45-degree line\",\"x\":[0.0,0.00827914409522866,0.01655828819045732,0.02483743228568598,0.03311657638091464,0.0413957204761433,0.04967486457137196,0.05795400866660062,0.06623315276182928,0.07451229685705794,0.0827914409522866,0.09107058504751527,0.09934972914274393,0.10762887323797259,0.11590801733320125,0.1241871614284299,0.13246630552365857,0.14074544961888724,0.1490245937141159,0.15730373780934453,0.1655828819045732,0.17386202599980188,0.18214117009503053,0.19042031419025918,0.19869945828548785,0.20697860238071653,0.21525774647594517,0.22353689057117382,0.2318160346664025,0.24009517876163117,0.2483743228568598,0.25665346695208846,0.26493261104731713,0.2732117551425458,0.2814908992377745,0.2897700433330031,0.2980491874282318,0.30632833152346045,0.31460747561868907,0.32288661971391774,0.3311657638091464,0.3394449079043751,0.34772405199960377,0.3560031960948324,0.36428234019006106,0.37256148428528973,0.38084062838051835,0.38911977247574703,0.3973989165709757,0.4056780606662044,0.41395720476143305,0.42223634885666167,0.43051549295189034,0.438794637047119,0.44707378114234764,0.4553529252375763,0.463632069332805,0.47191121342803366,0.48019035752326233,0.48846950161849095,0.4967486457137196,0.5050277898089482,0.5133069339041769,0.5215860779994056,0.5298652220946343,0.5381443661898629,0.5464235102850916,0.5547026543803203,0.562981798475549,0.5712609425707775,0.5795400866660062,0.5878192307612349,0.5960983748564636,0.6043775189516922,0.6126566630469209,0.6209358071421496,0.6292149512373781,0.6374940953326068,0.6457732394278355,0.6540523835230642,0.6623315276182928,0.6706106717135215,0.6788898158087502,0.6871689599039789,0.6954481039992075,0.7037272480944361,0.7120063921896648,0.7202855362848934,0.7285646803801221,0.7368438244753508,0.7451229685705795,0.7534021126658081,0.7616812567610367,0.7699604008562654,0.7782395449514941,0.7865186890467227,0.7947978331419514,0.8030769772371801,0.8113561213324088,0.8196352654276373],\"y\":[0.0,0.00827914409522866,0.01655828819045732,0.02483743228568598,0.03311657638091464,0.0413957204761433,0.04967486457137196,0.05795400866660062,0.06623315276182928,0.07451229685705794,0.0827914409522866,0.09107058504751527,0.09934972914274393,0.10762887323797259,0.11590801733320125,0.1241871614284299,0.13246630552365857,0.14074544961888724,0.1490245937141159,0.15730373780934453,0.1655828819045732,0.17386202599980188,0.18214117009503053,0.19042031419025918,0.19869945828548785,0.20697860238071653,0.21525774647594517,0.22353689057117382,0.2318160346664025,0.24009517876163117,0.2483743228568598,0.25665346695208846,0.26493261104731713,0.2732117551425458,0.2814908992377745,0.2897700433330031,0.2980491874282318,0.30632833152346045,0.31460747561868907,0.32288661971391774,0.3311657638091464,0.3394449079043751,0.34772405199960377,0.3560031960948324,0.36428234019006106,0.37256148428528973,0.38084062838051835,0.38911977247574703,0.3973989165709757,0.4056780606662044,0.41395720476143305,0.42223634885666167,0.43051549295189034,0.438794637047119,0.44707378114234764,0.4553529252375763,0.463632069332805,0.47191121342803366,0.48019035752326233,0.48846950161849095,0.4967486457137196,0.5050277898089482,0.5133069339041769,0.5215860779994056,0.5298652220946343,0.5381443661898629,0.5464235102850916,0.5547026543803203,0.562981798475549,0.5712609425707775,0.5795400866660062,0.5878192307612349,0.5960983748564636,0.6043775189516922,0.6126566630469209,0.6209358071421496,0.6292149512373781,0.6374940953326068,0.6457732394278355,0.6540523835230642,0.6623315276182928,0.6706106717135215,0.6788898158087502,0.6871689599039789,0.6954481039992075,0.7037272480944361,0.7120063921896648,0.7202855362848934,0.7285646803801221,0.7368438244753508,0.7451229685705795,0.7534021126658081,0.7616812567610367,0.7699604008562654,0.7782395449514941,0.7865186890467227,0.7947978331419514,0.8030769772371801,0.8113561213324088,0.8196352654276373],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"SR: equal weights\"},\"tickformat\":\".2\",\"range\":[0,0.8606170286990192]},\"yaxis\":{\"title\":{\"text\":\"SR: estimate covariance matrix only\"},\"tickformat\":\".2\",\"range\":[0,0.8606170286990192]},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('28a4a011-ea58-42aa-b4b3-8f5f35726892');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSimulated performance of estimated GMV portfolio versus equal-weighted portfolio\n:::\n:::\n\n\n::: {.cell execution_count=7}\n\n::: {#fig-input-est-histogram2 .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"e0e83b5d-7bba-4502-a603-6ded6f85b106\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"e0e83b5d-7bba-4502-a603-6ded6f85b106\")) {                    Plotly.newPlot(                        \"e0e83b5d-7bba-4502-a603-6ded6f85b106\",                        [{\"hovertemplate\":\"This bin contains %{y:0.3}% of simulations <br>Average difference in SRs across all simulations: 0.040 <br>'equal weights' outperforms 'estimate covariance matrix only' in 70% of all simulations<br><extra></extra>\",\"x\":[-0.06138668095396861,-0.011802217905454198,0.009226108845579256,0.019861456369468455,0.0024822200576318787,0.10656498890554493,0.07508190664782172,0.10407334368999231,0.08891444173719953,-0.04703797478341448,0.027145333333837035,0.09710458309477155,0.0724439372457777,0.3120665883017556,0.11092080209958169,0.13889739467554735,-0.1970593852182137,-0.012976491932026657,-0.0036956200899188607,0.1501306422582136,0.13002993170877047,0.06976375284533501,-0.019351691286322664,0.09529900693707039,0.030370001620436293,0.06216828443243744,-0.08189538043806588,0.004332907854849119,-0.00380848870153086,0.06030605963274355,-0.009165461082979998,0.044332513111010274,-0.004363203509196018,0.06626563773508634,0.03413642766761554,0.012932117786313146,0.03909709363010386,-0.05369387608637061,0.0051273786750044015,0.11457667408930239,0.058372528644676736,0.0015025373541129317,-0.010793026127628058,0.15585737090829052,0.0693517480765592,-0.03219351928363212,-0.027703312378897726,0.017580833242006072,0.03192162332048182,0.06951268110812395,0.1673747742658397,0.11544452430150903,0.036145476018272504,0.12174627674802246,0.03598658767563202,-0.010275763364758078,-0.09572077926104339,0.12174252095070885,0.04217666606280496,0.008777393158367952,0.098158639244113,0.16642836390089757,-0.06834934073704352,-0.05200331000793032,0.13579979851435897,0.07437729269337862,-0.04805012432453407,0.06520957426560645,0.09010018971852518,0.028560308192973755,0.02417398288357385,0.14390996128912376,-0.029541178321887046,0.04347410070103186,-0.1303942589010182,0.007357649172192671,0.07262927967011781,0.03105080287114928,0.09224600903520425,0.1170722071505179,-0.1172898427710933,0.06698972231506095,0.055763265124511796,-0.003558000390696564,0.1757680239700307,0.10967387083264668,-0.030146960907096593,-0.031721897887151906,0.06998329131968845,0.06529177765414063,-0.036429381489164525,-0.09210081828372452,0.03146078412108404,0.015336308838436952,0.029864762974229075,0.0010606857696136007,-0.015097432509834197,0.1412956127935042,0.031662368406178205,0.004302176979932237,0.12116874063146704,0.12181078382394522,0.03212541110983763,0.08335952911636327,0.02038757539663638,-0.0056418197386779445,-0.10186231967802811,0.029197431177232377,0.02717156721971875,-0.091154721435253,0.011590162074531299,0.047321191699779885,0.00669011077481807,-0.04398689312345194,0.08902261232474895,-0.004442278890874188,0.00669211493925187,-0.10242292435108177,0.08957253171883833,0.14281643090140167,0.010388332533204758,0.08087554620371469,0.09439903468635724,0.06331134819256129,-0.02850434455080556,0.047842144113921806,0.06820173978249744,0.037134319820504136,-0.08714140752071692,0.25143166675558737,-0.0009951972041544466,0.15486237142510278,0.027129666266981295,-0.17703693338011062,-0.062219709736625224,0.06253668415280543,-0.1296109718922498,0.004766080193077116,0.013825902765597364,-0.03243537754812549,-0.035205395236516335,0.09836723853098558,-0.015771553684723216,-0.006390002134845751,0.014237328898524918,0.0686931360490062,0.04019496440145773,0.10182331923184507,-0.04996126342546647,0.012838603865229004,0.017088427143785997,0.06700053617668869,0.1321583301021687,0.0354662347733147,0.05205012147855831,0.11694116815005451,9.402300580929612e-05,-0.07568770137001042,0.0757046605336944,-0.019330287574353233,0.03113683990302396,0.02752173162817645,-0.10245957745554518,0.026254809510931704,-0.10080498254145427,0.08850936027035819,0.0023673951513769444,0.04188501216669586,-0.027629253627892814,-0.01731135712469989,-0.020397344509134885,0.07753951671878295,-0.05371079601915196,0.034004051226841414,0.08233202724416916,0.12591203353590266,0.01930902268854358,0.052614016537918196,-0.018454948694050538,0.0635663353600876,-0.10004044598289386,0.22568186054809689,-0.0017830025001871475,0.10040060283132982,0.05350791171189082,-0.037098505657426534,0.12000635988078001,0.1409908004646766,-0.009943669943217714,0.022596231192643562,-0.020333873570907213,0.009699118887092656,0.07102782495115623,-0.00041287528695576475,-0.08130871120811595,0.13424298875322238,-0.0022952097051727113,-0.08693507032240738,0.09606817056809613,0.028488424503136156,-0.1097618121686935,0.19816240036201221,0.14340421653983887,-0.04048954216724471,-0.010771348746353979,-0.11059414206002796,0.049566006546458374,0.007429839741420599,0.027076924860794466,0.008665881030083672,-0.004761670043231039,-0.03702984974294005,0.03878325433927937,0.10403566405473363,0.07258075693319649,0.18747128773865707,0.06598173466709997,-0.01493155011198627,-0.0021621900532900196,0.060359893688427785,-0.06788893356409079,0.017669394251760617,0.006115370463468689,-0.006102833206333591,-0.17971873031718133,0.19422495325980882,0.11722676261748619,-0.03295245694495036,-0.02159525799606582,-0.09716260072564864,0.050655699704354545,0.2952300114711021,0.13147299471811486,0.30182159251931373,0.11560453007413213,0.10562633684358413,0.09373918105304196,0.05838883603892229,0.020490156018215883,-0.018936082235749274,0.018961159890949902,0.127394426723731,0.20365450440744284,0.02836964520965113,0.0801586882844656,0.06884133564200982,0.037797938916690935,0.11517357196924552,0.14138995662098494,-0.015126900228911666,0.0661572937149183,-0.10486744831464806,-0.12414229927296389,0.051963595490329445,0.06929002557813291,-0.024843651289204016,0.2336201607270066,-0.006092032897576066,0.1429584203566816,0.03248323634267633,-0.007665461417428049,0.06085238183761388,0.11883735173749596,-0.06596948459537957,0.051994366119686775,0.009597474981657916,-0.030024281186787738,0.0638045729515564,0.15968430998303593,0.03763635875240501,-0.0023635531958152434,0.05398481503458765,-0.03168221668728333,0.05060287767666296,0.1701331370543495,0.057299936145659744,-0.012085178937604996,0.029093459774125217,0.05253120425542762,0.03220715594584067,-0.039300536295295146,0.10163209343217466,0.09601994376060449,0.025509899343250375,0.0527255080973103,0.12348418384998344,0.10240943567390715,0.01703005522662271,0.08475276677454224,0.028803482748646275,0.10368789578389428,0.11771331161615531,0.04209549127651335,0.01230087280753342,0.04200583294183966,0.117788365819081,0.16561870153711616,0.05320192273512919,0.13984446674120132,0.01140494208297027,0.15294218865683581,0.10481158593385898,0.19750576580735396,0.07031795096794013,0.06236701906436837,0.007271776839851751,0.2311190599390437,0.11158703971508303,0.11390753940090453,0.06375001851643733,0.03297016952046668,0.10101651723621163,-0.08151823505059316,0.11437998832131821,-0.06719234948659067,0.09253918793299093,0.15062326325595948,0.15457776550591207,0.057406766130922604,-0.08355652016577103,0.071576744432163,-0.01701091066274993,-0.0224654084104835,0.004785155169022205,0.03779720954999416,-0.23436333174811946,-0.0039009099719825163,-0.03769873518191619,0.02910951611448409,0.013155152135819331,0.0721101367395403,0.0034116446342595808,-0.17504638139344714,-0.12555391020068538,0.08598857468487064,0.10268154640916721,0.012189271569390217,-0.0251033146857221,0.001002633453923485,0.1502630455426504,0.052069006065628254,0.11226850133253692,-0.03797958277982966,0.053981051152052865,0.14433497707523332,0.05899108831491797,-0.02359055185362882,-0.04144815949744277,-0.0015885245298849493,0.21126394395947407,0.03923879188538522,-0.03665839767950213,0.09830239871697763,-0.0350976797567856,0.02910603325523015,-0.05840811958125622,0.05086025124516591,0.11398430071169775,-0.013138941616669168,0.06726316207370159,-0.052553562370780516,0.11335856589938725,0.11363092592594867,0.06678907763282721,0.03170052576319754,0.005603010513144435,0.08042596892918918,0.037334893885807796,-0.024693291859286037,0.07542026823513295,0.24186655947461363,0.04083686311131321,-0.00907367370925699,0.20100284995493717,0.032463774242184246,0.03216708585964953,0.26614434771275974,-0.057652509505250776,0.08520490024676518,0.1899368547052533,-0.07413096300638064,0.061465153276506035,0.05254179075031107,0.054389082326846194,0.07768810939833831,0.10193718016699171,0.009863540734391107,0.22747848356095535,-0.052453814165129065,-0.05730075130150805,0.0904707122953001,0.04307927392003055,0.030419779179518325,0.07498897200685073,0.05449565913573262,0.09460013914646154,-0.01760608153252341,-0.023487514047838,0.0003528244816373982,0.13552074885420762,0.102619049372548,0.033538955482742244,-0.019586775318628534,0.11324795716092625,-0.07619794577039865,0.00043458740946206165,0.0703772026519637,0.022192325269239976,0.09783849147193047,0.03954336209440468,-0.014423286396710006,-0.05169397237061235,0.048264090442455276,0.0016932697733050006,0.14382527029120945,0.005038845923283186,-0.12074114425172042,-0.07324644764601301,0.15202299449696294,0.15768579558633689,0.014098196958732379,0.026506550946958418,0.11602499381297474,0.05395754255320423,-0.1501157409761108,0.018957057569318092,0.05310318697865292,-0.016438932014004537,0.03934719089916888,-0.19661139323707671,-0.011900700489156313,-0.04328202697189944,-0.07357887855815426,-0.004199121250005211,-0.024286667096130476,0.07892192001317908,0.044073956154285984,0.220005771965805,0.033200172882515755,-0.0038082056413446287,0.0736663744454071,-0.022818397332013532,0.0849495901173831,0.12514050808765462,-0.010804980834891814,0.13428018915142698,0.14272161711517478,0.05553231983313622,0.04693488985703145,0.08927872346763638,-0.10530867245856038,0.01667494489200617,0.07920792566013046,0.11080940769092779,0.10854831635374532,0.05258444992817907,-0.0016262503591026323,-0.02938066632051589,0.11871679259597168,0.17228409733771646,0.04846672400659163,0.019002343841781844,0.023122328330398845,-0.02556715446974761,0.028979920641203746,0.09198662461358142,0.11067428872733642,0.06852154118268527,0.08814764262050812,0.17891477769897599,0.027738378426680865,0.13951003175079152,0.13497221229949113,-0.00030888948013704787,0.03879678664847483,0.127204669753616,0.04696510675617205,0.08589708197440774,-0.1560724549872551,-0.03178663488612454,-0.015129403120648421,-0.046844741575066184,0.03688038468038962,0.044765346669751904,0.02438484529562701,0.11422115163481361,-0.06643025833097625,0.04028909213439452,0.05160904821129453,0.13237018333243294,-0.07571372733014853,-0.05936319613094704,0.09225961755597761,0.08054219109290711,0.16096325884639842,0.0027071285405827483,0.09059313179911943,0.13649086443168146,-0.08912083404650636,0.02764370113495633],\"type\":\"histogram\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"histnorm\":\"percent\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"Difference in SRs: 'equal weights' minus 'estimate covariance matrix only'\"},\"range\":[-0.4917811592565824,0.4917811592565824]},\"yaxis\":{\"title\":{\"text\":\"Percent of Simulations\"},\"tickformat\":\".2\"},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('e0e83b5d-7bba-4502-a603-6ded6f85b106');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nDifferences in Sharpe Ratios of estimated GMV portfolio and equal-weighted portfolio\n:::\n:::\n\n\n### Estimating Standard Deviations Only {-}\n\nThe advantage of the equal-weighted strategy falls further if we also give up on trying to estimate correlations.  @fig-input-est-3 shows the Sharpe ratios of following a GMV strategy using a covariance matrix with historical estimates of variances but covariances set equal to zero.  This strategy is known as risk parity.  The equal-weighted strategy outperforms this strategy in almost two-thirds of the simulations, but the average difference in Sharpe ratios is economically small.  On average across the simulations, the Sharpe ratio of the EW strategy is only 0.003 higher than the Sharpe ratio of the risk parity strategy.  @fig-input-est-histogram3 plots the histogram of the difference in simulated Sharpe ratios of the equal-weighted portfolio minus that of the risk parity strategy.  Note that there is much less variation in the differences in these strategies than in the GMV or tangency portfolio cases above.  \n\n::: {.cell execution_count=8}\n\n::: {#fig-input-est-3 .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"49f28fd6-8645-46a7-9d13-c3d382dd35a5\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"49f28fd6-8645-46a7-9d13-c3d382dd35a5\")) {                    Plotly.newPlot(                        \"49f28fd6-8645-46a7-9d13-c3d382dd35a5\",                        [{\"hovertemplate\":\"Sharpe Ratios:<br>  equal weights: %{x:0.3}<br>  estimate standard deviations only: %{y:0.3}<br><extra></extra>\",\"mode\":\"markers\",\"name\":\"A simulated outcome\",\"x\":[0.06264719015422174,0.00890958554935787,0.10861815241772713,0.18627168108343048,0.2535098120270527,0.1603326419984469,0.22012674781023428,0.13523185746615285,0.26885100557843206,0.24861720127850556,0.2154011227015513,0.2605071290795174,0.031698631433454715,0.4586174922844755,0.23104442275741963,0.24707217091988823,-0.0036034000032007453,-0.020976866140521976,0.33500359274115943,0.5351942091825581,0.23224629305475117,0.20483923126370482,-0.09980582943568675,0.4764814922277693,0.36650647467415465,0.3733665008342564,0.39682933447459995,0.11337536135283371,0.19640623757459227,0.3341033183151675,0.47020153363835054,0.4845642380454006,0.013635080433414552,0.29862126492292623,0.11491828527861102,0.3821296341990135,-0.03349869737961392,0.32236021172671603,-0.07238024183510876,0.08591515612965372,0.2599551767239067,0.2596645360238221,0.2177870882984525,0.12221564596951903,0.12081626862533006,0.35654120521006244,0.1884794242850422,-0.11116579074250152,0.410912913529149,0.3142275259734938,0.242584681402889,0.42446411576622456,0.34615383355595797,0.29585349585834686,-0.02161488651800102,0.15004066690572662,0.35278117506092527,0.22897244065738587,0.34619053153235035,0.18643328489058603,0.36282133325444005,0.23239888547122062,0.22203782977262826,-0.13318746683427857,-0.06552385804546619,0.5702449509909858,0.04712793322497604,0.2505934233906442,0.33694802912552724,0.15847040473021137,0.13212195009494335,0.2584463237912735,0.21150433918922668,0.3317100679548687,0.0714290427444476,-0.13897522334797482,0.24306387600186,0.2568463165149435,0.12124914706053518,-0.05252849947523096,0.18942762840737568,0.3969172870639479,0.5348351347741318,0.20869344898285086,0.2481386752761742,0.37671398682187224,0.07052346379946467,0.13204021147381534,0.4827166568274601,0.3988569300841098,0.33925105572056163,0.3536074281571653,-0.08063354161815806,0.21875996905542433,0.34471749561207077,0.30115445366978594,0.19400209326168902,0.2060059341635825,-0.010724105769151476,0.21223925851840672,0.27976123864031976,0.39162223794702017,0.39216249563696226,0.23656982388710282,0.2913365638916379,0.13324065099163857,0.2179490537567586,-0.06339463777832649,0.1874225526046976,0.2584611494745785,-0.08090557536474666,0.39202312304414694,0.3315677896691815,-0.31883696085899077,0.35795466839581525,0.11266360230870719,0.30517821006568135,-0.1150173067748384,0.3396288699965968,0.1389005600797949,-0.02945369467762339,0.10113497899643112,0.5499317634178428,0.33072263357434334,-0.02194820288964294,0.14126110790082197,0.4012902967000951,0.26650265458398437,0.34865576739818754,0.5865652267154128,0.21710871024582262,-0.07808976570271853,0.24343827256326597,0.26390406177851256,0.01775407462578755,0.17967428622944373,0.16844883410145933,0.3717408433921144,0.31094890476775033,-0.12333093194196096,0.26801160287415693,0.09554603791623849,0.26039013930668903,0.1993455313422638,-0.027848297470543685,0.2946337704152135,0.2620936691910382,0.4376811179155378,0.27310071341168607,0.18930797637643218,0.000954061217404939,0.31584935493716626,0.6482739997714979,-0.06452837288324477,0.37823905936706775,0.285499708143729,0.20237431642550477,-0.05368705421541918,0.6724962847274233,0.1596637619911899,0.415242052545655,0.23468895601228398,0.4531892835227003,0.15746090523477557,-0.15862840476971,0.12253606986220951,0.0064327289058707686,0.10424023545352176,0.2296424998121776,0.23308585788273856,0.3309658372406606,0.4116389442341832,0.4409496727770949,0.2483964073325821,0.11484798053895905,0.19091350829791676,-0.0779160445088404,0.2837981335105852,0.18668738955067427,0.2811498327988744,-0.06399904610507645,0.4538141955707891,0.18361140730172748,0.24191128753306212,0.03200636900419576,0.13732080969942076,0.23229900864180747,0.4576800777884571,0.1907883569016209,0.1603497763254346,0.1552074556516379,0.10939940305857432,0.23942162991890525,0.05570079122142348,0.2533139667895532,0.11869219963495276,0.04671366056302931,0.2795083351532565,0.4395338723338146,0.46079902256638905,0.0001274557746398211,0.5376750261420872,0.46502137727770454,-0.15588338172274888,0.1033727765348076,0.2271347078148737,0.3744173386369315,0.12122075846308035,0.14141052460556233,-0.04288798157106175,0.11687730910295821,0.024485289972970788,0.1380233256149856,0.5433629998286,0.40131544360967497,0.45711636760783325,0.21102824504842865,0.3910799302381984,0.08982792603037199,0.2895963265407539,0.13523138248804495,0.18828351550533054,0.23897880229233878,0.44165380376560137,0.07460295910443138,0.44997402402772146,-0.13438422259229663,0.2598662076712364,0.28468372751180615,-0.0244984023768963,0.14283457139086458,0.48242100356321505,0.3719024885184121,0.3563190966707302,0.08117532293748014,0.31498826233988353,0.26730421921998176,0.06658371799885154,0.17612466170886545,0.5337898981479647,-0.04825561175760641,0.29503047933538257,0.0668153186538033,0.165485355762036,0.7275573225215282,0.1360667319771788,0.10905909606176532,0.20590967194317208,-0.009200561360774654,0.3178007001759762,0.10647559228651549,0.07837550754821332,0.20245788628882494,0.09949522711782184,0.3522629879765668,0.45808495620359,0.373088461833578,0.13368223306686736,0.2066748732774996,0.1676372755773693,0.09615720901411305,0.1242368105564571,0.2145487115270474,0.14102888551617274,0.2820774142393305,0.4156997478829079,0.24579132280758537,0.5808878780057466,0.17426543826427662,0.3658377762492359,0.16344599686154232,0.08991521404086572,-0.30725998222024203,-0.003911517754263173,0.3913331193737636,0.002193767281174408,-0.02689139486703406,0.06150069101232454,0.24147101665980011,0.38499151083139516,0.06354625971727544,0.35677770261187025,0.24437463617413552,0.31772455089850565,0.30763136112789286,0.4058673446979285,0.17684333029261393,0.615755212378883,0.48757530841913427,0.06349573614472653,0.1464414067097101,0.34109144141772396,0.3133449945472906,0.2604657504065563,0.07747832112241582,0.06052000216878468,0.6557824909846864,0.17565808994054324,0.13675541885310685,0.4352747364892316,0.017979823553889558,0.22604749501565727,0.378425842216824,0.2712541164086265,0.3846887069631077,0.4133474655552425,0.10728805864552127,0.23266371091945487,0.27962672639507397,0.11877312266995371,0.15720983820152912,0.39071743558952965,0.07416389401572202,0.35611872290023183,0.05216411737150734,0.4167495846683737,0.5656624806903527,0.35948682909537155,0.3783039224835559,0.2564535376625783,0.35238154664686167,0.2207378504276931,0.4561224676110526,0.04905897906210355,0.38795951330306916,0.08439115205126117,0.043119748080047544,0.266197569767784,0.2657060403819367,0.15667434257492024,0.16327926890117134,0.061191086142819325,-0.11946512440827092,-0.07049302735287284,0.5929110744181573,0.4701444405714459,0.11324880465845868,-0.07195544561318526,0.5896542053415847,0.4735947380075659,0.45272367272887515,0.20736989467522823,0.27629418956673923,0.049573409237175715,0.30709038044932957,0.0012617471292279748,-0.23651017185561135,0.017653577969582293,0.09957581276194749,0.24105209035396255,0.15608865409325315,0.4768348140272765,0.05093038720160917,0.18803545985224882,-0.01658007706035945,-0.08733535373168735,0.06469880318412538,0.2320050176218801,0.024097659677819266,-0.1556761398681618,0.2782060047374054,0.37913601215356746,-0.008154576965326106,-0.2959032826453656,0.3290431973506096,0.2736503226520386,0.38034566032943334,0.42866778766417074,0.26957589245404406,0.24929817099437612,0.286861585046598,0.18892788370721272,0.3701146242817865,0.23514672589838195,0.009068222905445084,0.2135784143786038,0.09768392547823859,0.018704310329750354,0.06974360180800208,0.25017767576356126,0.02096949742660583,0.20876195522087237,0.38188804001064275,0.36996373636095375,0.11320859522274665,0.3745472802453403,0.24699447166190622,0.249286524169672,0.16528189986320033,0.22614063665761655,0.04594750045662122,0.23140072139470985,0.3404055279425413,0.08850946320888395,0.45975181438446755,0.33524690391677303,0.7051013484329285,0.5487505120416857,0.22554089107196287,0.42299620507578406,0.22202256912138627,0.22742722699037574,0.00937411778848435,0.3324841774767769,0.2473859324310365,0.2572720332841954,0.2828429038714322,0.1653860820659368,0.33798657366185414,0.2160031186186262,-0.02889085924372901,0.37415253292276773,0.3801212313492503,0.2456497699874667,0.2567591043759095,0.4745692611418224,0.04160091184913322,0.19243227843676625,0.2534670494666191,0.1129311808284377,0.18972937155896322,-0.1964527341081492,0.15491710839622724,0.38866343082185034,0.05180596975392672,0.46035137946119464,-0.07259274493472624,0.20616437500139193,0.5388502790323692,0.1877083915466406,0.4259409391895521,0.11619659005590845,0.2349636338438803,0.25581221854814623,0.1687605791095098,0.3135570416906516,0.11443074495893832,0.3724076943541551,0.3189672306404037,-0.023129184651459224,0.2746507190980861,0.12135071339507338,0.24673877629532726,0.11916073121656229,0.15267663910116763,0.23699679988509326,0.3067557842107747,0.43921394663595964,0.19263815184759986,0.2974644251598551,0.14590118249548137,0.021176926492556303,0.37652902293199697,0.3161835823911429,0.3364223325067015,0.37497215606502365,0.25500207025749266,0.16719474606568385,0.48217923477045294,0.0423786148875597,0.3815128103904911,0.1578265406357743,0.2845550256351552,0.2001645847489084,0.016777285321824747,0.1254597875237791,0.2384877469703204,0.09022823407123838,0.12258904777097493,0.25853193760397597,0.17616959525644188,0.4765481252038097,0.46468783886747794,0.221401366292018,0.1891353019096298,0.30606593156163564,0.24216323858874736,0.10237669808823086,0.003724233096610557,0.28646206559075194,0.35179586232708454,0.3103137641256961,0.23132447875427084,0.3895057945833922,0.3579981933448154,0.2696531705245188,0.0009883217211718916,0.5024268486313566,0.21675823732882754,0.37934908825432534,0.49568125175271466,0.108286062638878,0.4258392893858007,0.3903765633247666,0.26251161060974626,0.44459979023869056,0.06703587926883882,0.4930569371483911,-0.018365104320683712,0.14462684501373987],\"y\":[0.07656857289482649,0.009052849170895681,0.10850498994796084,0.18686265305199276,0.2582085819778321,0.14982677657840285,0.20274715528641785,0.11997711610733806,0.26245185124273196,0.26267657743646805,0.214881149276505,0.24700866756694986,0.022592797369157282,0.4145262784387482,0.21383427195918733,0.22964060311153942,0.04153619405886872,-0.018210214307508764,0.33998045228355045,0.5160759021326848,0.21797167431465553,0.19621452647953352,-0.0943490920741258,0.47275758498643433,0.37040199181960726,0.362105015824496,0.4256640352402096,0.11585549096082486,0.1970443899375502,0.31553828528663974,0.4755743965869792,0.48551403073051264,0.017404705639598422,0.2993261560142023,0.12246499681314363,0.39167081710026,-0.046358232339525206,0.3361921596747907,-0.07633954805079798,0.05503410684082786,0.2423106467979114,0.2651762969886912,0.2123045630083952,0.09828945419183623,0.11213610829921385,0.37353306703474204,0.20125359935757348,-0.12145867916267553,0.43969212889278125,0.3010887960780709,0.2124230199709881,0.414453829379938,0.3516175745019589,0.28529028939991663,-0.027793929789624874,0.15403315540762186,0.36996324781839923,0.2176592090329409,0.3356410815221055,0.1880391786077738,0.34585293609358825,0.21143806641339866,0.23662971242369266,-0.1250696036316644,-0.0874945789343865,0.5785562009764175,0.05113083828541628,0.2330547037929762,0.31364657144700825,0.1522752465743165,0.12153379410754148,0.24623006776704873,0.22534687496581435,0.3313762180975589,0.09499865315879386,-0.13882197684436204,0.24142439250035,0.2525297543105303,0.10539757036934357,-0.06180687517577104,0.2126046880860186,0.37759897214828664,0.5350958295634611,0.20861632538274802,0.2127622581396289,0.3634827721904479,0.07714709894579244,0.13698833952565762,0.4812766026186996,0.39321381100464,0.3512981098335584,0.388647240288973,-0.08085573285789764,0.21611158565314595,0.3372195093362538,0.3009652646636425,0.2133253020627282,0.19030638252247845,-0.015460576680996955,0.2207454773586617,0.2615861069098043,0.37268647225293366,0.3929181240562002,0.22529360768552403,0.2924912820193419,0.137605479998241,0.23407542828960734,-0.0751692516241011,0.18734199544070756,0.2953692761149131,-0.08387041742484092,0.38720538042976443,0.3289705900093824,-0.3188447749375939,0.3527200405706093,0.12383774014348899,0.3098436846091534,-0.09092623769819723,0.31527072627859803,0.11456290048505637,-0.032852230998512935,0.09482668367505352,0.5324252135171498,0.3234789905953202,-0.016984562353050812,0.14020296497722434,0.38265974211394715,0.2637617144880451,0.3679084055114863,0.5481731459339306,0.2155144665627703,-0.12298504037072641,0.24073272643745003,0.3037899775786167,0.033702580720294126,0.1851185376554175,0.20999977506426706,0.37413413737352785,0.31946402780627775,-0.11110439653593099,0.29144859062195,0.08843737758103111,0.27867811624255084,0.2010843934889202,-0.03487105843052599,0.2804075213070264,0.260886760125921,0.42912424974863483,0.28418200431416285,0.199474247801487,-0.012047154600437133,0.30738757943310185,0.6423172316738924,-0.07179356515145725,0.3680633931791335,0.27349773891053125,0.20323119308679674,-0.039466742828429206,0.6748780445878799,0.16522099354058542,0.4191929442657129,0.23342046960987933,0.4929476768955667,0.1516257894863797,-0.1457897975182564,0.1069592134038616,0.006951416235221163,0.09095095831835007,0.23843053275294224,0.23606951144781596,0.33604674239319005,0.40497977529512297,0.4649069857251565,0.24196595432206267,0.10374452429150165,0.1757634065726397,-0.08181031116924271,0.2773521799744667,0.1951433348007957,0.2744113882592946,-0.04842426340747572,0.4223033732749088,0.185901243002103,0.2306074117421658,0.024073688752369208,0.14400508791282424,0.20255024887962766,0.4326309727539864,0.1919952621870677,0.15050764062507171,0.16865112847292205,0.0995635495144699,0.22699349969878846,0.058307683858551576,0.2627159350285889,0.10139371387600367,0.044689394831207145,0.30540083776061816,0.421410906409126,0.4704261115822175,0.019131825379232435,0.5082543844490472,0.43738203284608806,-0.15632908318041222,0.11040812882264898,0.2500167961008733,0.3740774112627788,0.1261048667441517,0.13102717264225874,-0.045435372119132275,0.1180766285578483,0.03369410642161466,0.13547931143878458,0.5527427022828768,0.40098771418461127,0.4306511798670827,0.19990406654940077,0.3935335703722508,0.09678839864899676,0.2923397172892679,0.15334408125067306,0.18987703061019365,0.23665117019980839,0.46418945494495295,0.11511040803340897,0.4211386294335948,-0.15391642228303956,0.27126933340384163,0.29161373283621145,-0.011277850835510438,0.13459111596180426,0.45146539152338766,0.3584480332569511,0.3324389940070935,0.06425513824661115,0.3058619822350137,0.25211339246423803,0.057232002219821956,0.17678226802222025,0.5486238290901332,-0.05272996743831593,0.28160651424998795,0.029780792948407075,0.16229552880533177,0.7102287532848526,0.12435662496684706,0.11099819410978287,0.18805780505739106,-0.027238050804909646,0.32869140935149405,0.08741937000280288,0.10673395303034569,0.2225834360861801,0.10238079659313938,0.3460369750097838,0.47279301853815386,0.3468796517320811,0.14200276688682023,0.1795967021756159,0.17229573607389914,0.09994772222695603,0.12007370139125005,0.2056348781227686,0.15494591730420482,0.26693383298709306,0.4195970546962765,0.24745530256526163,0.5769957703736,0.1576562610844132,0.3607832690331239,0.16251888243817508,0.08359757081090967,-0.309861281247634,-0.0162006411786412,0.37450397006653324,-0.004888464676595116,-0.02070018471396075,0.05637384481911773,0.24084344670081204,0.3895502276996148,0.07939196695331954,0.3577027754071429,0.23521131810370327,0.3150346455115218,0.3002115489914118,0.3846201776290428,0.16633075196536562,0.6185482357385665,0.4840609720546706,0.06372636935509277,0.12999269965225482,0.328604290111383,0.3047840844271744,0.25770546392106386,0.06293096888191349,0.040250694145648205,0.6325738397301636,0.16617849273058063,0.1074490618025818,0.44599257172860957,-0.0055586360480419,0.2105668325635176,0.35204838892462836,0.25641239213439987,0.3836611602031878,0.4402958899950588,0.06553806190951039,0.2149290595179708,0.26320148392591197,0.11310912740585767,0.1563806040948809,0.39599324216788834,0.09478245791009386,0.34208012477739486,0.06775196878337247,0.4143072616805715,0.5642149071752901,0.33698135585758704,0.3775167707364767,0.2733864115186907,0.35437061338736286,0.23132204066795214,0.4704960330976755,0.04772619512965611,0.3819687954978037,0.11190281180082062,0.043960691730667086,0.278857212762634,0.2581683182412637,0.15589999277568897,0.16264703935654373,0.061577430524677165,-0.06742679427719796,-0.05601083559335882,0.5826281692207587,0.456884593618755,0.10850904246552591,-0.06137193474024508,0.6097018605106693,0.45206325334990105,0.4442998557295691,0.19661114310137853,0.294418157197344,0.04122879153454586,0.29095562944524517,-0.012868615742932597,-0.23382641523998338,0.03126217369803214,0.10022193776510686,0.21124271026873576,0.1421408320793404,0.4957913197938457,0.0315340010372984,0.19789501714024296,-0.022443387903537185,-0.07372578997775632,0.06072993400429969,0.22429306384701067,0.033040358742688083,-0.17238549915264023,0.30814258372177955,0.3637507420902371,-0.03332113547857308,-0.32141906659213104,0.3266113368516121,0.2843968530043427,0.3579756071563531,0.43797455873057595,0.28420020639694826,0.2503037417943439,0.2620709474385765,0.18638869047476467,0.38794364382965746,0.19589882179617413,-0.006873247915312972,0.2177760203654903,0.04936370076120568,0.03753732199955947,0.04569253388570007,0.213791093173105,0.0410178362243283,0.20175100538906648,0.38514160441827816,0.36588847060971774,0.09856871755256326,0.36465059311417475,0.24178690281504397,0.21424301510109808,0.18045854277610415,0.23749081622671472,0.040581727571591876,0.22142501689081112,0.34039189173724327,0.07925110488505811,0.4539565493775123,0.3234889257130637,0.7279910105827737,0.5991743981402714,0.23728665618274555,0.3981386779979396,0.2044167804838428,0.23831905757092714,0.013706711927734599,0.3224378829154199,0.2704011488249258,0.25963822754977905,0.28017445799753476,0.16764589753986445,0.33143433153103086,0.21516378638364078,-0.02935251759515835,0.3858057376762747,0.37935357258345315,0.23819133052633568,0.24181187667224646,0.4807406013649823,0.07170294633832118,0.2079832557165002,0.2472544135914775,0.09844341368300037,0.1893734190625944,-0.2097744338033774,0.13696793137017835,0.3904290258198422,0.08892388623213589,0.45765754458901464,-0.08532832375360293,0.21755823355475287,0.5454362689680945,0.22495166041561548,0.4362872455333719,0.12585601143229688,0.2656493646199478,0.2592255279688794,0.17323168235573394,0.30997525804859216,0.11128740777388736,0.33270369106950604,0.31744490442404694,-0.02010258195406361,0.26518523913369013,0.12252348687063788,0.22962026577034172,0.10198289946075247,0.16198789914912606,0.21883577932204643,0.2827024951637461,0.4379953140306519,0.1903511965804888,0.28197647989972663,0.1667550411806435,0.02111097136051122,0.37170356578956343,0.3049320035450034,0.33194934678232707,0.3692971499109383,0.27063824966244865,0.17715047338846582,0.46134923044007015,0.009623139904319117,0.37351327198895484,0.1574037203030762,0.2866374639748844,0.20899030619039705,0.009856331724565726,0.12272733114245872,0.22275921513076996,0.08649579389251286,0.11671601809977465,0.20772706673999683,0.1719618536608143,0.4676699852214595,0.4506145116516633,0.2164934976495281,0.18695054781678394,0.2980997631465688,0.24200668935041414,0.09448660688423587,0.0293523261469214,0.2969292186202552,0.36070518262902723,0.3242973659034779,0.2294597720908,0.3748980631783291,0.3645738277053409,0.2554118116406334,0.021824312678893364,0.5017361600084099,0.20243421095016237,0.35480637309621416,0.5361679162973797,0.1255400614373576,0.4096942780609731,0.37987643767469303,0.23902261844614492,0.4525002521795444,0.054511282989156556,0.4803041663994809,-0.003993304696850711,0.14085939349907314],\"type\":\"scatter\"},{\"hovertemplate\":\"Below this line: (60% of simulations)<br>   `equal weights` outperformed `estimate standard deviations only` <br>Above this line: (40% of simulations)<br>   `estimate standard deviations only` outperformed `equal weights`<br><extra></extra>\",\"mode\":\"lines\",\"name\":\"45-degree line\",\"x\":[0.0,0.00827914409522866,0.01655828819045732,0.02483743228568598,0.03311657638091464,0.0413957204761433,0.04967486457137196,0.05795400866660062,0.06623315276182928,0.07451229685705794,0.0827914409522866,0.09107058504751527,0.09934972914274393,0.10762887323797259,0.11590801733320125,0.1241871614284299,0.13246630552365857,0.14074544961888724,0.1490245937141159,0.15730373780934453,0.1655828819045732,0.17386202599980188,0.18214117009503053,0.19042031419025918,0.19869945828548785,0.20697860238071653,0.21525774647594517,0.22353689057117382,0.2318160346664025,0.24009517876163117,0.2483743228568598,0.25665346695208846,0.26493261104731713,0.2732117551425458,0.2814908992377745,0.2897700433330031,0.2980491874282318,0.30632833152346045,0.31460747561868907,0.32288661971391774,0.3311657638091464,0.3394449079043751,0.34772405199960377,0.3560031960948324,0.36428234019006106,0.37256148428528973,0.38084062838051835,0.38911977247574703,0.3973989165709757,0.4056780606662044,0.41395720476143305,0.42223634885666167,0.43051549295189034,0.438794637047119,0.44707378114234764,0.4553529252375763,0.463632069332805,0.47191121342803366,0.48019035752326233,0.48846950161849095,0.4967486457137196,0.5050277898089482,0.5133069339041769,0.5215860779994056,0.5298652220946343,0.5381443661898629,0.5464235102850916,0.5547026543803203,0.562981798475549,0.5712609425707775,0.5795400866660062,0.5878192307612349,0.5960983748564636,0.6043775189516922,0.6126566630469209,0.6209358071421496,0.6292149512373781,0.6374940953326068,0.6457732394278355,0.6540523835230642,0.6623315276182928,0.6706106717135215,0.6788898158087502,0.6871689599039789,0.6954481039992075,0.7037272480944361,0.7120063921896648,0.7202855362848934,0.7285646803801221,0.7368438244753508,0.7451229685705795,0.7534021126658081,0.7616812567610367,0.7699604008562654,0.7782395449514941,0.7865186890467227,0.7947978331419514,0.8030769772371801,0.8113561213324088,0.8196352654276373],\"y\":[0.0,0.00827914409522866,0.01655828819045732,0.02483743228568598,0.03311657638091464,0.0413957204761433,0.04967486457137196,0.05795400866660062,0.06623315276182928,0.07451229685705794,0.0827914409522866,0.09107058504751527,0.09934972914274393,0.10762887323797259,0.11590801733320125,0.1241871614284299,0.13246630552365857,0.14074544961888724,0.1490245937141159,0.15730373780934453,0.1655828819045732,0.17386202599980188,0.18214117009503053,0.19042031419025918,0.19869945828548785,0.20697860238071653,0.21525774647594517,0.22353689057117382,0.2318160346664025,0.24009517876163117,0.2483743228568598,0.25665346695208846,0.26493261104731713,0.2732117551425458,0.2814908992377745,0.2897700433330031,0.2980491874282318,0.30632833152346045,0.31460747561868907,0.32288661971391774,0.3311657638091464,0.3394449079043751,0.34772405199960377,0.3560031960948324,0.36428234019006106,0.37256148428528973,0.38084062838051835,0.38911977247574703,0.3973989165709757,0.4056780606662044,0.41395720476143305,0.42223634885666167,0.43051549295189034,0.438794637047119,0.44707378114234764,0.4553529252375763,0.463632069332805,0.47191121342803366,0.48019035752326233,0.48846950161849095,0.4967486457137196,0.5050277898089482,0.5133069339041769,0.5215860779994056,0.5298652220946343,0.5381443661898629,0.5464235102850916,0.5547026543803203,0.562981798475549,0.5712609425707775,0.5795400866660062,0.5878192307612349,0.5960983748564636,0.6043775189516922,0.6126566630469209,0.6209358071421496,0.6292149512373781,0.6374940953326068,0.6457732394278355,0.6540523835230642,0.6623315276182928,0.6706106717135215,0.6788898158087502,0.6871689599039789,0.6954481039992075,0.7037272480944361,0.7120063921896648,0.7202855362848934,0.7285646803801221,0.7368438244753508,0.7451229685705795,0.7534021126658081,0.7616812567610367,0.7699604008562654,0.7782395449514941,0.7865186890467227,0.7947978331419514,0.8030769772371801,0.8113561213324088,0.8196352654276373],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"SR: equal weights\"},\"tickformat\":\".2\",\"range\":[0,0.8606170286990192]},\"yaxis\":{\"title\":{\"text\":\"SR: estimate standard deviations only\"},\"tickformat\":\".2\",\"range\":[0,0.8606170286990192]},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('49f28fd6-8645-46a7-9d13-c3d382dd35a5');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSimulated performance of risk parity portfolio versus equal-weighted portfolio\n:::\n:::\n\n\n::: {.cell execution_count=9}\n\n::: {#fig-input-est-histogram3 .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"cf9fcf8a-6484-4c17-b322-eb5f110e7652\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"cf9fcf8a-6484-4c17-b322-eb5f110e7652\")) {                    Plotly.newPlot(                        \"cf9fcf8a-6484-4c17-b322-eb5f110e7652\",                        [{\"hovertemplate\":\"This bin contains %{y:0.3}% of simulations <br>Average difference in SRs across all simulations: 0.002 <br>'equal weights' outperforms 'estimate standard deviations only' in 60% of all simulations<br><extra></extra>\",\"x\":[-0.013921382740604754,-0.00014326362153781191,0.00011316246976628141,-0.0005909719685622816,-0.004698769950779391,0.010505865420044058,0.017379592523816434,0.015254741358814786,0.006399154335700097,-0.014059376157962489,0.0005199734250462829,0.013498461512567533,0.009105834064297432,0.04409121384572734,0.017210150798232293,0.017431567808348813,-0.045139594062069466,-0.0027666518330132124,-0.004976859542391021,0.019118307049873273,0.01427461874009564,0.008624704784171294,-0.005456737361560951,0.0037239072413349783,-0.0038955171454526094,0.011261485009760375,-0.028834700765609678,-0.002480129607991141,-0.0006381523629579167,0.018565033028527744,-0.005372862948628654,-0.0009497926851120275,-0.0037696252061838707,-0.0007048910912760831,-0.00754671153453261,-0.009541182901246503,0.012859534959911288,-0.013831947948074685,0.003959306215689226,0.030881049288825867,0.017644529925995328,-0.005511760964869106,0.0054825252900573,0.023926191777682806,0.00868016032611621,-0.0169918618246796,-0.012774175072531285,0.010292888420174007,-0.02877921536363226,0.013138729895422918,0.03016166143190091,0.010010286386286538,-0.005463740946000939,0.01056320645843023,0.006179043271623854,-0.003992488501895236,-0.017182072757473965,0.011313231624444975,0.010549450010244876,-0.0016058937171877785,0.0169683971608518,0.02096081905782196,-0.014591882651064397,-0.008117863202614178,0.02197072088892031,-0.008311249985431646,-0.004002905060440237,0.017538719597668034,0.02330145767851899,0.0061951581558948865,0.01058815598740187,0.012216256024224798,-0.013842535776587672,0.0003338498573097759,-0.023569610414346256,-0.00015324650361278613,0.0016394835015099973,0.004316562204413177,0.01585157669119161,0.009278375700540083,-0.02317705967864292,0.019318314915661272,-0.0002606947893293299,7.71236001028408e-05,0.035376417136545296,0.013231214631424348,-0.006623635146327772,-0.0049481280518422766,0.0014400542087605328,0.005643119079469794,-0.01204705411299678,-0.035039812131807735,0.00022219123973958588,0.0026483834022783814,0.007497986275816992,0.00018918900614345313,-0.019323208801039188,0.015699551641104065,0.004736470911845479,-0.008506218840254987,0.018175131730515492,0.018935765694086504,-0.0007556284192379303,0.011276216201578787,-0.0011547181277039575,-0.0043648290066024276,-0.016126374532848736,0.011774613845774606,8.055716399002488e-05,-0.036908126640334604,0.002964842060094258,0.004817742614382503,0.0025971996597990987,7.81407860311889e-06,0.005234627825205951,-0.0111741378347818,-0.004665474543472048,-0.024091069076641172,0.02435814371799877,0.024337659594738534,0.0033985363208895447,0.006308295321377597,0.017506549900693003,0.007243642979023135,-0.004963640536592127,0.001058142923597627,0.01863055458614793,0.0027409400959392816,-0.019252638113298748,0.03839208078148215,0.001594243683052332,0.044895274668007884,0.002705546125815944,-0.039885915800104144,-0.015948506094506577,-0.005444251425973767,-0.04155094096280773,-0.002393293981413469,-0.008515123038527417,-0.01222653540602997,-0.02343698774779307,0.0071086603352073785,-0.018287976935861816,-0.001738862146656417,0.007022760959982308,0.014226249108187095,0.0012069090651172232,0.008556868166902987,-0.011081290902476781,-0.01016627142505483,0.013001215817842072,0.008461775504064406,0.00595676809760548,0.007265192268212484,0.010175666187934251,0.01200196923319774,-0.000856876661291972,-0.014220311386989974,-0.0023817598604566337,-0.005557231549395525,-0.003950891720057914,0.0012684864024046505,-0.03975839337286635,0.005835115748395875,-0.012838607251453582,0.015576856458347915,-0.0005186873293503945,0.013289277135171695,-0.008788032940764634,-0.0029836535650774043,-0.005080905152529458,0.006659168939060212,-0.023957312948061582,0.006430453010519421,0.0111034562474574,0.01515010172527706,0.0038942666604023096,0.006445953536118487,-0.008455945250121444,0.00673844453957978,-0.01557478269760073,0.031510822295880314,-0.0022898357003755254,0.011303875790896312,0.007932680251826554,-0.006684278213403477,0.029748759762179805,0.02504910503447072,-0.0012069052854467854,0.00984213570036288,-0.013443672821284142,0.00983585354410442,0.012428130220116795,-0.002606892637128093,-0.009401968239035718,0.017298485758949086,0.0020242657318221627,-0.025892502607361645,0.018122965924688594,-0.009627089015828427,-0.019004369604592616,0.02942064169303993,0.027639344431616475,0.00044570145766334446,-0.007035352287841384,-0.022882088285999608,0.00033992737415267094,-0.004884108281071345,0.010383351963303589,0.002547390548070523,-0.0011993194548900882,-0.009208816448643874,0.0025440141762010093,-0.009379702454276773,0.0003277294250637053,0.026465187740750573,0.011124178499027887,-0.0024536401340523595,-0.006960472618624772,-0.0027433907485139852,-0.01811269876262811,-0.001593515104863108,0.002327632092530396,-0.02253565117935158,-0.04050744892897759,0.02883539459412665,0.019532199690742935,-0.011403125732605213,-0.006930005324405297,-0.013220551541385864,0.008243455429060326,0.030955612039827385,0.013454455261460996,0.023880102663636715,0.016920184690868992,0.009126280104869822,0.015190826755743736,0.009351715779029587,-0.0006576063133547916,-0.01483393094216845,0.004474355680709516,0.013423965085394618,0.037034525705396226,0.0031898269567042226,0.017328569236675584,0.011710107010331747,-0.0019390980480175485,0.017851866885781026,0.01803748944413499,-0.010890709175517821,0.019056222283712607,-0.02835844548213237,-0.020125549797355147,-0.00288556947531754,0.00622601296678299,-0.014708062334563843,0.02620881010149695,-0.008320533819952874,0.02707817110188368,-0.004658460496529848,-0.0037905132128429747,0.0041631091652070545,0.008913833404278815,-0.01391703178803208,0.01514358125223747,-0.003897306813368584,-0.001663979757676265,0.0038921076321466463,0.016609177179863432,0.005054507216112003,0.0009271144233672368,0.006317643229956052,0.002601299027391979,0.012289123424378028,0.01682914930723034,0.007082231957769525,-0.00619121015307331,0.005126846193206809,0.0006275699589880779,-0.0045587168682196255,-0.0158457072360441,-0.0009250727952726523,0.009163318070432247,0.0026899053869838263,0.007419812136481074,0.021247167068885686,0.010512578327248306,-0.0027930233596835663,0.0035143363644636882,-0.0002306332103662323,0.01644870705745527,0.012487151306340982,0.008560910120116172,0.0027602864854924247,0.014547352240502326,0.02026930802313647,0.023208651254522872,0.009479597209962609,0.029306357050525048,-0.01071783523937797,0.023538459601931457,0.015480662452139665,0.02637745329219565,0.014841724274226642,0.001027546759919895,-0.02694842443981632,0.041749996736010875,0.01773465140148406,0.016425242469161994,0.005663995264096042,0.00082923410664823,-0.005275806578358688,-0.020618563894371847,0.014038598122836976,-0.015587851411865132,0.00244232298780217,0.001447573515062639,0.022505473237784512,0.0007871517470791622,-0.016932873856112418,-0.0019890667405011997,-0.010584190240259056,-0.014373565486622941,0.0013327839324474358,0.005990717805265444,-0.02751165974955945,-0.0008409436506195411,-0.012659642994849951,0.007537722140672998,0.000774349799231272,0.0006322295446276049,-0.00038634438185784076,-0.052038330131072966,-0.01448219175951402,0.010282905197398606,0.01325984695269089,0.0047397621929327755,-0.010583510872940183,-0.020047655169084577,0.021531484657664857,0.008423816999306055,0.0107587515738497,-0.018123967630604754,0.008344617702629856,0.016134751004084402,0.014130362872160572,-0.0026837566156279746,-0.01360859572844985,-0.0006461250031593729,0.029809380085226794,0.013947822013912758,-0.01895650576656921,0.019396386164310768,-0.009859557287994147,0.005863310843177736,-0.013609563753931034,0.003968869179825689,0.00771195377486944,-0.008942699064868817,0.01670935928447842,-0.02993657898437413,0.015385270063330347,0.02516655851324697,0.025515783946765458,0.002431860498997518,-0.010746530352304107,0.022370053173080218,-0.009306771066405206,-0.014624313942904199,-0.0010055707999677699,0.02479063760802147,0.002539193232448056,-0.017829019547870972,0.039247904102207826,0.015941470820758058,-0.004197605986886482,0.048320224717032914,-0.018833011669809115,0.024051067922302015,0.03638658259045627,-0.02004833879772247,0.0070109498318058905,-0.003253564407635412,0.004075265751236012,0.01463987767018339,0.009896687131165538,0.005207568846862243,0.035043509068573925,-0.015176642912903826,-0.011350179569098173,0.005365772885029346,0.00997570450389873,1.3636205298039883e-05,0.009258358323825835,0.005795265006955264,0.01175797820370933,-0.022889662149845225,-0.050423886098585724,-0.01174576511078268,0.024857527077844443,0.017605788637543474,-0.010891830580551404,-0.004332594139250249,0.010046294561356972,-0.023015216393889287,-0.0023661942655836543,0.002668445873897418,-0.0022598154739276455,0.0065522421308232826,0.0008393322349854182,0.0004616583514293407,-0.011653204753506952,0.0007676587657971523,0.007458439461131033,0.014947227703663024,-0.006171340223159905,-0.03010203448918796,-0.015550977279733952,0.0062126358751415645,0.014487767145437327,0.00035595249636882764,0.0133216996952282,0.017949177026048896,-0.0017655949979918373,-0.03711791647820917,0.002693834872180001,0.012735578818876686,-0.011393858553360947,-0.006585989935725345,-0.03724326886897489,-0.010346306343819778,-0.009659421376388436,-0.03068573077606751,-0.003413309420733146,-0.0044711032462241285,0.0035817836420594107,0.0031433371850509567,0.03970400328464907,0.0015223262163567841,-0.0030266026973956132,0.00946547996439595,-0.0011727734755645064,0.01711851052498553,0.017177831755809822,-0.00931126004795843,0.01816102056304683,0.02405328904702858,0.0012186326053077456,0.0022869552671110627,0.015487945260128477,-0.020853858685162124,6.595513204508269e-05,0.004825457142433542,0.011251578846139532,0.004472985724374434,0.005675006154085338,-0.015636179404955985,-0.009955727322781965,0.02083000433038279,0.032755474983240586,0.007999538401536277,0.0004228203326981095,-0.0020824383397291535,-0.00882572144148866,0.0069209535972590205,0.0027324563813203723,0.015728531839550447,0.003732440178725524,0.005873029671200278,0.05080487086397914,0.00420774159562759,0.008878139982350153,0.014073327215814668,0.004907868642489904,0.002184754092845853,0.007966168415066865,0.0001565492383332201,0.00789009120399499,-0.025628093050310843,-0.01046715302950324,-0.008909320301942691,-0.013983601777781796,0.0018647066634708276,0.014607731405063107,-0.006575634360525495,0.014241358883885391,-0.02083599095772147,0.0006906886229466336,0.014324026378665172,0.024542715158111184,-0.04048666454466504,-0.01725399879847961,0.016145011324827596,0.010500125650073577,0.02348899216360134,-0.007900461940853865,0.012524596279682262,0.01275277074891018,-0.014371799623833,0.003767451514666731],\"type\":\"histogram\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"histnorm\":\"percent\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"xaxis\":{\"title\":{\"text\":\"Difference in SRs: 'equal weights' minus 'estimate standard deviations only'\"},\"range\":[-0.4917811592565824,0.4917811592565824]},\"yaxis\":{\"title\":{\"text\":\"Percent of Simulations\"},\"tickformat\":\".2\"},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('cf9fcf8a-6484-4c17-b322-eb5f110e7652');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nDifferences in Sharpe Ratios of risk parity portfolio and equal-weighted portfolio\n:::\n:::\n\n\n## Empirical Performance\n\nWe now examine how well we would have done forming optimal portfolios historically with the S&P 500, Treasury bonds, corporate bonds, and gold.  As in the previous section, we consider strategies differing in the extent to which they rely on estimates of expected returns, standard deviations, and correlations.  We use rolling windows of 20 years to estimate each input using historical data.  The data starts in 1968, so our first out-of-sample return is in 1988.  We rebalance the portfolio annually.  We optimally locate along the capital allocation line for each strategy's optimal portfolio, assuming a risk aversion of 5.^[This is a somewhat high risk aversion.  With lower risk aversion choices, some strategies have single year return realizations below -100%.]\n\n@fig-stockbondsgold-sharpe shows the realized Sharpe ratio for each strategy.  The tangency portfolio strategy underperformed each of the other strategies, including the equal-weighted $1/N$ strategy.  The noisiness in estimating expected returns does not lead to better investment results compared to any of the strategies that assume expected returns are equal across the assets.\n\nThe risk parity strategy performs the best in terms of Sharpe ratio in the thirty or so years of implementing each strategy, followed by the equal-weighted and GMV strategies.  For this set of assets and sample, estimating differences in volatility across assets was beneficial to performance.  However, estimating correlations in addition to volatilities led to worse outcomes in terms of Sharpe ratios.  In fact, the GMV strategy underperformed both risk parity and the equal-weighted $1/N$ strategies.\n\n\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\nimport numpy as np\nfrom cvxopt import matrix\nfrom cvxopt.solvers import qp as Solver, options as SolverOptions\nfrom scipy.optimize import minimize_scalar\nfrom scipy.optimize import minimize\nimport plotly.graph_objects as go\nfrom scipy.stats import multivariate_normal as mvn\nimport pandas as pd\n\n# Pull the data (from sbb.py and gold.py from website codebase)\n# Stocks, bonds, bills\nnominal = pd.read_csv('https://www.dropbox.com/s/hgwte6swx57jqcv/nominal_sbb.csv?dl=1', index_col=['Year'])\n\n# Gold\nd = quandl.get(\"LBMA/GOLD\")['USD (AM)']\ngold = d.resample('Y').last().iloc[:-1]\ngold.index = [x.year for x in gold.index]\ngold.loc[1967] = d.iloc[0]\ngold = gold.sort_index().pct_change().dropna()\ngold.name = 'Gold'\n \n\ndf = pd.concat((nominal, gold), axis=1).dropna()\nassets = ['TBills','S&P 500', 'Gold', 'Corporates', 'Treasuries']\ndf = df[assets]\n\n##### Inputs\n# Window length (and initial period)\nwindow = 20\nn = len(assets)-1\nraver = 5\nshort_lb = None\nT = len(df)-window\n\n\n\n# Rolling input estimation\nrisky = assets[1:]\ndf.columns = ['rf']+['r'+str(i) for i in range(n)]\nasset_list = [str(i) for i in range(n)]\nfor asset in asset_list:\n    df['mn' + asset]=df['r'+asset].rolling(window).mean()\n    df['sd' + asset]=df['r'+asset].rolling(window).std()\n\nret_list = ['r' + asset for asset in asset_list]\ncorrs = df[ret_list].rolling(window, min_periods=window).corr()\n\ncorr_list = []\nfor j, asset in enumerate(asset_list):\n    for k in range(j+1,n):\n        df['c'+asset+str(k)]=corrs.loc[(slice(None),'r'+asset),'r'+str(k)].values\ndf['year'] = df.index\ndf = df.reset_index()\n\n\n# Prepare columns for the rolling optimization output\nmodel_list = ['ew', 'est_all', 'est_cov', 'est_sds']\nfor model in model_list:\n    df['portret_'+model] = np.nan      #portret is the realized portfolio return of the 100% risky asset portfolio\n    if model not in ['ew']:\n        for asset in asset_list:\n            df['wgt' + asset + '_' +model] = np.nan\n    df['wgt_cal_'+model] =np.nan\n    df['raver_portret_'+model] =np.nan #raver_portret_ is the realized return of the CAL choice of the raver investor\n\nmn_list = ['mn'+asset for asset in asset_list]\nsd_list = ['sd'+asset for asset in asset_list] \n\n# Choose optimal portfolios each time period\nfor i in np.arange(window,window+T):\n    # Full estimation inputs at each point in time\n    means = df[mn_list].iloc[i-1].values\n    sds   = df[sd_list].iloc[i-1].values\n    C  = np.identity(n)\n    for j, asset in enumerate(asset_list):\n        for k in range(j+1,n):\n            C[j, k] = C[k, j] =    df.loc[i-1,'c'+asset+str(k)]  \n    cov = np.diag(sds) @ C @ np.diag(sds)\n\n    r = df.loc[i,'rf']\n    ##### Note: all portfolio weights considered to be beginning of period weights\n    ##### (so multiply by contemporaneous realized returns)\n    # Full estimation tangency portfolio\n    model = 'est_all'\n    wgts = tangency(means,cov,r,short_lb)\n    for j, asset in enumerate(asset_list):\n        df.loc[i,'wgt'+asset+'_' + model] = wgts[j]\n    df.loc[i,'portret_'+model] = df.loc[i,ret_list].values @ wgts\n    df.loc[i,'wgt_cal_'+model] = (wgts @ means - r) / (raver * (wgts @ cov @ wgts))\n    df.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n    df.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)\n\n    # Estimate only covariance matrix\n    model = 'est_cov'\n    wgts = gmv(cov,short_lb)\n    for j, asset in enumerate(asset_list):\n        df.loc[i,'wgt'+asset+'_' + model] = wgts[j]\n    df.loc[i,'portret_'+model] = df.loc[i,ret_list].values @ wgts\n    df.loc[i,'wgt_cal_'+model] = (means.mean() - r) / (raver * (wgts @ cov @ wgts))\n    df.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n    df.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)\n\n\n    # Estimate only standard deviations in covariance matrix\n    model = 'est_sds'\n    for j, asset in enumerate(asset_list):\n        for k in range(j+1,n):\n            cov[j, k] = cov[k, j] = 0.0\n    wgts = gmv(cov,short_lb)\n    for j, asset in enumerate(asset_list):\n        df.loc[i,'wgt'+asset+'_' + model] = wgts[j]\n    df.loc[i,'portret_'+model] = df.loc[i,ret_list].values @ wgts\n    df.loc[i,'wgt_cal_'+model] = (means.mean() - r) / (raver * (wgts @ cov @ wgts))\t\t\n    df.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n    df.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)    \n\n    # Equal-weighted portfolio\n    model = 'ew'\n    for j, asset in enumerate(asset_list):\n        cov[j,j] = (sds.mean())**2\n    wgts = (1/n)*np.ones(n)\n    df.loc[i,'portret_'+model] = df.loc[i,ret_list].values @ wgts\n    df.loc[i,'wgt_cal_'+model] = (means.mean() - r) / (raver * (wgts @ cov @ wgts))\n    df.loc[i,'wgt_cal_'+model] = max(0,df.loc[i,'wgt_cal_'+model])\n    df.loc[i,'raver_portret_'+model] = r + df.loc[i,'wgt_cal_'+model]  * (df.loc[i,'portret_'+model] -r)   \n\n# Summarize sharpe ratio, avg ret, sd(ret) for each model\nportret_list = ['raver_portret_' +  model for model in ['est_all', 'est_cov', 'est_sds','ew']]\nstats = df[portret_list].describe()\nsr_df = pd.DataFrame(dtype=float, columns = ['sr','avg_ret','sd_ret'], index = ['est_all', 'est_cov', 'est_sds','ew'])\nr = df[np.isnan(df['raver_portret_ew'])==False].rf.mean()\nfor model in ['est_all', 'est_cov', 'est_sds','ew']:\n    sr_df.loc[model,'sr'] = (stats.loc['mean','raver_portret_' +  model] - r)/stats.loc['std','raver_portret_' +  model]\n    sr_df.loc[model,'avg_ret'] = stats.loc['mean','raver_portret_' +  model]\n    sr_df.loc[model,'sd_ret'] = stats.loc['std','raver_portret_' +  model]\n\nlabel_dict = {'true': 'theoretical optimal weights', \n            'ew': 'equal weights',\n            'est_all': 'estimate all inputs',\n            'est_cov': 'estimate covariance matrix only',\n            'est_sds': 'estimate standard deviations only'}\n\nxaxis_label_dict = {'true': 'theoretical optimal weights', \n            'ew': 'Equal Weights',\n            'est_all': 'Tangency',\n            'est_cov': 'GMV',\n            'est_sds': 'Risk Parity'}\nsr_df = sr_df.reset_index()\nsr_df['label'] = sr_df['index'].apply(lambda x: label_dict[x])\nsr_df['xaxis_label'] = sr_df['index'].apply(lambda x: xaxis_label_dict[x])\n\n\n# Plot sharpe ratios\nstring =\"Strategy: %{customdata[0]} <br>\"\nstring += \"Sharpe ratio: %{y:0.3f}<br>\"\nstring += \"Average return: %{customdata[1]:0.1%}<br>\"\nstring += \"SD(return): %{customdata[2]:0.1%}<br>\"\nstring += \"<extra></extra>\"\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x=sr_df['xaxis_label'], y=sr_df['sr'], customdata=sr_df[['label','avg_ret','sd_ret']], hovertemplate=string))\nfig.layout.yaxis[\"title\"] = \"Sharpe ratio\"\nfig.layout.xaxis[\"title\"] = \"Strategy\"\nfig.show()\n```\n\n::: {#fig-stockbondsgold-sharpe .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"fcb5dfde-7208-4e7c-8442-0d5aba3c57a6\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"fcb5dfde-7208-4e7c-8442-0d5aba3c57a6\")) {                    Plotly.newPlot(                        \"fcb5dfde-7208-4e7c-8442-0d5aba3c57a6\",                        [{\"customdata\":[[\"estimate all inputs\",0.29860569344329874,0.4060170624492094],[\"estimate covariance matrix only\",0.3057456065086051,0.3712662027901908],[\"estimate standard deviations only\",0.31768865674773056,0.33144755557950445],[\"equal weights\",0.21224155968855296,0.2425970691089415]],\"hovertemplate\":\"Strategy: %{customdata[0]} <br>Sharpe ratio: %{y:0.3f}<br>Average return: %{customdata[1]:0.1%}<br>SD(return): %{customdata[2]:0.1%}<br><extra></extra>\",\"x\":[\"Tangency\",\"GMV\",\"Risk Parity\",\"Equal Weights\"],\"y\":[0.666247614555585,0.7478402566792806,0.8737154875792085,0.7590518972354677],\"type\":\"bar\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"yaxis\":{\"title\":{\"text\":\"Sharpe ratio\"}},\"xaxis\":{\"title\":{\"text\":\"Strategy\"}}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('fcb5dfde-7208-4e7c-8442-0d5aba3c57a6');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nSharpe ratios of various strategies historically\n:::\n:::\n\n\n@fig-stockbondsgold-timeseries plots the realized returns for each strategy.  The hoverdata contains the optimal risky portfolio weights as well as the fraction of capital allocated to the risky portfolio.  The tangency and GMV strategies produce the most volatile return series.  However, as seen in @fig-stockbondsgold-sharpe, they do not produce average returns high enough to make up for this additional risk to generate Sharpe ratios as high as the risk parity or equal-weighted $1/N$ strategies.  Attempting to estimate expected returns and correlations for these assets would not have paid off.\n\n::: {.cell execution_count=12}\n``` {.python .cell-code}\n# Plot the time-series of returns and portfolio weights.\nfor asset in asset_list:\n    df['wgt'+asset + '_ew'] = 1/n\n       \nfig = go.Figure()\nfor model in ['est_all', 'est_cov', 'est_sds', 'ew']:\n    string =  \"Strategy: \" + label_dict[model] +\" <br>\"\n    string += \"Year: %{x:4.0f}<br>\"\n    string += \"Return: %{y:0.1%}<br>\"\n    string += \"Weight in Risky Portfolio: %{customdata[0]: 0.1%} <br>\"\n    string += \"Risky Portfolio Weights:<br>\"\n    string += \"  \"+ risky[0] +\": %{customdata[1]: 0.1%} <br>\"\n    string += \"  \"+ risky[1] +\": %{customdata[2]: 0.1%} <br>\"\n    string += \"  \"+ risky[2] +\": %{customdata[3]: 0.1%} <br>\"\n    string += \"  \"+ risky[3] +\": %{customdata[4]: 0.1%} <br>\"\n    string += \"<extra></extra>\"\n\n    wgt_list = ['wgt_cal_'+ model] + ['wgt'+asset + \"_\" + model for asset in asset_list]\n    trace=go.Scatter(x=df['year'], y=df['raver_portret_'+model], customdata=df[wgt_list], hovertemplate=string, name = xaxis_label_dict[model])\n    fig.add_trace(trace)\nfig.layout.yaxis[\"title\"] = \"Return\"\nfig.layout.xaxis[\"title\"] = \"Year\"\nfig.update_yaxes(tickformat=\".0%\")\nfig.update_layout(legend=dict(yanchor=\"top\", y =0.99, xanchor=\"left\", x=0.01))\nfig.update_xaxes(range=[df['year'].iloc[window], df.year.max()])\nfig.show()\n```\n\n::: {#fig-stockbondsgold-timeseries .cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"73ac84a9-1fa6-4a20-bfa0-2df2de60a7a3\" class=\"plotly-graph-div\" style=\"height:525px; width:100%;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"73ac84a9-1fa6-4a20-bfa0-2df2de60a7a3\")) {                    Plotly.newPlot(                        \"73ac84a9-1fa6-4a20-bfa0-2df2de60a7a3\",                        [{\"customdata\":[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[1.4099719266491408,0.046503322520786136,0.2307975334167168,1.7355684930897735,-1.0128693490272764],[1.012865019952757,0.008183396812572791,0.25484492877389203,2.250633144359946,-1.5136614699464108],[2.00732492625296,0.12541391532025878,0.1942890578950731,1.329992611139757,-0.6496955843550888],[3.1009399165113494,0.05775710836342261,0.1873868494764471,1.6813424978409781,-0.9264864556808479],[3.9677782630901652,0.06395958498797982,0.17479824055479168,1.5244658478998674,-0.7632236734426388],[4.341457975263034,0.055045594258814744,0.1789013220953232,1.615628103802001,-0.8495750201561391],[3.7472080102638783,0.0689608717110558,0.17755330794766158,1.6625834146592964,-0.9090975943180137],[3.7616807387480344,0.24033315977121988,0.1294506232575883,2.021249906358892,-1.3910336893877002],[4.04577157064543,0.26974148100249074,0.12130156668121443,1.9425414721183636,-1.3335845198020688],[3.947983674859035,0.31640841620591936,0.11296398428293128,1.968019870960989,-1.3973922714498397],[4.030574534775872,0.34871083733731195,0.10440730453510959,1.8866271143800148,-1.3397452562524363],[3.6928842980417196,0.44808334097643054,0.07025444843815258,1.491961051540659,-1.010298840955242],[2.589807360124311,0.635323183262114,-0.2672680386306378,1.9448037320129075,-1.3128588766443836],[3.151426760515535,0.19590768795185826,-0.24583395053459556,1.906024357268239,-0.8560980946855015],[4.241781175324152,0.10753947854602805,-0.04960090367726805,1.7550518927534178,-0.8129904676221777],[5.480125773463104,0.008202389323230978,0.04369678975429137,1.578157513267793,-0.6300566923453153],[5.0908053738598245,-0.030656814837735163,-0.04884642571139247,1.8362382435736215,-0.7567350030244939],[4.104577679538397,-0.061920213426510363,-0.12690097312229956,2.104903067457292,-0.9160818809084822],[3.271179498625045,-0.05188856588980582,-0.11957047151703061,2.126759395455215,-0.9553003580483785],[3.741390346780664,-0.01775939320713223,-0.03172463170495073,1.8782838992430952,-0.8287998743310123],[6.189604191785139,0.03935933845027968,0.11567017812742549,1.1028984082150655,-0.25792792479277066],[5.290689268586941,0.013873089504448013,0.1385118136472898,0.6292989891014144,0.21831610774684793],[5.270785345159727,0.037509173374452365,0.13116005147406753,0.5304745522306422,0.3008562229208378],[5.633103807842017,0.05928027325492423,0.15164079471174902,0.47777219957563233,0.31130673245769447],[5.651090729659647,0.06302050403842971,0.14208833177111008,0.4841146857963628,0.3107764783940974],[5.632448614545141,0.07304475101850796,0.15588082661955485,0.4626569142524613,0.3084175081094759],[4.367782424987603,0.13398487783230323,0.0844534196377088,0.48613314355436754,0.29542855897562037],[5.861715973835471,0.13792476151946018,0.08506126389147169,0.42962699948041033,0.34738697510865785],[7.066310754362378,0.16291055414991817,0.024985391529780732,0.39067074616364833,0.4214333081566528],[6.467194850538277,0.1466045909322329,0.02629961168928322,0.4296828382920477,0.39741295908643626],[5.855102632455397,0.15849221089985913,-0.002216702405478597,0.44326764607271313,0.40045684543290627],[5.499648411613237,0.19585692952989459,-0.010658276586470651,0.34554663939614016,0.469254707660436],[7.435818445786068,0.1405005793500068,-0.03298848267359598,0.4112350872422656,0.48125281608132364],[7.515303457927409,0.12508981775177044,-0.05653442842661156,0.45183808599383934,0.4796065246810018]],\"hovertemplate\":\"Strategy: estimate all inputs <br>Year: %{x:4.0f}<br>Return: %{y:0.1%}<br>Weight in Risky Portfolio: %{customdata[0]: 0.1%} <br>Risky Portfolio Weights:<br>  S&P 500: %{customdata[1]: 0.1%} <br>  Gold: %{customdata[2]: 0.1%} <br>  Corporates: %{customdata[3]: 0.1%} <br>  Treasuries: %{customdata[4]: 0.1%} <br><extra></extra>\",\"name\":\"Tangency\",\"x\":[1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],\"y\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.18487677157001253,0.08447867787083516,-0.010318300777999945,0.3851055093471066,0.32971085123161537,0.686776318690607,0.06446896380326018,0.4938723221522268,0.37286437929763583,0.5385685765398345,0.049423289099540954,0.578170976841552,-0.29414977677945114,0.16234279605250365,0.18273270858102114,1.17686646808455,0.6661389619428365,0.11787071084225313,0.20167350069009873,-0.2556841524336425,-0.8022160667698232,0.8634151787315182,0.5828444020299484,0.7239547730087063,0.4274183869596161,-0.3001588437480773,0.4365323395207198,-0.03977804108760801,0.4390693189597641,0.5163375621591448,-0.20531673988927018,0.7954009265944846,0.8471002606681073,0.1522005672885271],\"type\":\"scatter\"},{\"customdata\":[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[1.7030509317179476,0.05856624456178898,0.12708502805960373,0.8641389537355061,-0.0497902263568988],[1.173960842443053,0.053563208089886585,0.1272039113435949,0.8684828013540778,-0.04924992078755936],[2.2743966505776707,0.07280789410325551,0.1380033794792532,0.8416290371403784,-0.05244031072288711],[3.0701874912768443,0.049981403637483934,0.14189328483912647,1.0369178724401704,-0.22879256091678077],[3.9166029647002256,0.041519248395579474,0.14451975534658898,1.0618362708610376,-0.24787527460320602],[4.022873059783723,0.04212121096568994,0.1544677806240235,1.1877875578382364,-0.38437654942794974],[3.3194681368657792,0.04018046302492034,0.15887911156400114,1.1918051492774648,-0.39086472386638627],[2.546252852695604,0.12491953892927743,0.1365773108999487,1.4207709808403257,-0.682267830669552],[3.0519809893479857,0.11515043516861388,0.1400620585509175,1.4905520021677077,-0.7457644958872391],[2.8981418000975823,0.15355991329305843,0.13069127583395207,1.5139432384674945,-0.798194427594505],[3.090061901978041,0.1409107142400258,0.13349422518343979,1.5742852717536975,-0.848690211177163],[2.9704178189907395,0.18324062471777547,0.11972713759243722,1.342294296787477,-0.6452620590976895],[1.8213365202655327,0.1725642430799847,0.21739687908456554,1.260172640734106,-0.6501337628986563],[2.605657960740277,0.02940000524915427,0.19161233781333256,1.2916200044583288,-0.5126323475208157],[4.078546117427235,0.06447499130093429,0.2721926781510079,1.1843176880393618,-0.5209853574913039],[4.992652994475884,0.048265645038689534,0.24400208459033465,1.1253566844118965,-0.4176244140409208],[4.419235373179666,0.011062216153727029,0.1700514649663423,1.1540426021174905,-0.3351562832375599],[3.525295219985533,0.013236939146349814,0.17272771232769402,1.143291386748664,-0.32925603822270794],[2.6273593997670925,0.03003460156625986,0.1735960536565478,1.0405082419937013,-0.24413889721650875],[3.2635750570950828,0.027944336827482253,0.18704731009495013,0.9009473935729737,-0.11593904049540611],[5.9745733697560786,0.030841741336634625,0.1871947183988712,0.8624104687591324,-0.08044692849463822],[5.396111376395351,0.011976735083996206,0.20276271215854572,0.5739628463238391,0.21129770643361906],[5.412510562551164,0.060130869101387346,0.1874911348414741,0.3779957038596512,0.3743822921974873],[5.910429766064413,0.0582206397361907,0.17328534492407952,0.4022785337640144,0.3662154815757153],[5.8103778431466555,0.07186169525465408,0.14899953480404818,0.4170966279545712,0.3620421419867266],[5.914386142740125,0.07265882992977424,0.14911520315405707,0.41810127254976653,0.36012469436640215],[4.648275440725614,0.10953010073596443,0.09046873411632815,0.4451079891316223,0.35489317601608505],[6.148034169331346,0.11909690735309915,0.09656262302648277,0.4027626507390779,0.3815778188813401],[7.442121500451067,0.15476654165022288,0.03320169083601824,0.3557919010042107,0.4562398665095482],[6.916310557416255,0.1494753452336578,0.033994481765242696,0.36614547591497215,0.45038469708612733],[6.971816472853757,0.1649988724726442,-0.02710032551647454,0.39166632942916735,0.4704351236146631],[7.32834919562518,0.2348335863827562,-0.04815877413890417,0.23273059543575916,0.5805945923203888],[8.949810207581695,0.16977047222684824,-0.06308723572871928,0.3328171876340637,0.5604995758678073],[10.201207746678728,0.12900891753595875,-0.12469613090557204,0.43672451621019037,0.5589626971594229]],\"hovertemplate\":\"Strategy: estimate covariance matrix only <br>Year: %{x:4.0f}<br>Return: %{y:0.1%}<br>Weight in Risky Portfolio: %{customdata[0]: 0.1%} <br>Risky Portfolio Weights:<br>  S&P 500: %{customdata[1]: 0.1%} <br>  Gold: %{customdata[2]: 0.1%} <br>  Corporates: %{customdata[3]: 0.1%} <br>  Treasuries: %{customdata[4]: 0.1%} <br><extra></extra>\",\"name\":\"GMV\",\"x\":[1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],\"y\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.15112332145873436,0.15310523883543153,0.0016994104515669073,0.3562052669413814,0.2945969670026905,0.5994832819934989,-0.05565159705270044,0.35850407044409915,0.1435384810226999,0.25825943733821527,0.016260896936744366,0.2183179953731242,-0.0840203084024695,0.13229237198625537,0.42592197390948217,1.0452348316448443,0.43352909887442365,0.19197404927337847,0.22460034761583328,0.15328225110966248,-0.45477848693392503,0.9082787609373482,0.6659888921237397,0.7702265993633465,0.41931355254134445,-0.32988541210188344,0.4590187311080747,-0.04756892407629655,0.4355749684065381,0.5296803164696425,-0.2382473485912429,1.0440112685212923,1.0087997946156488,0.2066805221520505],\"type\":\"scatter\"},{\"customdata\":[[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[null,null,null,null,null],[2.452078192158818,0.15264509241867735,0.027162089491821646,0.45503272222856594,0.36516009586093506],[1.6684190155777439,0.15160064353211283,0.026109404309477162,0.4536262075238826,0.36866374463452734],[2.675576047598323,0.144024855214343,0.025389229953264113,0.4639929190661241,0.3665929957662688],[3.6214582000325257,0.13861435963044338,0.024968591880176867,0.4620796055446029,0.3743374429447768],[4.4932022034655725,0.13468075965267814,0.02502766482399723,0.4633702688366203,0.3769213066867043],[4.380046722836678,0.13377312899051685,0.025393827122593075,0.4595833594855748,0.38124968440131524],[3.8147896406108357,0.1493085521064945,0.02808716751497279,0.4517863582317293,0.3708179221468034],[2.9975781053572135,0.20244526186711406,0.03045245047626193,0.4545133950110937,0.3125888926455303],[3.5072354984729026,0.209805954018741,0.03319465988996413,0.4533283408896904,0.30367104520160443],[3.2722662637560953,0.21100677395627593,0.033189280763728346,0.4560848469879017,0.2997190982920939],[3.5488621976591914,0.22198508094417943,0.03144891337703359,0.44553466020007676,0.3010313454787102],[3.7879964373698884,0.21568620240001926,0.031643323451939265,0.44828232196476225,0.3043881521832792],[2.4536024387722413,0.19100217987361892,0.14890095983975032,0.4175941458985023,0.24250271438812834],[4.072979234598706,0.15304010855474887,0.14515283832332315,0.4626747319311155,0.23913232119081249],[5.632867385649754,0.136031613122417,0.18473056864948745,0.44850758461635937,0.23073023361173614],[6.222270187944015,0.08983092951891598,0.1410948740895733,0.5149328573400432,0.25414133905146763],[6.255152539041093,0.08827376940980455,0.13346957945175486,0.5283644211135047,0.24989223002493585],[5.116325030378397,0.08694774958811066,0.14771516861781145,0.5232231540911442,0.24211392770293377],[3.6527199248979882,0.08110861740882133,0.12436467252566684,0.5473972274647392,0.24712948260077267],[4.080080010898267,0.0717227441422652,0.10446341044725808,0.57147702124858,0.2523368241618966],[7.674378870422307,0.06950046426298569,0.09220915004675212,0.5648562491072411,0.27343413658302107],[7.081282112984541,0.05709205155089358,0.12169450387546175,0.5275999790984192,0.29361346547522543],[6.09355772064298,0.06867318548684274,0.12650557138417498,0.5150525406539365,0.2897687024750458],[6.632034110324937,0.0705406492946058,0.11671217880452596,0.5218397098738078,0.2909074620270604],[6.807294414733575,0.07073204211619791,0.11997407626222445,0.5341637540070061,0.27513012761457156],[7.009460690560996,0.06971356341639467,0.1253784481636642,0.5345010396721939,0.27040694874774723],[5.901899617876238,0.0705789923885793,0.10284579675366284,0.5616130286581663,0.26496218219959145],[6.871483021138973,0.06557286702128767,0.09489652186411074,0.5703065797819866,0.2692240313326148],[6.317420016845127,0.06507942957208125,0.08119214086301327,0.5645765993444078,0.2891518302204977],[5.873000655455195,0.06656854094684535,0.08283991337688423,0.5637313869548628,0.2868601587214076],[5.2862685588676825,0.06896943413810919,0.09651909221154921,0.5546869945162823,0.27982447913405933],[4.715636520646068,0.07611370748438157,0.1014113378744536,0.5120310284783156,0.31044392616284927],[6.823959961836973,0.06956272277029837,0.09837021701503346,0.4909527879830848,0.34111427223158336],[7.670188790890231,0.06991429141082474,0.0976140911261165,0.4745588250376494,0.35791279242540935]],\"hovertemplate\":\"Strategy: estimate standard deviations only <br>Year: %{x:4.0f}<br>Return: %{y:0.1%}<br>Weight in Risky Portfolio: %{customdata[0]: 0.1%} <br>Risky Portfolio Weights:<br>  S&P 500: %{customdata[1]: 0.1%} <br>  Gold: %{customdata[2]: 0.1%} <br>  Corporates: %{customdata[3]: 0.1%} <br>  Treasuries: %{customdata[4]: 0.1%} <br><extra></extra>\",\"name\":\"Risk Parity\",\"x\":[1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],\"y\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.196912899233048,0.2527528862919845,-0.001674153266550335,0.5043448105920989,0.3309253484350017,0.5444517567038389,-0.2506398981667534,0.6116861035660841,0.12763835708199744,0.3640684821481064,0.38585614727689593,-0.038116754079083694,0.04495291037489941,0.031983526352564434,0.5108884078308829,0.7360412191161867,0.42576697782662504,0.18855263147215345,0.18815613321270752,0.19516823901545577,-0.05973761777354137,0.9743092213460132,0.6803282269489316,0.8419146122063244,0.5417604390612499,-0.3028233787371309,0.56586930754229,-0.0749373935462002,0.46058905604145756,0.46592050448778,-0.18562613486255414,0.6556860540610533,0.8551463439318437,0.033299057697175526],\"type\":\"scatter\"},{\"customdata\":[[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[null,0.25,0.25,0.25,0.25],[1.1338931630718665,0.25,0.25,0.25,0.25],[0.7554608701997606,0.25,0.25,0.25,0.25],[1.1831100671973414,0.25,0.25,0.25,0.25],[1.577821442228201,0.25,0.25,0.25,0.25],[1.9499608994532858,0.25,0.25,0.25,0.25],[1.9133566691420252,0.25,0.25,0.25,0.25],[1.7881787030584746,0.25,0.25,0.25,0.25],[1.5226079862398592,0.25,0.25,0.25,0.25],[1.8646337306326424,0.25,0.25,0.25,0.25],[1.7391873806376843,0.25,0.25,0.25,0.25],[1.849353444429517,0.25,0.25,0.25,0.25],[1.9744166671411867,0.25,0.25,0.25,0.25],[2.1951843358388485,0.25,0.25,0.25,0.25],[3.447051386141792,0.25,0.25,0.25,0.25],[4.859606257538297,0.25,0.25,0.25,0.25],[4.5300626834806135,0.25,0.25,0.25,0.25],[4.455327740133759,0.25,0.25,0.25,0.25],[3.699503447178843,0.25,0.25,0.25,0.25],[2.479406003823069,0.25,0.25,0.25,0.25],[2.5388940226432504,0.25,0.25,0.25,0.25],[4.603436108994639,0.25,0.25,0.25,0.25],[4.2935446638469825,0.25,0.25,0.25,0.25],[3.996304067201761,0.25,0.25,0.25,0.25],[4.304016665588516,0.25,0.25,0.25,0.25],[4.425601813872425,0.25,0.25,0.25,0.25],[4.574904118432369,0.25,0.25,0.25,0.25],[3.659598809413478,0.25,0.25,0.25,0.25],[4.063779967146082,0.25,0.25,0.25,0.25],[3.5848717920947024,0.25,0.25,0.25,0.25],[3.3775408198615375,0.25,0.25,0.25,0.25],[3.214116344227616,0.25,0.25,0.25,0.25],[3.044047945188719,0.25,0.25,0.25,0.25],[4.265016820265045,0.25,0.25,0.25,0.25],[4.806675676226254,0.25,0.25,0.25,0.25]],\"hovertemplate\":\"Strategy: equal weights <br>Year: %{x:4.0f}<br>Return: %{y:0.1%}<br>Weight in Risky Portfolio: %{customdata[0]: 0.1%} <br>Risky Portfolio Weights:<br>  S&P 500: %{customdata[1]: 0.1%} <br>  Gold: %{customdata[2]: 0.1%} <br>  Corporates: %{customdata[3]: 0.1%} <br>  Treasuries: %{customdata[4]: 0.1%} <br><extra></extra>\",\"name\":\"Equal Weights\",\"x\":[1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021],\"y\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.05962254735151154,0.1383068289767706,0.0064427593477521805,0.1798829079790692,0.08062902868166319,0.24985353863476095,-0.0786952767576075,0.2831779022039328,0.07077384254778211,0.1066609395037861,0.19337115073185235,0.027151432721199843,-0.010822785586834402,-0.057460889505357195,0.29397549038484816,0.6891166719144248,0.2878135432384096,0.19013993694752296,0.23094985833091572,0.25311228572981986,-0.257604314946275,0.7011126963951182,0.5890755122516041,0.45411558130972857,0.3806617771268458,-0.06853418805030463,0.314485492203302,-0.09769791912381301,0.2781004001337446,0.36616064382748137,-0.10843573310885042,0.5391368418817006,0.6787821905979289,0.2528523355363683],\"type\":\"scatter\"}],                        {\"template\":{\"data\":{\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"choropleth\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"choropleth\"}],\"contour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"contour\"}],\"contourcarpet\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"contourcarpet\"}],\"heatmap\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmap\"}],\"heatmapgl\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"heatmapgl\"}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"histogram2d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2d\"}],\"histogram2dcontour\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"histogram2dcontour\"}],\"mesh3d\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"type\":\"mesh3d\"}],\"parcoords\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"parcoords\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}],\"scatter\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter\"}],\"scatter3d\":[{\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatter3d\"}],\"scattercarpet\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattercarpet\"}],\"scattergeo\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergeo\"}],\"scattergl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattergl\"}],\"scattermapbox\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scattermapbox\"}],\"scatterpolar\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolar\"}],\"scatterpolargl\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterpolargl\"}],\"scatterternary\":[{\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"type\":\"scatterternary\"}],\"surface\":[{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"type\":\"surface\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}]},\"layout\":{\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"autotypenumbers\":\"strict\",\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]],\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]},\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"geo\":{\"bgcolor\":\"white\",\"lakecolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"showlakes\":true,\"showland\":true,\"subunitcolor\":\"white\"},\"hoverlabel\":{\"align\":\"left\"},\"hovermode\":\"closest\",\"mapbox\":{\"style\":\"light\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"gridwidth\":2,\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\"}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"ternary\":{\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"bgcolor\":\"#E5ECF6\",\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"title\":{\"x\":0.05},\"xaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2},\"yaxis\":{\"automargin\":true,\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"zerolinewidth\":2}}},\"yaxis\":{\"title\":{\"text\":\"Return\"},\"tickformat\":\".0%\"},\"xaxis\":{\"title\":{\"text\":\"Year\"},\"range\":[1988,2021]},\"legend\":{\"yanchor\":\"top\",\"y\":0.99,\"xanchor\":\"left\",\"x\":0.01}},                        {\"responsive\": true}                    ).then(function(){\n                            \nvar gd = document.getElementById('73ac84a9-1fa6-4a20-bfa0-2df2de60a7a3');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n\nReturns and weights of various strategies historically\n:::\n:::\n\n\n",
    "supporting": [
      "input_sensitivity_files\\figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n        <script type=\"text/javascript\">\n        window.PlotlyConfig = {MathJaxConfig: 'local'};\n        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\n        if (typeof require !== 'undefined') {\n        require.undef(\"plotly\");\n        requirejs.config({\n            paths: {\n                'plotly': ['https://cdn.plot.ly/plotly-2.9.0.min']\n            }\n        });\n        require(['plotly'], function(Plotly) {\n            window._Plotly = Plotly;\n        });\n        }\n        </script>\n        \n"
      ]
    }
  }
}